if(function(){var e=this,t=e._,n={},i=Array.prototype,o=Object.prototype,r=Function.prototype,s=i.push,a=i.slice,l=i.concat,c=o.toString,u=o.hasOwnProperty,d=i.forEach,h=i.map,p=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,_=i.some,v=i.indexOf,y=i.lastIndexOf,w=Array.isArray,b=Object.keys,k=r.bind,x=function(e){return e instanceof x?e:this instanceof x?void(this._wrapped=e):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.6.0";var E=x.each=x.forEach=function(e,t,i){if(null==e)return e;if(d&&e.forEach===d)e.forEach(t,i);else if(e.length===+e.length){for(var o=0,r=e.length;o<r;o++)if(t.call(i,e[o],o,e)===n)return}else{var s=x.keys(e);for(o=0,r=s.length;o<r;o++)if(t.call(i,e[s[o]],s[o],e)===n)return}return e};x.map=x.collect=function(e,t,n){var i=[];return null==e?i:h&&e.map===h?e.map(t,n):(E(e,(function(e,o,r){i.push(t.call(n,e,o,r))})),i)};var T="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,i){var o=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=x.bind(t,i)),o?e.reduce(t,n):e.reduce(t);if(E(e,(function(e,r,s){o?n=t.call(i,n,e,r,s):(n=e,o=!0)})),!o)throw new TypeError(T);return n},x.reduceRight=x.foldr=function(e,t,n,i){var o=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=x.bind(t,i)),o?e.reduceRight(t,n):e.reduceRight(t);var r=e.length;if(r!==+r){var s=x.keys(e);r=s.length}if(E(e,(function(a,l,c){l=s?s[--r]:--r,o?n=t.call(i,n,e[l],l,c):(n=e[l],o=!0)})),!o)throw new TypeError(T);return n},x.find=x.detect=function(e,t,n){var i;return M(e,(function(e,o,r){if(t.call(n,e,o,r))return i=e,!0})),i},x.filter=x.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(E(e,(function(e,o,r){t.call(n,e,o,r)&&i.push(e)})),i)},x.reject=function(e,t,n){return x.filter(e,(function(e,i,o){return!t.call(n,e,i,o)}),n)},x.every=x.all=function(e,t,i){t||(t=x.identity);var o=!0;return null==e?o:g&&e.every===g?e.every(t,i):(E(e,(function(e,r,s){if(!(o=o&&t.call(i,e,r,s)))return n})),!!o)};var M=x.some=x.any=function(e,t,i){t||(t=x.identity);var o=!1;return null==e?o:_&&e.some===_?e.some(t,i):(E(e,(function(e,r,s){if(o||(o=t.call(i,e,r,s)))return n})),!!o)};x.contains=x.include=function(e,t){return null!=e&&(v&&e.indexOf===v?-1!=e.indexOf(t):M(e,(function(e){return e===t})))},x.invoke=function(e,t){var n=a.call(arguments,2),i=x.isFunction(t);return x.map(e,(function(e){return(i?t:e[t]).apply(e,n)}))},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matches(t))},x.findWhere=function(e,t){return x.find(e,x.matches(t))},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var i=-1/0,o=-1/0;return E(e,(function(e,r,s){var a=t?t.call(n,e,r,s):e;a>o&&(i=e,o=a)})),i},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var i=1/0,o=1/0;return E(e,(function(e,r,s){var a=t?t.call(n,e,r,s):e;a<o&&(i=e,o=a)})),i},x.shuffle=function(e){var t,n=0,i=[];return E(e,(function(e){t=x.random(n++),i[n-1]=i[t],i[t]=e})),i},x.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))};var S=function(e){return null==e?x.identity:x.isFunction(e)?e:x.property(e)};x.sortBy=function(e,t,n){return t=S(t),x.pluck(x.map(e,(function(e,i,o){return{value:e,index:i,criteria:t.call(n,e,i,o)}})).sort((function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index})),"value")};var P=function(e){return function(t,n,i){var o={};return n=S(n),E(t,(function(r,s){var a=n.call(i,r,s,t);e(o,a,r)})),o}};x.groupBy=P((function(e,t,n){x.has(e,t)?e[t].push(n):e[t]=[n]})),x.indexBy=P((function(e,t,n){e[t]=n})),x.countBy=P((function(e,t){x.has(e,t)?e[t]++:e[t]=1})),x.sortedIndex=function(e,t,n,i){for(var o=(n=S(n)).call(i,t),r=0,s=e.length;r<s;){var a=r+s>>>1;n.call(i,e[a])<o?r=a+1:s=a}return r},x.toArray=function(e){return e?x.isArray(e)?a.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:t<0?[]:a.call(e,0,t)},x.initial=function(e,t,n){return a.call(e,0,e.length-(null==t||n?1:t))},x.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return a.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var C=function(e,t,n){return t&&x.every(e,x.isArray)?l.apply(n,e):(E(e,(function(e){x.isArray(e)||x.isArguments(e)?t?s.apply(n,e):C(e,t,n):n.push(e)})),n)};x.flatten=function(e,t){return C(e,t,[])},x.without=function(e){return x.difference(e,a.call(arguments,1))},x.partition=function(e,t){var n=[],i=[];return E(e,(function(e){(t(e)?n:i).push(e)})),[n,i]},x.uniq=x.unique=function(e,t,n,i){x.isFunction(t)&&(i=n,n=t,t=!1);var o=n?x.map(e,n,i):e,r=[],s=[];return E(o,(function(n,i){(t?i&&s[s.length-1]===n:x.contains(s,n))||(s.push(n),r.push(e[i]))})),r},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=a.call(arguments,1);return x.filter(x.uniq(e),(function(e){return x.every(t,(function(t){return x.contains(t,e)}))}))},x.difference=function(e){var t=l.apply(i,a.call(arguments,1));return x.filter(e,(function(e){return!x.contains(t,e)}))},x.zip=function(){for(var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;n<e;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(null==e)return{};for(var n={},i=0,o=e.length;i<o;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},x.indexOf=function(e,t,n){if(null==e)return-1;var i=0,o=e.length;if(n){if("number"!=typeof n)return e[i=x.sortedIndex(e,t)]===t?i:-1;i=n<0?Math.max(0,o+n):n}if(v&&e.indexOf===v)return e.indexOf(t,n);for(;i<o;i++)if(e[i]===t)return i;return-1},x.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(y&&e.lastIndexOf===y)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var o=i?n:e.length;o--;)if(e[o]===t)return o;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),o=0,r=new Array(i);o<i;)r[o++]=e,e+=n;return r};var O=function(){};x.bind=function(e,t){var n,i;if(k&&e.bind===k)return k.apply(e,a.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(a.call(arguments)));O.prototype=e.prototype;var o=new O;O.prototype=null;var r=e.apply(o,n.concat(a.call(arguments)));return Object(r)===r?r:o}},x.partial=function(e){var t=a.call(arguments,1);return function(){for(var n=0,i=t.slice(),o=0,r=i.length;o<r;o++)i[o]===x&&(i[o]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return e.apply(this,i)}},x.bindAll=function(e){var t=a.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,(function(t){e[t]=x.bind(e[t],e)})),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var i=t.apply(this,arguments);return x.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},x.delay=function(e,t){var n=a.call(arguments,2);return setTimeout((function(){return e.apply(null,n)}),t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(a.call(arguments,1)))},x.throttle=function(e,t,n){var i,o,r,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:x.now(),s=null,r=e.apply(i,o),i=o=null};return function(){var c=x.now();a||!1!==n.leading||(a=c);var u=t-(c-a);return i=this,o=arguments,u<=0?(clearTimeout(s),s=null,a=c,r=e.apply(i,o),i=o=null):s||!1===n.trailing||(s=setTimeout(l,u)),r}},x.debounce=function(e,t,n){var i,o,r,s,a,l=function(){var c=x.now()-s;c<t?i=setTimeout(l,t-c):(i=null,n||(a=e.apply(r,o),r=o=null))};return function(){r=this,o=arguments,s=x.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(a=e.apply(r,o),r=o=null),a}},x.once=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(this,arguments),e=null),t}},x.wrap=function(e,t){return x.partial(t,e)},x.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.keys=function(e){if(!x.isObject(e))return[];if(b)return b(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){for(var t=x.keys(e),n=t.length,i=new Array(n),o=0;o<n;o++)i[o]=e[t[o]];return i},x.pairs=function(e){for(var t=x.keys(e),n=t.length,i=new Array(n),o=0;o<n;o++)i[o]=[t[o],e[t[o]]];return i},x.invert=function(e){for(var t={},n=x.keys(e),i=0,o=n.length;i<o;i++)t[e[n[i]]]=n[i];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return E(a.call(arguments,1),(function(t){if(t)for(var n in t)e[n]=t[n]})),e},x.pick=function(e){var t={},n=l.apply(i,a.call(arguments,1));return E(n,(function(n){n in e&&(t[n]=e[n])})),t},x.omit=function(e){var t={},n=l.apply(i,a.call(arguments,1));for(var o in e)x.contains(n,o)||(t[o]=e[o]);return t},x.defaults=function(e){return E(a.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var H=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var o=c.call(e);if(o!=c.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var r=n.length;r--;)if(n[r]==e)return i[r]==t;var s=e.constructor,a=t.constructor;if(s!==a&&!(x.isFunction(s)&&s instanceof s&&x.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),i.push(t);var l=0,u=!0;if("[object Array]"==o){if(u=(l=e.length)==t.length)for(;l--&&(u=H(e[l],t[l],n,i)););}else{for(var d in e)if(x.has(e,d)&&(l++,!(u=x.has(t,d)&&H(e[d],t[d],n,i))))break;if(u){for(d in t)if(x.has(t,d)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};x.isEqual=function(e,t){return H(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=w||function(e){return"[object Array]"==c.call(e)},x.isObject=function(e){return e===Object(e)},E(["Arguments","Function","String","Number","Date","RegExp"],(function(e){x["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}})),x.isArguments(arguments)||(x.isArguments=function(e){return!(!e||!x.has(e,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(e){return"function"==typeof e}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"==c.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return u.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.property=function(e){return function(t){return t[e]}},x.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},x.times=function(e,t,n){for(var i=Array(Math.max(0,e)),o=0;o<e;o++)i[o]=t.call(n,o);return i},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=x.invert(I.escape);var A={escape:new RegExp("["+x.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(I.unescape).join("|")+")","g")};x.each(["escape","unescape"],(function(e){x[e]=function(t){return null==t?"":(""+t).replace(A[e],(function(t){return I[e][t]}))}})),x.result=function(e,t){if(null!=e){var n=e[t];return x.isFunction(n)?n.call(e):n}},x.mixin=function(e){E(x.functions(e),(function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),F.call(this,n.apply(x,e))}}))};var D=0;x.uniqueId=function(e){var t=++D+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var i;n=x.defaults({},n,x.templateSettings);var o=new RegExp([(n.escape||j).source,(n.interpolate||j).source,(n.evaluate||j).source].join("|")+"|$","g"),r=0,s="__p+='";e.replace(o,(function(t,n,i,o,a){return s+=e.slice(r,a).replace(z,(function(e){return"\\"+N[e]})),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),r=a+t.length,t})),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(e){throw e.source=s,e}if(t)return i(t,x);var a=function(e){return i.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),E(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=i[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],F.call(this,n)}})),E(["concat","join","slice"],(function(e){var t=i[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}})),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],(function(){return x}))}.call(this),function(e,t){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],(function(n,i,o){e.Backbone=t(e,o,n,i)}));else if("undefined"!=typeof exports){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,(function(e,t,n,i){var o=e.Backbone,r=[],s=r.slice;t.VERSION="1.1.2",t.$=i,t.noConflict=function(){return e.Backbone=o,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=t.Events={on:function(e,t,n){return c(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,i){if(!c(this,"once",e,[t,i])||!t)return this;var o=this,r=n.once((function(){o.off(e,r),t.apply(this,arguments)}));return r._callback=t,this.on(e,r,i)},off:function(e,t,i){var o,r,s,a,l,u,d,h;if(!this._events||!c(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events=void 0,this;for(l=0,u=(a=e?[e]:n.keys(this._events)).length;l<u;l++)if(e=a[l],s=this._events[e]){if(this._events[e]=o=[],t||i)for(d=0,h=s.length;d<h;d++)r=s[d],(t&&t!==r.callback&&t!==r.callback._callback||i&&i!==r.context)&&o.push(r);o.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&u(n,t),i&&u(i,arguments),this},stopListening:function(e,t,i){var o=this._listeningTo;if(!o)return this;var r=!t&&!i;for(var s in i||"object"!=typeof t||(i=this),e&&((o={})[e._listenId]=e),o)(e=o[s]).off(t,i,this),(r||n.isEmpty(e._events))&&delete this._listeningTo[s];return this}},l=/\s+/,c=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var o in n)e[t].apply(e,[o,n[o]].concat(i));return!1}if(l.test(n)){for(var r=n.split(l),s=0,a=r.length;s<a;s++)e[t].apply(e,[r[s]].concat(i));return!1}return!0},u=function(e,t){var n,i=-1,o=e.length,r=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<o;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<o;)(n=e[i]).callback.call(n.ctx,r);return;case 2:for(;++i<o;)(n=e[i]).callback.call(n.ctx,r,s);return;case 3:for(;++i<o;)(n=e[i]).callback.call(n.ctx,r,s,a);return;default:for(;++i<o;)(n=e[i]).callback.apply(n.ctx,t);return}};n.each({listenTo:"on",listenToOnce:"once"},(function(e,t){a[t]=function(t,i,o){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=n.uniqueId("l"))]=t,o||"object"!=typeof i||(o=this),t[e](i,o,this),this}})),a.bind=a.on,a.unbind=a.off,n.extend(t,a);var d=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(d.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var o,r,s,a,l,c,u,d;if(null==e)return this;if("object"==typeof e?(r=e,i=t):(r={})[e]=t,i||(i={}),!this._validate(r,i))return!1;for(o in s=i.unset,l=i.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),d=this.attributes,u=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]),r)t=r[o],n.isEqual(d[o],t)||a.push(o),n.isEqual(u[o],t)?delete this.changed[o]:this.changed[o]=t,s?delete d[o]:d[o]=t;if(!l){a.length&&(this._pending=i);for(var h=0,p=a.length;h<p;h++)this.trigger("change:"+a[h],this,d[a[h]],i)}if(c)return this;if(!l)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t,i=!1,o=this._changing?this._previousAttributes:this.attributes;for(var r in e)n.isEqual(o[r],t=e[r])||((i||(i={}))[r]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){void 0===(e=e?n.clone(e):{}).parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){if(!t.set(t.parse(n,e),e))return!1;i&&i(t,n,e),t.trigger("sync",t,n,e)},I(this,e),this.sync("read",this,e)},save:function(e,t,i){var o,r,s,a=this.attributes;if(null==e||"object"==typeof e?(o=e,i=t):(o={})[e]=t,i=n.extend({validate:!0},i),o&&!i.wait){if(!this.set(o,i))return!1}else if(!this._validate(o,i))return!1;o&&i.wait&&(this.attributes=n.extend({},a,o)),void 0===i.parse&&(i.parse=!0);var l=this,c=i.success;return i.success=function(e){l.attributes=a;var t=l.parse(e,i);if(i.wait&&(t=n.extend(o||{},t)),n.isObject(t)&&!l.set(t,i))return!1;c&&c(l,e,i),l.trigger("sync",l,e,i)},I(this,i),"patch"===(r=this.isNew()?"create":i.patch?"patch":"update")&&(i.attrs=o),s=this.sync(r,this,i),o&&i.wait&&(this.attributes=a),s},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,o=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&o(),i&&i(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;I(this,e);var r=this.sync("delete",this,e);return e.wait||o(),r},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||H();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1)}});n.each(["keys","values","pairs","invert","pick","omit"],(function(e){d.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}}));var h=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},p={add:!0,remove:!0,merge:!0},f={add:!0,remove:!1};n.extend(h.prototype,a,{model:d,initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,f))},remove:function(e,t){var i,o,r,s,a=!n.isArray(e);for(t||(t={}),i=0,o=(e=a?[e]:n.clone(e)).length;i<o;i++)(s=e[i]=this.get(e[i]))&&(delete this._byId[s.id],delete this._byId[s.cid],r=this.indexOf(s),this.models.splice(r,1),this.length--,t.silent||(t.index=r,s.trigger("remove",s,this,t)),this._removeReference(s,t));return a?e[0]:e},set:function(e,t){(t=n.defaults({},t,p)).parse&&(e=this.parse(e,t));var i,o,r,s,a,l,c,u=!n.isArray(e);e=u?e?[e]:[]:n.clone(e);var h=t.at,f=this.model,m=this.comparator&&null==h&&!1!==t.sort,g=n.isString(this.comparator)?this.comparator:null,_=[],v=[],y={},w=t.add,b=t.merge,k=t.remove,x=!(m||!w||!k)&&[];for(i=0,o=e.length;i<o;i++){if(r=(a=e[i]||{})instanceof d?s=a:a[f.prototype.idAttribute||"id"],l=this.get(r))k&&(y[l.cid]=!0),b&&(a=a===s?s.attributes:a,t.parse&&(a=l.parse(a,t)),l.set(a,t),m&&!c&&l.hasChanged(g)&&(c=!0)),e[i]=l;else if(w){if(!(s=e[i]=this._prepareModel(a,t)))continue;_.push(s),this._addReference(s,t)}s=l||s,!x||!s.isNew()&&y[s.id]||x.push(s),y[s.id]=!0}if(k){for(i=0,o=this.length;i<o;++i)y[(s=this.models[i]).cid]||v.push(s);v.length&&this.remove(v,t)}if(_.length||x&&x.length)if(m&&(c=!0),this.length+=_.length,null!=h)for(i=0,o=_.length;i<o;i++)this.models.splice(h+i,0,_[i]);else{x&&(this.models.length=0);var E=x||_;for(i=0,o=E.length;i<o;i++)this.models.push(E[i])}if(c&&this.sort({silent:!0}),!t.silent){for(i=0,o=_.length;i<o;i++)(s=_[i]).trigger("add",s,this,t);(c||x&&x.length)&&this.trigger("sort",this,t)}return u?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,o=this.models.length;i<o;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return s.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"]((function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0}))},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){void 0===(e=e?n.clone(e):{}).parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(n){var o=e.reset?"reset":"set";i[o](n,e),t&&t(i,n,e),i.trigger("sync",i,n,e)},I(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,o=t.success;return t.success=function(e,n){t.wait&&i.add(e,t),o&&o(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e;(t=t?n.clone(t):{}).collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_addReference:function(e,t){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});n.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"],(function(e){h.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}}));n.each(["groupBy","countBy","sortBy","indexBy"],(function(e){h.prototype[e]=function(t,i){var o=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,o,i)}}));var m=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,_)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},g=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName","events"];n.extend(m.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],!1!==n&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;for(var t in this.undelegateEvents(),e){var i=e[t];if(n.isFunction(i)||(i=this[e[t]]),i){var o=t.match(g),r=o[1],s=o[2];i=n.bind(i,this),r+=".delegateEvents"+this.cid,""===s?this.$el.on(r,i):this.$el.on(r,s,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className"));var i=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,o){var r=y[e];n.defaults(o||(o={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:r,dataType:"json"};if(o.url||(s.url=n.result(i,"url")||H()),null!=o.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(o.attrs||i.toJSON(o))),o.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),o.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){s.type="POST",o.emulateJSON&&(s.data._method=r);var a=o.beforeSend;o.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",r),a)return a.apply(this,arguments)}}"GET"===s.type||o.emulateJSON||(s.processData=!1),"PATCH"===s.type&&v&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=o.xhr=t.ajax(n.extend(s,o));return i.trigger("request",i,l,o),l};var v=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),y={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var w=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},b=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,x=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(w.prototype,a,{initialize:function(){},route:function(e,i,o){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(o=i,i=""),o||(o=this[i]);var r=this;return t.history.route(e,(function(n){var s=r._extractParameters(e,n);r.execute(o,s),r.trigger.apply(r,["route:"+i].concat(s)),r.trigger("route",i,s),t.history.trigger("route",r,i,s)})),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(E,"\\$&").replace(b,"(?:$1)?").replace(k,(function(e,t){return t?e:"([^/?]+)"})).replace(x,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,(function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null}))}});var T=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,S=/^\/+|\/+$/g,P=/msie [\w.]+/,C=/\/$/,O=/#.*$/;T.started=!1,n.extend(T.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(C,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(M,"")},start:function(e){if(T.started)throw new Error("Backbone.history has already been started");T.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),o=document.documentMode,r=P.exec(navigator.userAgent.toLowerCase())&&(!o||o<=7);if(this.root=("/"+this.root+"/").replace(S,"/"),r&&this._wantsHashChange){var s=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=s.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(M,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),T.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!T.started)return!1;t&&!0!==t||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(O,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new T;d.extend=h.extend=w.extend=m.extend=T.extend=function(e,t){var i,o=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return o.apply(this,arguments)},n.extend(i,o,t);var r=function(){this.constructor=i};return r.prototype=o.prototype,i.prototype=new r,e&&n.extend(i.prototype,e),i.__super__=o.prototype,i};var H=function(){throw new Error('A "url" property or function must be specified')},I=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}};return t})),
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
function(e,t){"object"==typeof exports&&exports?module.exports=t:"function"==typeof define&&define.amd?define(t):e.Mustache=t}(this,function(){var e={name:"mustache.js",version:"0.7.2",tags:["{{","}}"]};e.Scanner=p,e.Context=f,e.Writer=m;var t=/\s*/,n=/\s+/,i=/\S/,o=/\s*=/,r=/\s*\}/,s=/#|\^|\/|>|\{|&|=|!/,a=RegExp.prototype.test,l=Object.prototype.toString;function c(e){return!function(e,t){return a.call(e,t)}(i,e)}var u=Array.isArray||function(e){return"[object Array]"===l.call(e)};function d(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function p(e){this.string=e,this.tail=e,this.pos=0}function f(e,t){this.view=e,this.parent=t,this._cache={}}function m(){this.clearCache()}function g(e){return[new RegExp(d(e[0])+"\\s*"),new RegExp("\\s*"+d(e[1]))]}e.escape=function(e){return String(e).replace(/[&<>"'\/]/g,(function(e){return h[e]}))},p.prototype.eos=function(){return""===this.tail},p.prototype.scan=function(e){var t=this.tail.match(e);return t&&0===t.index?(this.tail=this.tail.substring(t[0].length),this.pos+=t[0].length,t[0]):""},p.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n),this.pos+=n}return t},f.make=function(e){return e instanceof f?e:new f(e)},f.prototype.push=function(e){return new f(e,this)},f.prototype.lookup=function(e){var t=this._cache[e];if(!t){if("."==e)t=this.view;else for(var n=this;n;){if(e.indexOf(".")>0){t=n.view;for(var i=e.split("."),o=0;t&&o<i.length;)t=t[i[o++]]}else t=n.view[e];if(null!=t)break;n=n.parent}this._cache[e]=t}return"function"==typeof t&&(t=t.call(this.view)),t},m.prototype.clearCache=function(){this._cache={},this._partialCache={}},m.prototype.compile=function(t,n){var i=this._cache[t];if(!i){var o=e.parse(t,n);i=this._cache[t]=this.compileTokens(o,t)}return i},m.prototype.compilePartial=function(e,t,n){var i=this.compile(t,n);return this._partialCache[e]=i,i},m.prototype.getPartial=function(e){return!(e in this._partialCache)&&this._loadPartial&&this.compilePartial(e,this._loadPartial(e)),this._partialCache[e]},m.prototype.compileTokens=function(t,n){var i=this;return function(o,r){if(r)if("function"==typeof r)i._loadPartial=r;else for(var s in r)i.compilePartial(s,r[s]);return function t(n,i,o,r){for(var s,a,l,c="",d=0,h=n.length;d<h;++d)switch(s=n[d],a=s[1],s[0]){case"#":if("object"==typeof(l=o.lookup(a)))if(u(l))for(var p=0,f=l.length;p<f;++p)c+=t(s[4],i,o.push(l[p]),r);else l&&(c+=t(s[4],i,o.push(l),r));else if("function"==typeof l){var m=null==r?null:r.slice(s[3],s[5]);null!=(l=l.call(o.view,m,(function(e){return i.render(e,o)})))&&(c+=l)}else l&&(c+=t(s[4],i,o,r));break;case"^":(!(l=o.lookup(a))||u(l)&&0===l.length)&&(c+=t(s[4],i,o,r));break;case">":"function"==typeof(l=i.getPartial(a))&&(c+=l(o));break;case"&":null!=(l=o.lookup(a))&&(c+=l);break;case"name":null!=(l=o.lookup(a))&&(c+=e.escape(l));break;case"text":c+=a}return c}(t,i,f.make(o),n)}},m.prototype.render=function(e,t,n){return this.compile(e)(t,n)},e.parse=function(i,a){if(i=i||"","string"==typeof(a=a||e.tags)&&(a=a.split(n)),2!==a.length)throw new Error("Invalid tags: "+a.join(", "));var l,u,h,f,m,_=g(a),v=new p(i),y=[],w=[],b=[],k=!1,x=!1;function E(){if(k&&!x)for(;b.length;)delete w[b.pop()];else b=[];k=!1,x=!1}for(;!v.eos();){if(l=v.pos,h=v.scanUntil(_[0]))for(var T=0,M=h.length;T<M;++T)c(f=h.charAt(T))?b.push(w.length):x=!0,w.push(["text",f,l,l+1]),l+=1,"\n"==f&&E();if(!v.scan(_[0]))break;if(k=!0,u=v.scan(s)||"name",v.scan(t),"="===u?(h=v.scanUntil(o),v.scan(o),v.scanUntil(_[1])):"{"===u?(h=v.scanUntil(new RegExp("\\s*"+d("}"+a[1]))),v.scan(r),v.scanUntil(_[1]),u="&"):h=v.scanUntil(_[1]),!v.scan(_[1]))throw new Error("Unclosed tag at "+v.pos);if(m=[u,h,l,v.pos],w.push(m),"#"===u||"^"===u)y.push(m);else if("/"===u){if(0===y.length)throw new Error('Unopened section "'+h+'" at '+l);var S;if((S=y.pop())[1]!==h)throw new Error('Unclosed section "'+S[1]+'" at '+l)}else if("name"===u||"{"===u||"&"===u)x=!0;else if("="===u){if(2!==(a=h.split(n)).length)throw new Error("Invalid tags at "+l+": "+a.join(", "));_=g(a)}}if(S=y.pop())throw new Error('Unclosed section "'+S[1]+'" at '+v.pos);return function(e){for(var t,n=[],i=n,o=[],r=0,s=e.length;r<s;++r)switch((t=e[r])[0]){case"#":case"^":o.push(t),i.push(t),i=t[4]=[];break;case"/":o.pop()[5]=t[2],i=o.length>0?o[o.length-1][4]:n;break;default:i.push(t)}return n}(w=function(e){for(var t,n,i=[],o=0,r=e.length;o<r;++o)(t=e[o])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(n=t,i.push(t)));return i}(w))};var _=new m;return e.clearCache=function(){return _.clearCache()},e.compile=function(e,t){return _.compile(e,t)},e.compilePartial=function(e,t,n){return _.compilePartial(e,t,n)},e.compileTokens=function(e,t){return _.compileTokens(e,t)},e.render=function(e,t,n){return _.render(e,t,n)},e.to_html=function(t,n,i,o){var r=e.render(t,n,i);if("function"!=typeof o)return r;o(r)},e}()),
/**
 * Timeago is a jQuery plugin that makes it easy to support automatically
 * updating fuzzy timestamps (e.g. "4 minutes ago" or "about 1 day ago").
 *
 * @name timeago
 * @version 1.4.1
 * @requires jQuery v1.2.3+
 * @author Ryan McGeary
 * @license MIT License - http://www.opensource.org/licenses/mit-license.php
 *
 * For usage and examples, visit:
 * http://timeago.yarp.com/
 *
 * Copyright (c) 2008-2013, Ryan McGeary (ryan -[at]- mcgeary [*dot*] org)
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}((function(e){e.timeago=function(t){return t instanceof Date?o(t):o("string"==typeof t?e.timeago.parse(t):"number"==typeof t?new Date(t):e.timeago.datetime(t))};var t=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(t){if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var n=this.settings.strings,i=n.prefixAgo,o=n.suffixAgo;if(this.settings.allowFuture&&t<0&&(i=n.prefixFromNow,o=n.suffixFromNow),!this.settings.allowPast&&t>=0)return this.settings.strings.inPast;var r=Math.abs(t)/1e3,s=r/60,a=s/60,l=a/24,c=l/365;function u(i,o){var r=e.isFunction(i)?i(o,t):i,s=n.numbers&&n.numbers[o]||o;return r.replace(/%d/i,s)}var d=r<45&&u(n.seconds,Math.round(r))||r<90&&u(n.minute,1)||s<45&&u(n.minutes,Math.round(s))||s<90&&u(n.hour,1)||a<24&&u(n.hours,Math.round(a))||a<42&&u(n.day,1)||l<30&&u(n.days,Math.round(l))||l<45&&u(n.month,1)||l<365&&u(n.months,Math.round(l/30))||c<1.5&&u(n.year,1)||u(n.years,Math.round(c)),h=n.wordSeparator||"";return void 0===n.wordSeparator&&(h=" "),e.trim([i,d,o].join(h))},parse:function(t){var n=e.trim(t);return n=(n=(n=(n=(n=n.replace(/\.\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2")).replace(/([\+\-]\d\d)$/," $100"),new Date(n)},datetime:function(n){var i=t.isTime(n)?e(n).attr("datetime"):e(n).attr("title");return t.parse(i)},isTime:function(t){return"time"===e(t).get(0).tagName.toLowerCase()}});var n={init:function(){var n=e.proxy(i,this);n();var o=t.settings;o.refreshMillis>0&&(this._timeagoInterval=setInterval(n,o.refreshMillis))},update:function(n){var o=t.parse(n);e(this).data("timeago",{datetime:o}),t.settings.localeTitle&&e(this).attr("title",o.toLocaleString()),i.apply(this)},updateFromDOM:function(){e(this).data("timeago",{datetime:t.parse(t.isTime(this)?e(this).attr("datetime"):e(this).attr("title"))}),i.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};function i(){if(!e.contains(document.documentElement,this))return e(this).timeago("dispose"),this;var n=function(n){if(!(n=e(n)).data("timeago")){n.data("timeago",{datetime:t.datetime(n)});var i=e.trim(n.text());t.settings.localeTitle?n.attr("title",n.data("timeago").datetime.toLocaleString()):!(i.length>0)||t.isTime(n)&&n.attr("title")||n.attr("title",i)}return n.data("timeago")}(this),i=t.settings;return isNaN(n.datetime)||(0==i.cutoff||Math.abs(r(n.datetime))<i.cutoff)&&e(this).text(o(n.datetime)),this}function o(e){return t.inWords(r(e))}function r(e){return(new Date).getTime()-e.getTime()}e.fn.timeago=function(e,t){var i=e?n[e]:n.init;if(!i)throw new Error("Unknown function name '"+e+"' for timeago");return this.each((function(){i.call(this,t)})),this},document.createElement("abbr"),document.createElement("time")})),jQuery.timeago.settings.locales={},jQuery.timeago.settings.locales["en-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",month:"1mo",months:"%dmo",year:"1yr",years:"%dyr",wordSeparator:" ",numbers:[]},jQuery.timeago.settings.locales["de-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"s",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1T.",days:"%dT.",month:"1Mt.",months:"%dMt.",year:"1J.",years:"%dJ.",wordSeparator:" ",numbers:[]},jQuery.timeago.settings.locales["fr-short"]={prefixAgo:"il y a",prefixFromNow:"d'ici",seconds:"moins d'une minute",minute:"une minute",minutes:"%d minutes",hour:"une heure",hours:"%d heures",day:"un jour",days:"%d jours",month:"un mois",months:"%d mois",year:"un an",years:"%d ans"},jQuery.timeago.settings.locales["pt-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",month:"1M",months:"%dM",year:"1a",years:"%da",wordSeparator:" ",numbers:[]},jQuery.timeago.settings.locales["es-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",month:"1me",months:"%dme",year:"1a",years:"%da",wordSeparator:" ",numbers:[]},jQuery.timeago.settings.locales.da={prefixAgo:"for",prefixFromNow:"om",suffixAgo:"siden",suffixFromNow:"",seconds:"mindre end et minut",minute:"ca. et minut",minutes:"%d minutter",hour:"ca. en time",hours:"ca. %d timer",day:"en dag",days:"%d dage",month:"ca. en måned",months:"%d måneder",year:"ca. et år",years:"%d år"},jQuery.timeago.settings.locales.de={prefixAgo:"vor",prefixFromNow:"in",suffixAgo:"",suffixFromNow:"",seconds:"wenigen Sekunden",minute:"etwa einer Minute",minutes:"%d Minuten",hour:"etwa einer Stunde",hours:"%d Stunden",day:"etwa einem Tag",days:"%d Tagen",month:"etwa einem Monat",months:"%d Monaten",year:"etwa einem Jahr",years:"%d Jahren"},jQuery.timeago.settings.locales.en={prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]},jQuery.timeago.settings.locales.es={prefixAgo:"hace",prefixFromNow:"dentro de",suffixAgo:"",suffixFromNow:"",seconds:"menos de un minuto",minute:"un minuto",minutes:"unos %d minutos",hour:"una hora",hours:"%d horas",day:"un día",days:"%d días",month:"un mes",months:"%d meses",year:"un año",years:"%d años"},jQuery.timeago.settings.locales.fi={prefixAgo:null,prefixFromNow:null,suffixAgo:"sitten",suffixFromNow:"tulevaisuudessa",seconds:"alle minuutti",minute:"minuutti",minutes:"%d minuuttia",hour:"tunti",hours:"%d tuntia",day:"päivä",days:"%d päivää",month:"kuukausi",months:"%d kuukautta",year:"vuosi",years:"%d vuotta"},jQuery.timeago.settings.locales.fr={prefixAgo:"il y a",prefixFromNow:"d'ici",seconds:"moins d'une minute",minute:"environ une minute",minutes:"environ %d minutes",hour:"environ une heure",hours:"environ %d heures",day:"environ un jour",days:"environ %d jours",month:"environ un mois",months:"environ %d mois",year:"un an",years:"%d ans"},jQuery.timeago.settings.locales.ja={prefixAgo:"",prefixFromNow:"今から",suffixAgo:"前",suffixFromNow:"後",seconds:"1 分未満",minute:"約 1 分",minutes:"%d 分",hour:"約 1 時間",hours:"約 %d 時間",day:"約 1 日",days:"約 %d 日",month:"約 1 ヶ月",months:"約 %d ヶ月",year:"約 1 年",years:"約 %d 年",wordSeparator:""},jQuery.timeago.settings.locales.nl={prefixAgo:null,prefixFromNow:"over",suffixAgo:"geleden",suffixFromNow:null,seconds:"minder dan een minuut",minute:"ongeveer een minuut",minutes:"%d minuten",hour:"ongeveer een uur",hours:"ongeveer %d uur",day:"een dag",days:"%d dagen",month:"ongeveer een maand",months:"%d maanden",year:"ongeveer een jaar",years:"%d jaar",wordSeparator:" ",numbers:[]},jQuery.timeago.settings.locales.no={prefixAgo:"for",prefixFromNow:"om",suffixAgo:"siden",suffixFromNow:"",seconds:"mindre enn et minutt",minute:"ca. et minutt",minutes:"%d minutter",hour:"ca. en time",hours:"ca. %d timer",day:"en dag",days:"%d dager",month:"ca. en måned",months:"%d måneder",year:"ca. et år",years:"%d år"},jQuery.timeago.settings.locales["pt-br"]={prefixAgo:"há",prefixFromNow:"em",suffixAgo:null,suffixFromNow:null,seconds:"alguns segundos",minute:"um minuto",minutes:"%d minutos",hour:"uma hora",hours:"%d horas",day:"um dia",days:"%d dias",month:"um mês",months:"%d meses",year:"um ano",years:"%d anos"},jQuery.timeago.settings.locales.pt={suffixAgo:"atrás",suffixFromNow:"a partir de agora",seconds:"menos de um minuto",minute:"cerca de um minuto",minutes:"%d minutos",hour:"cerca de uma hora",hours:"cerca de %d horas",day:"um dia",days:"%d dias",month:"cerca de um mês",months:"%d meses",year:"cerca de um ano",years:"%d anos"},jQuery.timeago.settings.locales.sv={prefixAgo:"för",prefixFromNow:"om",suffixAgo:"sedan",suffixFromNow:"",seconds:"mindre än en minut",minute:"ungefär en minut",minutes:"%d minuter",hour:"ungefär en timme",hours:"ungefär %d timmar",day:"en dag",days:"%d dagar",month:"ungefär en månad",months:"%d månader",year:"ungefär ett år",years:"%d år"},jQuery.timeago.settings.locales["zh-CN"]={prefixAgo:null,prefixFromNow:"从现在开始",suffixAgo:"之前",suffixFromNow:null,seconds:"不到1分钟",minute:"大约1分钟",minutes:"%d分钟",hour:"大约1小时",hours:"大约%d小时",day:"1天",days:"%d天",month:"大约1个月",months:"%d月",year:"大约1年",years:"%d年",numbers:[],wordSeparator:""},jQuery.timeago.settings.locales["zh-TW"]={prefixAgo:null,prefixFromNow:"從現在開始",suffixAgo:"之前",suffixFromNow:null,seconds:"不到1分鐘",minute:"大約1分鐘",minutes:"%d分鐘",hour:"大約1小時",hours:"%d小時",day:"大約1天",days:"%d天",month:"大約1個月",months:"%d個月",year:"大約1年",years:"%d年",numbers:[],wordSeparator:""},function(){function e(e,t){return t[plural=0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5]}jQuery.timeago.settings.locales.ar={prefixAgo:"منذ",prefixFromNow:"بعد",suffixAgo:null,suffixFromNow:null,second:function(t){return e(t,["أقل من ثانية","ثانية واحدة","ثانيتين","%d ثوانٍ","%d ثانية","%d ثانية"])},seconds:function(t){return e(t,["أقل من ثانية","ثانية واحدة","ثانيتين","%d ثوانٍ","%d ثانية","%d ثانية"])},minute:function(t){return e(t,["أقل من دقيقة","دقيقة واحدة","دقيقتين","%d دقائق","%d دقيقة","دقيقة"])},minutes:function(t){return e(t,["أقل من دقيقة","دقيقة واحدة","دقيقتين","%d دقائق","%d دقيقة","دقيقة"])},hour:function(t){return e(t,["أقل من ساعة","ساعة واحدة","ساعتين","%d ساعات","%d ساعة","%d ساعة"])},hours:function(t){return e(t,["أقل من ساعة","ساعة واحدة","ساعتين","%d ساعات","%d ساعة","%d ساعة"])},day:function(t){return e(t,["أقل من يوم","يوم واحد","يومين","%d أيام","%d يومًا","%d يوم"])},days:function(t){return e(t,["أقل من يوم","يوم واحد","يومين","%d أيام","%d يومًا","%d يوم"])},month:function(t){return e(t,["أقل من شهر","شهر واحد","شهرين","%d أشهر","%d شهرًا","%d شهر"])},months:function(t){return e(t,["أقل من شهر","شهر واحد","شهرين","%d أشهر","%d شهرًا","%d شهر"])},year:function(t){return e(t,["أقل من عام","عام واحد","%d عامين","%d أعوام","%d عامًا"])},years:function(t){return e(t,["أقل من عام","عام واحد","عامين","%d أعوام","%d عامًا","%d عام"])}}}(),jQuery.timeago.settings.locales.languages=[["da","Danish"],["de","German"],["en","English"],["es","Spanish"],["fi","Finnish"],["fr","French"],["ja","Japanese"],["nl","Dutch"],["no","Norwegian"],["pt-br","Brazilian Portuguese"],["pt","Portuguese"],["sv","Swedish"],["zh-CN","Simplified Chinese"],["zh-TW","Traditional Chinese"],["ar",""]],function(){function e(e,t,n){var i=e%10;return i>1&&i<5&&(e>20||e<10)?t:n}jQuery.timeago.settings.allowFuture=!0,jQuery.timeago.settings.locales.pl={prefixAgo:null,prefixFromNow:"za",suffixAgo:"temu",suffixFromNow:null,seconds:"mniej niż minutę",minute:"minutę",minutes:function(t){return e(t,"%d minuty","%d minut")},hour:"godzinę",hours:function(t){return e(t,"%d godziny","%d godzin")},day:"dzień",days:"%d dni",month:"miesiąc",months:function(t){return e(t,"%d miesiące","%d miesięcy")},year:"rok",years:function(t){return e(t,"%d lata","%d lat")}}}(),
/*!
 * jQuery Cookie Plugin
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
function(e){e.cookie=function(t,n,i){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(n))||null==n)){if(i=e.extend({},i),null==n&&(i.expires=-1),"number"==typeof i.expires){var o=i.expires,r=i.expires=new Date;r.setDate(r.getDate()+o)}return n=String(n),document.cookie=[encodeURIComponent(t),"=",i.raw?n:encodeURIComponent(n),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":"",i.SameSite?"; SameSite="+i.SameSite:""].join("")}for(var s,a=(i=n||{}).raw?function(e){return e}:decodeURIComponent,l=document.cookie.split("; "),c=0;s=l[c]&&l[c].split("=");c++)if(a(s[0])===t)return a(s[1]||"");return null}}(jQuery),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],(function(e){return t(e)})):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(0,(function(e){function t(e){this.$container,this.constraints=null,this.__$tooltip,this.__init(e)}function n(t,n){var i=!0;return e.each(t,(function(e,o){return void 0===n[e]||t[e]!==n[e]?(i=!1,!1):void 0})),i}function i(t){var n=t.attr("id"),i=n?s.window.document.getElementById(n):null;return i?i===t[0]:e.contains(s.window.document.body,t[0])}var o={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},r="undefined"!=typeof window?window:null,s={hasTouchCapability:!(!r||!("ontouchstart"in r||r.DocumentTouch&&r.document instanceof r.DocumentTouch||r.navigator.maxTouchPoints)),hasTransitions:function(){if(!r)return!1;var e=(r.document.body||r.document.documentElement).style,t="transition",n=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[t])return!0;t=t.charAt(0).toUpperCase()+t.substr(1);for(var i=0;i<n.length;i++)if("string"==typeof e[n[i]+t])return!0;return!1}(),IE:!1,semVer:"4.2.5",window:r},a=function(){this.__$emitterPrivate=e({}),this.__$emitterPublic=e({}),this.__instancesLatestArr=[],this.__plugins={},this._env=s};a.prototype={__bridge:function(t,n,i){if(!n[i]){var r=function(){};r.prototype=t;var s=new r;s.__init&&s.__init(n),e.each(t,(function(e,t){0!=e.indexOf("__")&&(n[e]?o.debug&&console.log("The "+e+" method of the "+i+" plugin conflicts with another plugin or native methods"):(n[e]=function(){return s[e].apply(s,Array.prototype.slice.apply(arguments))},n[e].bridged=s))})),n[i]=s}return this},__setWindow:function(e){return s.window=e,this},_getRuler:function(e){return new t(e)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(t){var n=this;if("string"==typeof t){var i=t,o=null;return i.indexOf(".")>0?o=n.__plugins[i]:e.each(n.__plugins,(function(e,t){return t.name.substring(t.name.length-i.length-1)=="."+i?(o=t,!1):void 0})),o}if(t.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return n.__plugins[t.name]=t,t.core&&n.__bridge(t.core,n,t.name),this},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},instances:function(t){var n=[];return e(t||".tooltipstered").each((function(){var t=e(this),i=t.data("tooltipster-ns");i&&e.each(i,(function(e,i){n.push(t.data(i))}))})),n},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(t){return e((t?t+" ":"")+".tooltipstered").toArray()},setDefaults:function(t){return e.extend(o,t),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},e.tooltipster=new a,e.Tooltipster=function(t,n){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=e({}),this.__$emitterPublic=e({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(t,n)},e.Tooltipster.prototype={__init:function(t,n){var i=this;if(i._$origin=e(t),i.__options=e.extend(!0,{},o,n),i.__optionsFormat(),!s.IE||s.IE>=i.__options.IEmin){var r=null;if(void 0===i._$origin.data("tooltipster-initialTitle")&&(void 0===(r=i._$origin.attr("title"))&&(r=null),i._$origin.data("tooltipster-initialTitle",r)),null!==i.__options.content)i.__contentSet(i.__options.content);else{var a,l=i._$origin.attr("data-tooltip-content");l&&(a=e(l)),a&&a[0]?i.__contentSet(a.first()):i.__contentSet(r)}i._$origin.removeAttr("title").addClass("tooltipstered"),i.__prepareOrigin(),i.__prepareGC(),e.each(i.__options.plugins,(function(e,t){i._plug(t)})),s.hasTouchCapability&&e(s.window.document.body).on("touchmove."+i.__namespace+"-triggerOpen",(function(e){i._touchRecordEvent(e)})),i._on("created",(function(){i.__prepareTooltip()}))._on("repositioned",(function(e){i.__lastPosition=e.position}))}else i.__options.disabled=!0},__contentInsert:function(){var e=this,t=e._$tooltip.find(".tooltipster-content"),n=e.__Content;return e._trigger({type:"format",content:e.__Content,format:function(e){n=e}}),e.__options.functionFormat&&(n=e.__options.functionFormat.call(e,e,{origin:e._$origin[0]},e.__Content)),"string"!=typeof n||e.__options.contentAsHTML?t.empty().append(n):t.text(n),e},__contentSet:function(t){return t instanceof e&&this.__options.contentCloning&&(t=t.clone(!0)),this.__Content=t,this._trigger({type:"updated",content:t}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var t=this,n=t._$origin,i=t._$origin.is("area");if(i){var o=t._$origin.parent().attr("name");n=e('img[usemap="#'+o+'"]')}var r=n[0].getBoundingClientRect(),a=e(s.window.document),l=e(s.window),c=n,u={available:{document:null,window:null},document:{size:{height:a.height(),width:a.width()}},window:{scroll:{left:s.window.scrollX||s.window.document.documentElement.scrollLeft,top:s.window.scrollY||s.window.document.documentElement.scrollTop},size:{height:l.height(),width:l.width()}},origin:{fixedLineage:!1,offset:{},size:{height:r.bottom-r.top,width:r.right-r.left},usemapImage:i?n[0]:null,windowOffset:{bottom:r.bottom,left:r.left,right:r.right,top:r.top}}};if(i){var d=t._$origin.attr("shape"),h=t._$origin.attr("coords");if(h&&(h=h.split(","),e.map(h,(function(e,t){h[t]=parseInt(e)}))),"default"!=d)switch(d){case"circle":var p=h[0],f=h[1],m=h[2],g=f-m,_=p-m;u.origin.size.height=2*m,u.origin.size.width=u.origin.size.height,u.origin.windowOffset.left+=_,u.origin.windowOffset.top+=g;break;case"rect":var v=h[0],y=h[1],w=h[2],b=h[3];u.origin.size.height=b-y,u.origin.size.width=w-v,u.origin.windowOffset.left+=v,u.origin.windowOffset.top+=y;break;case"poly":for(var k=0,x=0,E=0,T=0,M="even",S=0;S<h.length;S++){var P=h[S];"even"==M?(P>E&&(E=P,0===S&&(k=E)),k>P&&(k=P),M="odd"):(P>T&&(T=P,1==S&&(x=T)),x>P&&(x=P),M="even")}u.origin.size.height=T-x,u.origin.size.width=E-k,u.origin.windowOffset.left+=k,u.origin.windowOffset.top+=x}}for(t._trigger({type:"geometry",edit:function(e){u.origin.size.height=e.height,u.origin.windowOffset.left=e.left,u.origin.windowOffset.top=e.top,u.origin.size.width=e.width},geometry:{height:u.origin.size.height,left:u.origin.windowOffset.left,top:u.origin.windowOffset.top,width:u.origin.size.width}}),u.origin.windowOffset.right=u.origin.windowOffset.left+u.origin.size.width,u.origin.windowOffset.bottom=u.origin.windowOffset.top+u.origin.size.height,u.origin.offset.left=u.origin.windowOffset.left+u.window.scroll.left,u.origin.offset.top=u.origin.windowOffset.top+u.window.scroll.top,u.origin.offset.bottom=u.origin.offset.top+u.origin.size.height,u.origin.offset.right=u.origin.offset.left+u.origin.size.width,u.available.document={bottom:{height:u.document.size.height-u.origin.offset.bottom,width:u.document.size.width},left:{height:u.document.size.height,width:u.origin.offset.left},right:{height:u.document.size.height,width:u.document.size.width-u.origin.offset.right},top:{height:u.origin.offset.top,width:u.document.size.width}},u.available.window={bottom:{height:Math.max(u.window.size.height-Math.max(u.origin.windowOffset.bottom,0),0),width:u.window.size.width},left:{height:u.window.size.height,width:Math.max(u.origin.windowOffset.left,0)},right:{height:u.window.size.height,width:Math.max(u.window.size.width-Math.max(u.origin.windowOffset.right,0),0)},top:{height:Math.max(u.origin.windowOffset.top,0),width:u.window.size.width}};"html"!=c[0].tagName.toLowerCase();){if("fixed"==c.css("position")){u.origin.fixedLineage=!0;break}c=c.parent()}return u},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=e(s.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=e(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var t=this;return t.__options.selfDestruction?t.__garbageCollector=setInterval((function(){var n=(new Date).getTime();t.__touchEvents=e.grep(t.__touchEvents,(function(e,t){return n-e.time>6e4})),i(t._$origin)||t.close((function(){t.destroy()}))}),2e4):clearInterval(t.__garbageCollector),t},__prepareOrigin:function(){var e=this;if(e._$origin.off("."+e.__namespace+"-triggerOpen"),s.hasTouchCapability&&e._$origin.on("touchstart."+e.__namespace+"-triggerOpen touchend."+e.__namespace+"-triggerOpen touchcancel."+e.__namespace+"-triggerOpen",(function(t){e._touchRecordEvent(t)})),e.__options.triggerOpen.click||e.__options.triggerOpen.tap&&s.hasTouchCapability){var t="";e.__options.triggerOpen.click&&(t+="click."+e.__namespace+"-triggerOpen "),e.__options.triggerOpen.tap&&s.hasTouchCapability&&(t+="touchend."+e.__namespace+"-triggerOpen"),e._$origin.on(t,(function(t){e._touchIsMeaningfulEvent(t)&&e._open(t)}))}if(e.__options.triggerOpen.mouseenter||e.__options.triggerOpen.touchstart&&s.hasTouchCapability){t="";e.__options.triggerOpen.mouseenter&&(t+="mouseenter."+e.__namespace+"-triggerOpen "),e.__options.triggerOpen.touchstart&&s.hasTouchCapability&&(t+="touchstart."+e.__namespace+"-triggerOpen"),e._$origin.on(t,(function(t){!e._touchIsTouchEvent(t)&&e._touchIsEmulatedEvent(t)||(e.__pointerIsOverOrigin=!0,e._openShortly(t))}))}if(e.__options.triggerClose.mouseleave||e.__options.triggerClose.touchleave&&s.hasTouchCapability){t="";e.__options.triggerClose.mouseleave&&(t+="mouseleave."+e.__namespace+"-triggerOpen "),e.__options.triggerClose.touchleave&&s.hasTouchCapability&&(t+="touchend."+e.__namespace+"-triggerOpen touchcancel."+e.__namespace+"-triggerOpen"),e._$origin.on(t,(function(t){e._touchIsMeaningfulEvent(t)&&(e.__pointerIsOverOrigin=!1)}))}return e},__prepareTooltip:function(){var t=this,n=t.__options.interactive?"auto":"";return t._$tooltip.attr("id",t.__namespace).css({"pointer-events":n,zIndex:t.__options.zIndex}),e.each(t.__previousThemes,(function(e,n){t._$tooltip.removeClass(n)})),e.each(t.__options.theme,(function(e,n){t._$tooltip.addClass(n)})),t.__previousThemes=e.merge([],t.__options.theme),t},__scrollHandler:function(t){var n=this;if(n.__options.triggerClose.scroll)n._close(t);else if(i(n._$origin)&&i(n._$tooltip)){var o=null;if(t.target===s.window.document)n.__Geometry.origin.fixedLineage||n.__options.repositionOnScroll&&n.reposition(t);else{o=n.__geometry();var r=!1;if("fixed"!=n._$origin.css("position")&&n.__$originParents.each((function(t,n){var i=e(n),s=i.css("overflow-x"),a=i.css("overflow-y");if("visible"!=s||"visible"!=a){var l=n.getBoundingClientRect();if("visible"!=s&&(o.origin.windowOffset.left<l.left||o.origin.windowOffset.right>l.right))return r=!0,!1;if("visible"!=a&&(o.origin.windowOffset.top<l.top||o.origin.windowOffset.bottom>l.bottom))return r=!0,!1}return"fixed"!=i.css("position")&&void 0})),r)n._$tooltip.css("visibility","hidden");else if(n._$tooltip.css("visibility","visible"),n.__options.repositionOnScroll)n.reposition(t);else{var a=o.origin.offset.left-n.__Geometry.origin.offset.left,l=o.origin.offset.top-n.__Geometry.origin.offset.top;n._$tooltip.css({left:n.__lastPosition.coord.left+a,top:n.__lastPosition.coord.top+l})}}n._trigger({type:"scroll",event:t,geo:o})}return n},__stateSet:function(e){return this.__state=e,this._trigger({type:"state",state:e}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,e.each(this.__timeouts.close,(function(e,t){clearTimeout(t)})),this.__timeouts.close=[],this},__trackerStart:function(){var e=this,t=e._$tooltip.find(".tooltipster-content");return e.__options.trackTooltip&&(e.__contentBcr=t[0].getBoundingClientRect()),e.__tracker=setInterval((function(){if(i(e._$origin)&&i(e._$tooltip)){if(e.__options.trackOrigin){var o=e.__geometry(),r=!1;n(o.origin.size,e.__Geometry.origin.size)&&(e.__Geometry.origin.fixedLineage?n(o.origin.windowOffset,e.__Geometry.origin.windowOffset)&&(r=!0):n(o.origin.offset,e.__Geometry.origin.offset)&&(r=!0)),r||(e.__options.triggerClose.mouseleave?e._close():e.reposition())}if(e.__options.trackTooltip){var s=t[0].getBoundingClientRect();s.height===e.__contentBcr.height&&s.width===e.__contentBcr.width||(e.reposition(),e.__contentBcr=s)}}else e._close()}),e.__options.trackerInterval),e},_close:function(t,n,i){var o=this,r=!0;if(o._trigger({type:"close",event:t,stop:function(){r=!1}}),r||i){n&&o.__callbacks.close.push(n),o.__callbacks.open=[],o.__timeoutsClear();var a=function(){e.each(o.__callbacks.close,(function(e,n){n.call(o,o,{event:t,origin:o._$origin[0]})})),o.__callbacks.close=[]};if("closed"!=o.__state){var l=!0,c=(new Date).getTime()+o.__options.animationDuration[1];if("disappearing"==o.__state&&c>o.__closingTime&&o.__options.animationDuration[1]>0&&(l=!1),l){o.__closingTime=c,"disappearing"!=o.__state&&o.__stateSet("disappearing");var u=function(){clearInterval(o.__tracker),o._trigger({type:"closing",event:t}),o._$tooltip.off("."+o.__namespace+"-triggerClose").removeClass("tooltipster-dying"),e(s.window).off("."+o.__namespace+"-triggerClose"),o.__$originParents.each((function(t,n){e(n).off("scroll."+o.__namespace+"-triggerClose")})),o.__$originParents=null,e(s.window.document.body).off("."+o.__namespace+"-triggerClose"),o._$origin.off("."+o.__namespace+"-triggerClose"),o._off("dismissable"),o.__stateSet("closed"),o._trigger({type:"after",event:t}),o.__options.functionAfter&&o.__options.functionAfter.call(o,o,{event:t,origin:o._$origin[0]}),a()};s.hasTransitions?(o._$tooltip.css({"-moz-animation-duration":o.__options.animationDuration[1]+"ms","-ms-animation-duration":o.__options.animationDuration[1]+"ms","-o-animation-duration":o.__options.animationDuration[1]+"ms","-webkit-animation-duration":o.__options.animationDuration[1]+"ms","animation-duration":o.__options.animationDuration[1]+"ms","transition-duration":o.__options.animationDuration[1]+"ms"}),o._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),o.__options.animationDuration[1]>0&&o._$tooltip.delay(o.__options.animationDuration[1]),o._$tooltip.queue(u)):o._$tooltip.stop().fadeOut(o.__options.animationDuration[1],u)}}else a()}return o},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(t,n){var o=this;if(!o.__destroying&&i(o._$origin)&&o.__enabled){var r=!0;if("closed"==o.__state&&(o._trigger({type:"before",event:t,stop:function(){r=!1}}),r&&o.__options.functionBefore&&(r=o.__options.functionBefore.call(o,o,{event:t,origin:o._$origin[0]}))),!1!==r&&null!==o.__Content){n&&o.__callbacks.open.push(n),o.__callbacks.close=[],o.__timeoutsClear();var a,l=function(){"stable"!=o.__state&&o.__stateSet("stable"),e.each(o.__callbacks.open,(function(e,t){t.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})})),o.__callbacks.open=[]};if("closed"!==o.__state)a=0,"disappearing"===o.__state?(o.__stateSet("appearing"),s.hasTransitions?(o._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(l)):o._$tooltip.stop().fadeIn(l)):"stable"==o.__state&&l();else{if(o.__stateSet("appearing"),a=o.__options.animationDuration[0],o.__contentInsert(),o.reposition(t,!0),s.hasTransitions?(o._$tooltip.addClass("tooltipster-"+o.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":o.__options.animationDuration[0]+"ms","-ms-animation-duration":o.__options.animationDuration[0]+"ms","-o-animation-duration":o.__options.animationDuration[0]+"ms","-webkit-animation-duration":o.__options.animationDuration[0]+"ms","animation-duration":o.__options.animationDuration[0]+"ms","transition-duration":o.__options.animationDuration[0]+"ms"}),setTimeout((function(){"closed"!=o.__state&&(o._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(l))}),0)):o._$tooltip.css("display","none").fadeIn(o.__options.animationDuration[0],l),o.__trackerStart(),e(s.window).on("resize."+o.__namespace+"-triggerClose",(function(t){var n=e(document.activeElement);(n.is("input")||n.is("textarea"))&&e.contains(o._$tooltip[0],n[0])||o.reposition(t)})).on("scroll."+o.__namespace+"-triggerClose",(function(e){o.__scrollHandler(e)})),o.__$originParents=o._$origin.parents(),o.__$originParents.each((function(t,n){e(n).on("scroll."+o.__namespace+"-triggerClose",(function(e){o.__scrollHandler(e)}))})),o.__options.triggerClose.mouseleave||o.__options.triggerClose.touchleave&&s.hasTouchCapability){o._on("dismissable",(function(e){e.dismissable?e.delay?(h=setTimeout((function(){o._close(e.event)}),e.delay),o.__timeouts.close.push(h)):o._close(e):clearTimeout(h)}));var c=o._$origin,u="",d="",h=null;o.__options.interactive&&(c=c.add(o._$tooltip)),o.__options.triggerClose.mouseleave&&(u+="mouseenter."+o.__namespace+"-triggerClose ",d+="mouseleave."+o.__namespace+"-triggerClose "),o.__options.triggerClose.touchleave&&s.hasTouchCapability&&(u+="touchstart."+o.__namespace+"-triggerClose",d+="touchend."+o.__namespace+"-triggerClose touchcancel."+o.__namespace+"-triggerClose"),c.on(d,(function(e){if(o._touchIsTouchEvent(e)||!o._touchIsEmulatedEvent(e)){var t="mouseleave"==e.type?o.__options.delay:o.__options.delayTouch;o._trigger({delay:t[1],dismissable:!0,event:e,type:"dismissable"})}})).on(u,(function(e){!o._touchIsTouchEvent(e)&&o._touchIsEmulatedEvent(e)||o._trigger({dismissable:!1,event:e,type:"dismissable"})}))}o.__options.triggerClose.originClick&&o._$origin.on("click."+o.__namespace+"-triggerClose",(function(e){o._touchIsTouchEvent(e)||o._touchIsEmulatedEvent(e)||o._close(e)})),(o.__options.triggerClose.click||o.__options.triggerClose.tap&&s.hasTouchCapability)&&setTimeout((function(){if("closed"!=o.__state){var t="",n=e(s.window.document.body);o.__options.triggerClose.click&&(t+="click."+o.__namespace+"-triggerClose "),o.__options.triggerClose.tap&&s.hasTouchCapability&&(t+="touchend."+o.__namespace+"-triggerClose"),n.on(t,(function(t){o._touchIsMeaningfulEvent(t)&&(o._touchRecordEvent(t),o.__options.interactive&&e.contains(o._$tooltip[0],t.target)||o._close(t))})),o.__options.triggerClose.tap&&s.hasTouchCapability&&n.on("touchstart."+o.__namespace+"-triggerClose",(function(e){o._touchRecordEvent(e)}))}}),0),o._trigger("ready"),o.__options.functionReady&&o.__options.functionReady.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}if(o.__options.timer>0){h=setTimeout((function(){o._close()}),o.__options.timer+a);o.__timeouts.close.push(h)}}}return o},_openShortly:function(e){var t=this,n=!0;if("stable"!=t.__state&&"appearing"!=t.__state&&!t.__timeouts.open&&(t._trigger({type:"start",event:e,stop:function(){n=!1}}),n)){var i=0==e.type.indexOf("touch")?t.__options.delayTouch:t.__options.delay;i[0]?t.__timeouts.open=setTimeout((function(){t.__timeouts.open=null,t.__pointerIsOverOrigin&&t._touchIsMeaningfulEvent(e)?(t._trigger("startend"),t._open(e)):t._trigger("startcancel")}),i[0]):(t._trigger("startend"),t._open(e))}return t},_optionsExtract:function(t,n){var i=this,o=e.extend(!0,{},n),r=i.__options[t];return r||(r={},e.each(n,(function(e,t){var n=i.__options[e];void 0!==n&&(r[e]=n)}))),e.each(o,(function(t,n){void 0!==r[t]&&("object"!=typeof n||n instanceof Array||null==n||"object"!=typeof r[t]||r[t]instanceof Array||null==r[t]?o[t]=r[t]:e.extend(o[t],r[t]))})),o},_plug:function(t){var n=e.tooltipster._plugin(t);if(!n)throw new Error('The "'+t+'" plugin is not defined');return n.instance&&e.tooltipster.__bridge(n.instance,this,n.name),this},_touchIsEmulatedEvent:function(e){for(var t=!1,n=(new Date).getTime(),i=this.__touchEvents.length-1;i>=0;i--){var o=this.__touchEvents[i];if(!(n-o.time<500))break;o.target===e.target&&(t=!0)}return t},_touchIsMeaningfulEvent:function(e){return this._touchIsTouchEvent(e)&&!this._touchSwiped(e.target)||!this._touchIsTouchEvent(e)&&!this._touchIsEmulatedEvent(e)},_touchIsTouchEvent:function(e){return 0==e.type.indexOf("touch")},_touchRecordEvent:function(e){return this._touchIsTouchEvent(e)&&(e.time=(new Date).getTime(),this.__touchEvents.push(e)),this},_touchSwiped:function(e){for(var t=!1,n=this.__touchEvents.length-1;n>=0;n--){var i=this.__touchEvents[n];if("touchmove"==i.type){t=!0;break}if("touchstart"==i.type&&e===i.target)break}return t},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),t[0].instance=this,t[0].origin=this._$origin?this._$origin[0]:null,t[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),e.tooltipster._trigger.apply(e.tooltipster,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},_unplug:function(t){var n=this;if(n[t]){var i=e.tooltipster._plugin(t);i.instance&&e.each(i.instance,(function(e,i){n[e]&&n[e].bridged===n[t]&&delete n[e]})),n[t].__destroy&&n[t].__destroy(),delete n[t]}return n},close:function(e){return this.__destroyed?this.__destroyError():this._close(null,e),this},content:function(e){var t=this;if(void 0===e)return t.__Content;if(t.__destroyed)t.__destroyError();else if(t.__contentSet(e),null!==t.__Content){if("closed"!==t.__state&&(t.__contentInsert(),t.reposition(),t.__options.updateAnimation))if(s.hasTransitions){var n=t.__options.updateAnimation;t._$tooltip.addClass("tooltipster-update-"+n),setTimeout((function(){"closed"!=t.__state&&t._$tooltip.removeClass("tooltipster-update-"+n)}),1e3)}else t._$tooltip.fadeTo(200,.5,(function(){"closed"!=t.__state&&t._$tooltip.fadeTo(200,1)}))}else t._close();return t},destroy:function(){var t=this;if(t.__destroyed)t.__destroyError();else{"closed"!=t.__state?t.option("animationDuration",0)._close(null,null,!0):t.__timeoutsClear(),t._trigger("destroy"),t.__destroyed=!0,t._$origin.removeData(t.__namespace).off("."+t.__namespace+"-triggerOpen"),e(s.window.document.body).off("."+t.__namespace+"-triggerOpen");var n=t._$origin.data("tooltipster-ns");if(n)if(1===n.length){var i=null;"previous"==t.__options.restoration?i=t._$origin.data("tooltipster-initialTitle"):"current"==t.__options.restoration&&(i="string"==typeof t.__Content?t.__Content:e("<div></div>").append(t.__Content).html()),i&&t._$origin.attr("title",i),t._$origin.removeClass("tooltipstered"),t._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=e.grep(n,(function(e,n){return e!==t.__namespace})),t._$origin.data("tooltipster-ns",n);t._trigger("destroyed"),t._off(),t.off(),t.__Content=null,t.__$emitterPrivate=null,t.__$emitterPublic=null,t.__options.parent=null,t._$origin=null,t._$tooltip=null,e.tooltipster.__instancesLatestArr=e.grep(e.tooltipster.__instancesLatestArr,(function(e,n){return t!==e})),clearInterval(t.__garbageCollector)}return t},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(e){return this.close(e)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(e){return this.__destroyed?this.__destroyError():this._open(null,e),this},option:function(t,n){return void 0===n?this.__options[t]:(this.__destroyed?this.__destroyError():(this.__options[t]=n,this.__optionsFormat(),e.inArray(t,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===t&&this.__prepareGC()),this)},reposition:function(e,t){var n=this;return n.__destroyed?n.__destroyError():"closed"!=n.__state&&i(n._$origin)&&(t||i(n._$tooltip))&&(t||n._$tooltip.detach(),n.__Geometry=n.__geometry(),n._trigger({type:"reposition",event:e,helper:{geo:n.__Geometry}})),n},show:function(e){return this.open(e)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},e.fn.tooltipster=function(){var t=Array.prototype.slice.apply(arguments),n="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof t[0]){var i="#*$~&";return this.each((function(){var o=e(this).data("tooltipster-ns"),r=o?e(this).data(o[0]):null;if(!r)throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element');if("function"!=typeof r[t[0]])throw new Error('Unknown method "'+t[0]+'"');this.length>1&&"content"==t[0]&&(t[1]instanceof e||"object"==typeof t[1]&&null!=t[1]&&t[1].tagName)&&!r.__options.contentCloning&&r.__options.debug&&console.log(n);var s=r[t[0]](t[1],t[2]);return s!==r||"instance"===t[0]?(i=s,!1):void 0})),"#*$~&"!==i?i:this}e.tooltipster.__instancesLatestArr=[];var r=t[0]&&void 0!==t[0].multiple,s=r&&t[0].multiple||!r&&o.multiple,a=t[0]&&void 0!==t[0].content,l=a&&t[0].content||!a&&o.content,c=t[0]&&void 0!==t[0].contentCloning,u=c&&t[0].contentCloning||!c&&o.contentCloning,d=t[0]&&void 0!==t[0].debug,h=d&&t[0].debug||!d&&o.debug;return this.length>1&&(l instanceof e||"object"==typeof l&&null!=l&&l.tagName)&&!u&&h&&console.log(n),this.each((function(){var n=!1,i=e(this),o=i.data("tooltipster-ns"),r=null;o?s?n=!0:h&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):n=!0,n&&(r=new e.Tooltipster(this,t[0]),o||(o=[]),o.push(r.__namespace),i.data("tooltipster-ns",o),i.data(r.__namespace,r),r.__options.functionInit&&r.__options.functionInit.call(r,r,{origin:this}),r._trigger("init")),e.tooltipster.__instancesLatestArr.push(r)})),this},t.prototype={__init:function(t){this.__$tooltip=t,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=e('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(s.window.document.body)},__forceRedraw:function(){var e=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(e)},constrain:function(e,t){return this.constraints={width:e,height:t},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:e}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var e=this.__$tooltip[0].getBoundingClientRect(),t={size:{height:e.height||e.bottom-e.top,width:e.width||e.right-e.left}};if(this.constraints){var n=this.__$tooltip.find(".tooltipster-content"),i=this.__$tooltip.outerHeight(),o=n[0].getBoundingClientRect(),r={height:i<=this.constraints.height,width:e.width<=this.constraints.width&&o.width>=n[0].scrollWidth-1};t.fits=r.height&&r.width}return s.IE&&s.IE<=11&&t.size.width!==s.window.document.documentElement.clientWidth&&(t.size.width=Math.ceil(t.size.width)+1),t}};var l=navigator.userAgent.toLowerCase();-1!=l.indexOf("msie")?s.IE=parseInt(l.split("msie")[1]):-1!==l.toLowerCase().indexOf("trident")&&-1!==l.indexOf(" rv:11")?s.IE=11:-1!=l.toLowerCase().indexOf("edge/")&&(s.IE=parseInt(l.toLowerCase().split("edge/")[1]));var c="tooltipster.sideTip";return e.tooltipster._plugin({name:c,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(e){var t=this;t.__instance=e,t.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),t.__previousState="closed",t.__options,t.__optionsFormat(),t.__instance._on("state."+t.__namespace,(function(e){"closed"==e.state?t.__close():"appearing"==e.state&&"closed"==t.__previousState&&t.__create(),t.__previousState=e.state})),t.__instance._on("options."+t.__namespace,(function(){t.__optionsFormat()})),t.__instance._on("reposition."+t.__namespace,(function(e){t.__reposition(e.event,e.helper)}))},__close:function(){this.__instance.content()instanceof e&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var t=e('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||t.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&t.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&t.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=t,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var t=this;if(t.__options=t.__instance._optionsExtract(c,t.__defaults()),t.__options.position&&(t.__options.side=t.__options.position),"object"!=typeof t.__options.distance&&(t.__options.distance=[t.__options.distance]),t.__options.distance.length<4&&(void 0===t.__options.distance[1]&&(t.__options.distance[1]=t.__options.distance[0]),void 0===t.__options.distance[2]&&(t.__options.distance[2]=t.__options.distance[0]),void 0===t.__options.distance[3]&&(t.__options.distance[3]=t.__options.distance[1]),t.__options.distance={top:t.__options.distance[0],right:t.__options.distance[1],bottom:t.__options.distance[2],left:t.__options.distance[3]}),"string"==typeof t.__options.side){t.__options.side=[t.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[t.__options.side]],"left"==t.__options.side[0]||"right"==t.__options.side[0]?t.__options.side.push("top","bottom"):t.__options.side.push("right","left")}6===e.tooltipster._env.IE&&!0!==t.__options.arrow&&(t.__options.arrow=!1)},__reposition:function(t,n){var i,o=this,r=o.__targetFind(n),s=[];o.__instance._$tooltip.detach();var a=o.__instance._$tooltip.clone(),l=e.tooltipster._getRuler(a),c=!1,u=o.__instance.option("animation");switch(u&&a.removeClass("tooltipster-"+u),e.each(["window","document"],(function(i,u){var d=null;if(o.__instance._trigger({container:u,helper:n,satisfied:c,takeTest:function(e){d=e},results:s,type:"positionTest"}),1==d||0!=d&&0==c&&("window"!=u||o.__options.viewportAware))for(i=0;i<o.__options.side.length;i++){var h={horizontal:0,vertical:0},p=o.__options.side[i];"top"==p||"bottom"==p?h.vertical=o.__options.distance[p]:h.horizontal=o.__options.distance[p],o.__sideChange(a,p),e.each(["natural","constrained"],(function(e,i){if(d=null,o.__instance._trigger({container:u,event:t,helper:n,mode:i,results:s,satisfied:c,side:p,takeTest:function(e){d=e},type:"positionTest"}),1==d||0!=d&&0==c){var a={container:u,distance:h,fits:null,mode:i,outerSize:null,side:p,size:null,target:r[p],whole:null},f=("natural"==i?l.free():l.constrain(n.geo.available[u][p].width-h.horizontal,n.geo.available[u][p].height-h.vertical)).measure();if(a.size=f.size,a.outerSize={height:f.size.height+h.vertical,width:f.size.width+h.horizontal},"natural"==i?n.geo.available[u][p].width>=a.outerSize.width&&n.geo.available[u][p].height>=a.outerSize.height?a.fits=!0:a.fits=!1:a.fits=f.fits,"window"==u&&(a.fits?a.whole="top"==p||"bottom"==p?n.geo.origin.windowOffset.right>=o.__options.minIntersection&&n.geo.window.size.width-n.geo.origin.windowOffset.left>=o.__options.minIntersection:n.geo.origin.windowOffset.bottom>=o.__options.minIntersection&&n.geo.window.size.height-n.geo.origin.windowOffset.top>=o.__options.minIntersection:a.whole=!1),s.push(a),a.whole)c=!0;else if("natural"==a.mode&&(a.fits||a.size.width<=n.geo.available[u][p].width))return!1}}))}})),o.__instance._trigger({edit:function(e){s=e},event:t,helper:n,results:s,type:"positionTested"}),s.sort((function(e,t){if(e.whole&&!t.whole)return-1;if(!e.whole&&t.whole)return 1;if(e.whole&&t.whole){var n=o.__options.side.indexOf(e.side);return(i=o.__options.side.indexOf(t.side))>n?-1:n>i?1:"natural"==e.mode?-1:1}if(e.fits&&!t.fits)return-1;if(!e.fits&&t.fits)return 1;if(e.fits&&t.fits){var i;n=o.__options.side.indexOf(e.side);return(i=o.__options.side.indexOf(t.side))>n?-1:n>i?1:"natural"==e.mode?-1:1}return"document"==e.container&&"bottom"==e.side&&"natural"==e.mode?-1:1})),(i=s[0]).coord={},i.side){case"left":case"right":i.coord.top=Math.floor(i.target-i.size.height/2);break;case"bottom":case"top":i.coord.left=Math.floor(i.target-i.size.width/2)}switch(i.side){case"left":i.coord.left=n.geo.origin.windowOffset.left-i.outerSize.width;break;case"right":i.coord.left=n.geo.origin.windowOffset.right+i.distance.horizontal;break;case"top":i.coord.top=n.geo.origin.windowOffset.top-i.outerSize.height;break;case"bottom":i.coord.top=n.geo.origin.windowOffset.bottom+i.distance.vertical}"window"==i.container?"top"==i.side||"bottom"==i.side?i.coord.left<0?n.geo.origin.windowOffset.right-this.__options.minIntersection>=0?i.coord.left=0:i.coord.left=n.geo.origin.windowOffset.right-this.__options.minIntersection-1:i.coord.left>n.geo.window.size.width-i.size.width&&(n.geo.origin.windowOffset.left+this.__options.minIntersection<=n.geo.window.size.width?i.coord.left=n.geo.window.size.width-i.size.width:i.coord.left=n.geo.origin.windowOffset.left+this.__options.minIntersection+1-i.size.width):i.coord.top<0?n.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?i.coord.top=0:i.coord.top=n.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:i.coord.top>n.geo.window.size.height-i.size.height&&(n.geo.origin.windowOffset.top+this.__options.minIntersection<=n.geo.window.size.height?i.coord.top=n.geo.window.size.height-i.size.height:i.coord.top=n.geo.origin.windowOffset.top+this.__options.minIntersection+1-i.size.height):(i.coord.left>n.geo.window.size.width-i.size.width&&(i.coord.left=n.geo.window.size.width-i.size.width),i.coord.left<0&&(i.coord.left=0)),o.__sideChange(a,i.side),n.tooltipClone=a[0],n.tooltipParent=o.__instance.option("parent").parent[0],n.mode=i.mode,n.whole=i.whole,n.origin=o.__instance._$origin[0],n.tooltip=o.__instance._$tooltip[0],delete i.container,delete i.fits,delete i.mode,delete i.outerSize,delete i.whole,i.distance=i.distance.horizontal||i.distance.vertical;var d,h,p,f=e.extend(!0,{},i);if(o.__instance._trigger({edit:function(e){i=e},event:t,helper:n,position:f,type:"position"}),o.__options.functionPosition){var m=o.__options.functionPosition.call(o,o.__instance,n,f);m&&(i=m)}l.destroy(),"top"==i.side||"bottom"==i.side?(d={prop:"left",val:i.target-i.coord.left},h=i.size.width-this.__options.minIntersection):(d={prop:"top",val:i.target-i.coord.top},h=i.size.height-this.__options.minIntersection),d.val<this.__options.minIntersection?d.val=this.__options.minIntersection:d.val>h&&(d.val=h),p=n.geo.origin.fixedLineage?n.geo.origin.windowOffset:{left:n.geo.origin.windowOffset.left+n.geo.window.scroll.left,top:n.geo.origin.windowOffset.top+n.geo.window.scroll.top},i.coord={left:p.left+(i.coord.left-n.geo.origin.windowOffset.left),top:p.top+(i.coord.top-n.geo.origin.windowOffset.top)},o.__sideChange(o.__instance._$tooltip,i.side),n.geo.origin.fixedLineage?o.__instance._$tooltip.css("position","fixed"):o.__instance._$tooltip.css("position",""),o.__instance._$tooltip.css({left:i.coord.left,top:i.coord.top,height:i.size.height,width:i.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(d.prop,d.val),o.__instance._$tooltip.appendTo(o.__instance.option("parent")),o.__instance._trigger({type:"repositioned",event:t,position:i})},__sideChange:function(e,t){e.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+t)},__targetFind:function(e){var t={},n=this.__instance._$origin[0].getClientRects();n.length>1&&(1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),n=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1)));if(n.length<2)t.top=Math.floor(e.geo.origin.windowOffset.left+e.geo.origin.size.width/2),t.bottom=t.top,t.left=Math.floor(e.geo.origin.windowOffset.top+e.geo.origin.size.height/2),t.right=t.left;else{var i=n[0];t.top=Math.floor(i.left+(i.right-i.left)/2),i=n.length>2?n[Math.ceil(n.length/2)-1]:n[0],t.right=Math.floor(i.top+(i.bottom-i.top)/2),i=n[n.length-1],t.bottom=Math.floor(i.left+(i.right-i.left)/2),i=n.length>2?n[Math.ceil((n.length+1)/2)-1]:n[n.length-1],t.left=Math.floor(i.top+(i.bottom-i.top)/2)}return t}}}),e})),require=function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){return o(t[s][1][e]||e)}),u,u.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({"./utils/accessibility":[function(e,t,n){"use strict";function i(e){return e.is_custom?"":"to ".concat(e.network_title)}t.exports={modal:function(e){return{close:"Close",next:"Next",previous:"Previous",post:"".concat(e.title,". Posted by ").concat(e.acct_name_full," ").concat(i(e)," ").concat(e.timeago)}},post:function(e){return{name_label:"Post from ".concat(e.acct_name_full),username_label:"Posted ".concat(i(e)," by ").concat(e.acct_name),post_title:e.title,timeago:"Posted ".concat(e.timeago),twitter:{reply:"Reply to this tweet. Opens in new window.",retweet:"Re-tweet this tweet. Opens in new window.",like:"Like this tweet. Opens in new window."}}}}},{}],"./video/player":[function(e,t,n){"use strict";const i=e("./youtube"),o=e("./vine"),r=e("./vimeo"),s=e("./video"),a=e("./tiktok"),l={embedData:function(e){var t=e;"function"==typeof e.toJSON&&(t=e.toJSON());var n={};return n.postJSON=t,n.embed=function(e){var n=!1;try{n=JSON.parse(t.embed)}catch(e){}return n}(t.embed),n.youtubeRegex=/youtube.com\/watch\?.*v=([a-z0-9A-Z_\-]+)|youtu.be\/([a-z0-9A-Z_\-]+)/g,n.vimeoRegex=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,n.youtubeMatches=n.youtubeRegex.exec(t.url)||n.youtubeRegex.exec(n.embed&&n.embed.url),n.vimeoMatches=n.vimeoRegex.exec(t.url)||n.vimeoRegex.exec(n.embed&&n.embed.url),n.isNotChromecast=!/CrKey/.test(window.navigator.userAgent),n.isYoutube=!!n.youtubeMatches,n.isVimeo=!!n.vimeoMatches,n.isVine=/\/\/vine\.co\/v/.test(t.url),n.isVideo=n.embed&&(/\.mp4/.test(n.embed.html)||/v2\/posts\/video/.test(n.embed.html)),n.isLinkedinVideo=t.source==HM.Hype.SOURCES.LINKEDIN&&n.embed,n.isCustomVideo=n.embed&&/filepicker\.io|filestackcontent\.com/.test(n.embed.url),n.isTwitterVideo=n.embed&&n.embed.video_data,n.isFacebookAPIVideo=t.source==HM.Hype.SOURCES.FACEBOOK&&n.embed,n.postJSON=t,n.isTiktokEmbed=n.embed&&/www\.tiktok\.com/.test(n.embed.html),n.isEmbeddableVideo=n.isYoutube||n.isVimeo||n.isVine||n.isFacebookAPIVideo||n.isTiktokEmbed||n.isNotChromecast&&(n.isTwitterVideo||n.isCustomVideo||n.isVideo||n.isLinkedinVideo),n},view:function(e,t){const n=l.embedData(e);let s;if(n.isTiktokEmbed)s=a;else if(n.isYoutube)s=i;else if(n.isVimeo)s=r;else if(n.isVine)s=o;else if(n.isTwitterVideo&&n.isNotChromecast)s=this.video(n.embed.video_data.url,t,n.postJSON);else if(n.isCustomVideo&&n.isNotChromecast)s=this.video(n.embed.url,t,n.postJSON);else if(n.isLinkedinVideo&&n.isNotChromecast)s=this.video(n.embed.url,t,n.postJSON);else{if(!(n.isVideo&&n.isNotChromecast||n.isFacebookAPIVideo))return!1;{let e;void 0!==n.embed.object?e=n.embed.object.html:"undefined"!==n.embed.html&&(e=n.embed.html),s=this.video(e,t,n.postJSON)}}return s instanceof Backbone.View?s:new s({options:t,embedData:n})},video:function(e,t,n){return new s({embedData:{url:e,postJSON:n},options:t})}};t.exports=l},{"./tiktok":31,"./video":32,"./vimeo":33,"./vine":34,"./youtube":35}],1:[function(e,t,n){(function(e,i){(function(){
/*! @vimeo/player v2.20.1 | (c) 2023 Vimeo | MIT License | https://github.com/vimeo/player.js */
!function(e,i){"object"==typeof n&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):((e="undefined"!=typeof globalThis?globalThis:e||self).Vimeo=e.Vimeo||{},e.Vimeo.Player=i())}(this,(function(){"use strict";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){u(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof p?t:p,s=Object.create(r.prototype),a=new M(o||[]);return i(s,"_invoke",{value:k(e,n,a)}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h={};function p(){}function f(){}function m(){}var g={};c(g,s,(function(){return this}));var _=Object.getPrototypeOf,v=_&&_(_(S([])));v&&v!==t&&n.call(v,s)&&(g=v);var y=m.prototype=p.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var o;i(this,"_invoke",{value:function(i,r){function s(){return new t((function(o,s){!function i(o,r,s,a){var l=d(e[o],e,r);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,a)}))}a(l.arg)}(i,r,o,s)}))}return o=o?o.then(s,s):s()}})}function k(e,t,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return P()}for(n.method=o,n.arg=r;;){var s=n.delegate;if(s){var a=x(s,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=d(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=d(i,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return f.prototype=m,i(y,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:f,configurable:!0}),f.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,i,o,r){void 0===r&&(r=Promise);var s=new b(u(t,n,i,o),r);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(y),c(y,l,"Generator"),c(y,s,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=S,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],s=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var a=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(a&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function r(e,t,n,i,o,r,s){try{var a=e[r](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,l,"next",e)}function l(e){r(s,i,o,a,l,"throw",e)}a(void 0)}))}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,v(i.key),i)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,n){return(f=p()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&h(o,n.prototype),o}).apply(null,arguments)}function m(e){var t="function"==typeof Map?new Map:void 0;return(m=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return f(e,arguments,d(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),h(i,e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function v(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var y=void 0!==e&&"[object global]"==={}.toString.call(e);function w(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function b(e){return Boolean(e&&1===e.nodeType&&"nodeName"in e&&e.ownerDocument&&e.ownerDocument.defaultView)}function k(e){return!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e}function x(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function E(e){return/^https:\/\/player\.vimeo\.com\/video\/\d+/.test(e)}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.url,i=t||n;if(!i)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(k(i))return"https://vimeo.com/".concat(i);if(x(i))return i.replace("http:","https:");if(t)throw new TypeError("“".concat(t,"” is not a valid video id."));throw new TypeError("“".concat(i,"” is not a vimeo.com url."))}var M=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addEventListener",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"removeEventListener",r="string"==typeof t?[t]:t;return r.forEach((function(t){e[i](t,n)})),{cancel:function(){return r.forEach((function(t){return e[o](t,n)}))}}},S=void 0!==Array.prototype.indexOf,P="undefined"!=typeof window&&void 0!==window.postMessage;if(!(y||S&&P))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};
/*!
   * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
   * https://github.com/polygonplanet/weakmap-polyfill
   * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
   * @license MIT
   */
!function(e){if(!e.WeakMap){var t=Object.prototype.hasOwnProperty,n=Object.defineProperty&&function(){try{return 1===Object.defineProperty({},"x",{value:1}).x}catch(e){}}(),i=function(e,t,i){n?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:i}):e[t]=i};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(i(this,"_id",r("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function n(e,n){if(!o(e)||!t.call(e,"_id"))throw new TypeError(n+" method called on incompatible receiver "+typeof e)}function r(e){return e+"_"+s()+"."+s()}function s(){return Math.random().toString().substring(2)}return i(e.prototype,"delete",(function(e){if(n(this,"delete"),!o(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)&&(delete e[this._id],!0)})),i(e.prototype,"get",(function(e){if(n(this,"get"),o(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}})),i(e.prototype,"has",(function(e){if(n(this,"has"),!o(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)})),i(e.prototype,"set",(function(e,t){if(n(this,"set"),!o(e))throw new TypeError("Invalid value used as weak map key");var r=e[this._id];return r&&r[0]===e?(r[1]=t,this):(i(e,this._id,[e,t]),this)})),i(e,"_polyfill",!0),e}()}function o(e){return Object(e)===e}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:C);var O=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){
/*! Native Promise Only
      v0.8.1 (c) Kyle Simpson
      MIT License: http://getify.mit-license.org
  */
var t,n,o;o=function(){var e,t,n,o=Object.prototype.toString,r=void 0!==i?function(e){return i(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,n,i){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==i})}}catch(t){e=function(e,t,n){return e[t]=n,e}}function s(e,i){n.add(e,i),t||(t=r(n.drain))}function a(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function l(){for(var e=0;e<this.chain.length;e++)c(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function c(e,t,n){var i,o;try{!1===t?n.reject(e.msg):(i=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(o=a(i))?o.call(i,n.resolve,n.reject):n.resolve(i)}catch(e){n.reject(e)}}function u(e){var t,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(t=a(e))?s((function(){var i=new p(n);try{t.call(e,(function(){u.apply(i,arguments)}),(function(){d.apply(i,arguments)}))}catch(e){d.call(i,e)}})):(n.msg=e,n.state=1,n.chain.length>0&&s(l,n))}catch(e){d.call(new p(n),e)}}}function d(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&s(l,t))}function h(e,t,n,i){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then((function(e){n(o,e)}),i)}(o)}function p(e){this.def=e,this.triggered=!1}function f(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function m(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new f(this);this.then=function(e,n){var i={success:"function"!=typeof e||e,failure:"function"==typeof n&&n};return i.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");i.resolve=e,i.reject=t})),t.chain.push(i),0!==t.state&&s(l,t),i.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){u.call(t,e)}),(function(e){d.call(t,e)}))}catch(e){d.call(t,e)}}n=function(){var e,n,i;function o(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,r){i=new o(t,r),n?n.next=i:e=i,n=i,i=void 0},drain:function(){var i=e;for(e=n=t=void 0;i;)i.fn.call(i.self),i=i.next}}}();var g=e({},"constructor",m,!1);return m.prototype=g,e(g,"__NPO__",0,!1),e(m,"resolve",(function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)}))})),e(m,"reject",(function(e){return new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)}))})),e(m,"all",(function(e){var t=this;return"[object Array]"!=o.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");var o=e.length,r=Array(o),s=0;h(t,e,(function(e,t){r[e]=t,++s===o&&n(r)}),i)}))})),e(m,"race",(function(e){var t=this;return"[object Array]"!=o.call(e)?t.reject(TypeError("Not an array")):new t((function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");h(t,e,(function(e,t){n(t)}),i)}))})),m},(n=C)[t="Promise"]=n[t]||o(),e.exports&&(e.exports=n[t])})),H=new WeakMap;function I(e,t,n){var i=H.get(e.element)||{};t in i||(i[t]=[]),i[t].push(n),H.set(e.element,i)}function A(e,t){return(H.get(e.element)||{})[t]||[]}function D(e,t,n){var i=H.get(e.element)||{};if(!i[t])return!0;if(!n)return i[t]=[],H.set(e.element,i),!0;var o=i[t].indexOf(n);return-1!==o&&i[t].splice(o,1),H.set(e.element,i),i[t]&&0===i[t].length}function j(e,t){var n=H.get(e);H.set(t,n),H.delete(e)}function N(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function z(e,t,n){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var i={method:t};void 0!==n&&(i.value=n);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));o>=8&&o<10&&(i=JSON.stringify(i)),e.element.contentWindow.postMessage(i,e.origin)}}function F(e,t){var n,i=[];if((t=N(t)).event){if("error"===t.event)A(e,t.data.method).forEach((function(n){var i=new Error(t.data.message);i.name=t.data.name,n.reject(i),D(e,t.data.method,n)}));i=A(e,"event:".concat(t.event)),n=t.data}else if(t.method){var o=function(e,t){var n=A(e,t);if(n.length<1)return!1;var i=n.shift();return D(e,t,i),i}(e,t.method);o&&(i.push(o),n=t.value)}i.forEach((function(t){try{if("function"==typeof t)return void t.call(e,n);t.resolve(n)}catch(e){}}))}var R=["autopause","autoplay","background","byline","color","colors","controls","dnt","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return R.reduce((function(t,n){var i=e.getAttribute("data-vimeo-".concat(n));return(i||""===i)&&(t[n]=""===i?1:i),t}),t)}function $(e,t){var n=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var i=document.createElement("div");return i.innerHTML=n,t.appendChild(i.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(i,o){if(!x(e))throw new TypeError("“".concat(e,"” is not a vimeo.com url."));var r="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(e));for(var s in t)t.hasOwnProperty(s)&&(r+="&".concat(s,"=").concat(encodeURIComponent(t[s])));var a="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;a.open("GET",r,!0),a.onload=function(){if(404!==a.status)if(403!==a.status)try{var t=JSON.parse(a.responseText);if(403===t.domain_status_code)return $(t,n),void o(new Error("“".concat(e,"” is not embeddable.")));i(t)}catch(e){o(e)}else o(new Error("“".concat(e,"” is not embeddable.")));else o(new Error("“".concat(e,"” was not found.")))},a.onerror=function(){var e=a.status?" (".concat(a.status,")"):"";o(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},a.send()}))}var V={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(v,e);var t,i,r,l,f,m=(t=v,i=p(),function(){var e,n=d(t);if(i){var o=d(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return _(this,e)});function v(e,t){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;return a(this,v),u(g(i=m.call(this)),"logger",void 0),u(g(i),"speedAdjustment",0),u(g(i),"adjustSpeed",function(){var e=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.speedAdjustment!==n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.getPlaybackRate();case 4:return e.t0=e.sent,e.t1=i.speedAdjustment,e.t2=e.t0-e.t1,e.t3=n,r=e.t2+e.t3,i.log("New playbackRate:  ".concat(r)),e.next=12,t.setPlaybackRate(r);case 12:i.speedAdjustment=n;case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),i.logger=l,i.init(t,e,n(n({},V),r)),i}return c(v,[{key:"disconnect",value:function(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:(f=s(o().mark((function e(t,n,i){var r,s,a,l=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitForTOReadyState(t,"open");case 2:if("viewer"!==i.role){e.next=10;break}return e.next=5,this.updatePlayer(t,n,i);case 5:r=M(t,"change",(function(){return l.updatePlayer(t,n,i)})),s=this.maintainPlaybackPosition(t,n,i),this.addEventListener("disconnect",(function(){s.cancel(),r.cancel()})),e.next=14;break;case 10:return e.next=12,this.updateTimingObject(t,n);case 12:a=M(n,["seeked","play","pause","ratechange"],(function(){return l.updateTimingObject(t,n)}),"on","off"),this.addEventListener("disconnect",(function(){return a.cancel()}));case 14:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return f.apply(this,arguments)})},{key:"updateTimingObject",value:(l=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,n.getCurrentTime();case 3:return e.t1=e.sent,e.next=6,n.getPaused();case 6:if(!e.sent){e.next=10;break}e.t2=0,e.next=13;break;case 10:return e.next=12,n.getPlaybackRate();case 12:e.t2=e.sent;case 13:e.t3=e.t2,e.t4={position:e.t1,velocity:e.t3},e.t0.update.call(e.t0,e.t4);case 16:case"end":return e.stop()}}),e)}))),function(e,t){return l.apply(this,arguments)})},{key:"updatePlayer",value:(r=s(o().mark((function e(t,n,i){var r,a,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.query(),a=r.position,l=r.velocity,"number"==typeof a&&n.setCurrentTime(a),"number"!=typeof l){e.next=25;break}if(0!==l){e.next=11;break}return e.next=6,n.getPaused();case 6:if(e.t0=e.sent,!1!==e.t0){e.next=9;break}n.pause();case 9:e.next=25;break;case 11:if(!(l>0)){e.next=25;break}return e.next=14,n.getPaused();case 14:if(e.t1=e.sent,!0!==e.t1){e.next=19;break}return e.next=18,n.play().catch(function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("NotAllowedError"!==t.name||!i.autoPlayMuted){e.next=5;break}return e.next=3,n.setMuted(!0);case 3:return e.next=5,n.play().catch((function(e){return console.error("Couldn't play the video from TimingSrcConnector. Error:",e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:this.updatePlayer(t,n,i);case 19:return e.next=21,n.getPlaybackRate();case 21:if(e.t2=e.sent,e.t3=l,e.t2===e.t3){e.next=25;break}n.setPlaybackRate(l);case 25:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"maintainPlaybackPosition",value:function(e,t,n){var i=this,r=n.allowedDrift,a=n.maxAllowedDrift,l=n.minCheckInterval,c=n.maxRateAdjustment,u=n.maxTimeToCatchUp,d=1e3*Math.min(u,Math.max(l,a)),h=function(){var n=s(o().mark((function n(){var s,l,d,h,p;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=0===e.query().velocity,n.t0){n.next=6;break}return n.next=4,t.getPaused();case 4:n.t1=n.sent,n.t0=!0===n.t1;case 6:if(!n.t0){n.next=8;break}return n.abrupt("return");case 8:return n.t2=e.query().position,n.next=11,t.getCurrentTime();case 11:if(n.t3=n.sent,s=n.t2-n.t3,l=Math.abs(s),i.log("Drift: ".concat(s)),!(l>a)){n.next=22;break}return n.next=18,i.adjustSpeed(t,0);case 18:t.setCurrentTime(e.query().position),i.log("Resync by currentTime"),n.next=29;break;case 22:if(!(l>r)){n.next=29;break}return p=(d=l/u)<(h=c)?(h-d)/2:h,n.next=28,i.adjustSpeed(t,p*Math.sign(s));case 28:i.log("Resync by playbackRate");case 29:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=setInterval((function(){return h()}),d);return{cancel:function(){return clearInterval(p)}}}},{key:"log",value:function(e){var t;null===(t=this.logger)||void 0===t||t.call(this,"TimingSrcConnector: ".concat(e))}},{key:"waitForTOReadyState",value:function(e,t){return new Promise((function(n){!function i(){e.readyState===t?n():e.addEventListener("readystatechange",i,{once:!0})}()}))}}]),v}(m(EventTarget)),q=new WeakMap,W=new WeakMap,G={},J=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(this,e),window.jQuery&&t instanceof jQuery&&(t.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"undefined"!=typeof document&&"string"==typeof t&&(t=document.getElementById(t)),!b(t))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==t.nodeName){var o=t.querySelector("iframe");o&&(t=o)}if("IFRAME"===t.nodeName&&!x(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(q.has(t))return q.get(t);this._window=t.ownerDocument.defaultView,this.element=t,this.origin="*";var r=new O((function(e,o){if(n._onMessage=function(t){if(x(t.origin)&&n.element.contentWindow===t.source){"*"===n.origin&&(n.origin=t.origin);var i=N(t.data);if(i&&"error"===i.event&&i.data&&"ready"===i.data.method){var r=new Error(i.data.message);return r.name=i.data.name,void o(r)}var s=i&&"ready"===i.event,a=i&&"ping"===i.method;if(s||a)return n.element.setAttribute("data-ready","true"),void e();F(n,i)}},n._window.addEventListener("message",n._onMessage),"IFRAME"!==n.element.nodeName){var r=L(t,i);U(T(r),r,t).then((function(e){var i=$(e,t);return n.element=i,n._originalElement=t,j(t,i),q.set(n.element,n),e})).catch(o)}}));if(W.set(this,r),q.set(this.element,this),"IFRAME"===this.element.nodeName&&z(this,"ping"),G.isEnabled){var s=function(){return G.exit()};this.fullscreenchangeHandler=function(){G.isFullscreen?I(n,"event:exitFullscreen",s):D(n,"event:exitFullscreen",s),n.ready().then((function(){z(n,"fullscreenchange",G.isFullscreen)}))},G.on("fullscreenchange",this.fullscreenchangeHandler)}return this}var t;return c(e,[{key:"callMethod",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new O((function(i,o){return t.ready().then((function(){I(t,e,{resolve:i,reject:o}),z(t,e,n)})).catch(o)}))}},{key:"get",value:function(e){var t=this;return new O((function(n,i){return e=w(e,"get"),t.ready().then((function(){I(t,e,{resolve:n,reject:i}),z(t,e)})).catch(i)}))}},{key:"set",value:function(e,t){var n=this;return new O((function(i,o){if(e=w(e,"set"),null==t)throw new TypeError("There must be a value to set.");return n.ready().then((function(){I(n,e,{resolve:i,reject:o}),z(n,e,t)})).catch(o)}))}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===A(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch((function(){})),I(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");D(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch((function(e){}))}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=W.get(this)||new O((function(e,t){t(new Error("Unknown player. Probably unloaded."))}));return O.resolve(e)}},{key:"addCuePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return G.isEnabled?G.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return G.isEnabled?G.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return G.isEnabled?O.resolve(G.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new O((function(t){if(W.delete(e),q.delete(e.element),e._originalElement&&(q.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&(e.element.parentNode.parentNode&&e._originalElement&&e._originalElement!==e.element.parentNode?e.element.parentNode.parentNode.removeChild(e.element.parentNode):e.element.parentNode.removeChild(e.element)),e.element&&"DIV"===e.element.nodeName&&e.element.parentNode){e.element.removeAttribute("data-vimeo-initialized");var n=e.element.querySelector("iframe");n&&n.parentNode&&(n.parentNode.parentNode&&e._originalElement&&e._originalElement!==n.parentNode?n.parentNode.parentNode.removeChild(n.parentNode):n.parentNode.removeChild(n))}e._window.removeEventListener("message",e._onMessage),G.isEnabled&&G.off("fullscreenchange",e.fullscreenchangeHandler),t()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"getColors",value:function(){return O.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"setColors",value:function(e){if(!Array.isArray(e))return new O((function(e,t){return t(new TypeError("Argument must be an array."))}));var t=new O((function(e){return e(null)})),n=[e[0]?this.set("colorOne",e[0]):t,e[1]?this.set("colorTwo",e[1]):t,e[2]?this.set("colorThree",e[2]):t,e[3]?this.set("colorFour",e[3]):t];return O.all(n)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getRemotePlaybackAvailability",value:function(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}},{key:"setTimingSrc",value:(t=s(o().mark((function e(t,n){var i,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new TypeError("A Timing Object must be provided.");case 2:return e.next=4,this.ready();case 4:return i=new B(this,t,n),z(this,"notifyTimingObjectConnect"),i.addEventListener("disconnect",(function(){return z(r,"notifyTimingObjectDisconnect")})),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}();return y||(G=function(){var e=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=t.length,o={};n<i;n++)if((e=t[n])&&e[1]in document){for(n=0;n<e.length;n++)o[t[0][n]]=e[n];return o}return!1}(),t={fullscreenchange:e.fullscreenchange,fullscreenerror:e.fullscreenerror},n={request:function(t){return new Promise((function(i,o){var r=function e(){n.off("fullscreenchange",e),i()};n.on("fullscreenchange",r);var s=(t=t||document.documentElement)[e.requestFullscreen]();s instanceof Promise&&s.then(r).catch(o)}))},exit:function(){return new Promise((function(t,i){if(n.isFullscreen){var o=function e(){n.off("fullscreenchange",e),t()};n.on("fullscreenchange",o);var r=document[e.exitFullscreen]();r instanceof Promise&&r.then(o).catch(i)}else t()}))},on:function(e,n){var i=t[e];i&&document.addEventListener(i,n)},off:function(e,n){var i=t[e];i&&document.removeEventListener(i,n)}};return Object.defineProperties(n,{isFullscreen:{get:function(){return Boolean(document[e.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[e.fullscreenEnabled])}}}),n}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))};t.forEach((function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var t=L(e);U(T(t),t,e).then((function(t){return $(t,e)})).catch(n)}catch(e){n(e)}}))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var t=function(t){if(x(t.origin)&&t.data&&"spacechange"===t.data.event)for(var n=e.querySelectorAll("iframe"),i=0;i<n.length;i++)if(n[i].contentWindow===t.source){n[i].parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px");break}};window.addEventListener("message",t)}}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var t=function(t){if(x(t.origin)){var n=N(t.data);if(n&&"ready"===n.event)for(var i=e.querySelectorAll("iframe"),o=0;o<i.length;o++){var r=i[o],s=r.contentWindow===t.source;if(E(r.src)&&s)new J(r).callMethod("appendVideoMetadata",window.location.href)}}};window.addEventListener("message",t)}}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var t=function(e){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(e))},n=function(n){if(x(n.origin)){var i=N(n.data);if(i&&"ready"===i.event)for(var o=e.querySelectorAll("iframe"),r=function(){var e=o[s],i=e.contentWindow===n.source;if(E(e.src)&&i){var r=new J(e);r.getVideoId().then((function(e){var t=new RegExp("[?&]vimeo_t_".concat(e,"=([^&#]*)")).exec(window.location.href);if(t&&t[1]){var n=decodeURI(t[1]);r.setCurrentTime(n)}})).catch(t)}},s=0;s<o.length;s++)r()}};window.addEventListener("message",n)}}()),J}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{timers:25}],2:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}n.__esModule=!0;var r=o(e("./handlebars/base")),s=i(e("./handlebars/safe-string")),a=i(e("./handlebars/exception")),l=o(e("./handlebars/utils")),c=o(e("./handlebars/runtime")),u=i(e("./handlebars/no-conflict"));function d(){var e=new r.HandlebarsEnvironment;return l.extend(e,r),e.SafeString=s.default,e.Exception=a.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var h=d();h.create=d,u.default(h),h.default=h,n.default=h,t.exports=n.default},{"./handlebars/base":3,"./handlebars/exception":6,"./handlebars/no-conflict":19,"./handlebars/runtime":20,"./handlebars/safe-string":21,"./handlebars/utils":22}],3:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.HandlebarsEnvironment=u;var o=e("./utils"),r=i(e("./exception")),s=e("./helpers"),a=e("./decorators"),l=i(e("./logger")),c=e("./internal/proto-access");n.VERSION="4.7.8";n.COMPILER_REVISION=8;n.LAST_COMPATIBLE_COMPILER_REVISION=7;n.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};function u(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},s.registerDefaultHelpers(this),a.registerDefaultDecorators(this)}u.prototype={constructor:u,logger:l.default,log:l.default.log,registerHelper:function(e,t){if("[object Object]"===o.toString.call(e)){if(t)throw new r.default("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===o.toString.call(e))o.extend(this.partials,e);else{if(void 0===t)throw new r.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===o.toString.call(e)){if(t)throw new r.default("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var d=l.default.log;n.log=d,n.createFrame=o.createFrame,n.logger=l.default},{"./decorators":4,"./exception":6,"./helpers":7,"./internal/proto-access":16,"./logger":18,"./utils":22}],4:[function(e,t,n){"use strict";n.__esModule=!0,n.registerDefaultDecorators=function(e){r.default(e)};var i,o=e("./decorators/inline"),r=(i=o)&&i.__esModule?i:{default:i}},{"./decorators/inline":5}],5:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("../utils");n.default=function(e){e.registerDecorator("inline",(function(e,t,n,o){var r=e;return t.partials||(t.partials={},r=function(o,r){var s=n.partials;n.partials=i.extend({},s,t.partials);var a=e(o,r);return n.partials=s,a}),t.partials[o.args[0]]=o.fn,r}))},t.exports=n.default},{"../utils":22}],6:[function(e,t,n){"use strict";n.__esModule=!0;var i=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function o(e,t){var n=t&&t.loc,r=void 0,s=void 0,a=void 0,l=void 0;n&&(r=n.start.line,s=n.end.line,a=n.start.column,l=n.end.column,e+=" - "+r+":"+a);for(var c=Error.prototype.constructor.call(this,e),u=0;u<i.length;u++)this[i[u]]=c[i[u]];Error.captureStackTrace&&Error.captureStackTrace(this,o);try{n&&(this.lineNumber=r,this.endLineNumber=s,Object.defineProperty?(Object.defineProperty(this,"column",{value:a,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=a,this.endColumn=l))}catch(e){}}o.prototype=new Error,n.default=o,t.exports=n.default},{}],7:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.registerDefaultHelpers=function(e){o.default(e),r.default(e),s.default(e),a.default(e),l.default(e),c.default(e),u.default(e)},n.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var o=i(e("./helpers/block-helper-missing")),r=i(e("./helpers/each")),s=i(e("./helpers/helper-missing")),a=i(e("./helpers/if")),l=i(e("./helpers/log")),c=i(e("./helpers/lookup")),u=i(e("./helpers/with"))},{"./helpers/block-helper-missing":8,"./helpers/each":9,"./helpers/helper-missing":10,"./helpers/if":11,"./helpers/log":12,"./helpers/lookup":13,"./helpers/with":14}],8:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("../utils");n.default=function(e){e.registerHelper("blockHelperMissing",(function(t,n){var o=n.inverse,r=n.fn;if(!0===t)return r(this);if(!1===t||null==t)return o(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):o(this);if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return r(t,n)}))},t.exports=n.default},{"../utils":22}],9:[function(e,t,n){"use strict";n.__esModule=!0;var i,o=e("../utils"),r=e("../exception"),s=(i=r)&&i.__esModule?i:{default:i};n.default=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new s.default("Must pass iterator to #each");var n,i=t.fn,r=t.inverse,a=0,l="",c=void 0,u=void 0;function d(t,n,r){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!r,u&&(c.contextPath=u+t)),l+=i(e[t],{data:c,blockParams:o.blockParams([e[t],t],[u+t,null])})}if(t.data&&t.ids&&(u=o.appendContextPath(t.data.contextPath,t.ids[0])+"."),o.isFunction(e)&&(e=e.call(this)),t.data&&(c=o.createFrame(t.data)),e&&"object"==typeof e)if(o.isArray(e))for(var h=e.length;a<h;a++)a in e&&d(a,a,a===e.length-1);else if("function"==typeof Symbol&&e[Symbol.iterator]){for(var p=[],f=e[Symbol.iterator](),m=f.next();!m.done;m=f.next())p.push(m.value);for(h=(e=p).length;a<h;a++)d(a,a,a===e.length-1)}else n=void 0,Object.keys(e).forEach((function(e){void 0!==n&&d(n,a-1),n=e,a++})),void 0!==n&&d(n,a-1,!0);return 0===a&&(l=r(this)),l}))},t.exports=n.default},{"../exception":6,"../utils":22}],10:[function(e,t,n){"use strict";n.__esModule=!0;var i,o=e("../exception"),r=(i=o)&&i.__esModule?i:{default:i};n.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=n.default},{"../exception":6}],11:[function(e,t,n){"use strict";n.__esModule=!0;var i,o=e("../utils"),r=e("../exception"),s=(i=r)&&i.__esModule?i:{default:i};n.default=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new s.default("#if requires exactly one argument");return o.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,n){if(2!=arguments.length)throw new s.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},t.exports=n.default},{"../exception":6,"../utils":22}],12:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),t[0]=o,e.log.apply(e,t)}))},t.exports=n.default},{}],13:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){e.registerHelper("lookup",(function(e,t,n){return e?n.lookupProperty(e,t):e}))},t.exports=n.default},{}],14:[function(e,t,n){"use strict";n.__esModule=!0;var i,o=e("../utils"),r=e("../exception"),s=(i=r)&&i.__esModule?i:{default:i};n.default=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new s.default("#with requires exactly one argument");o.isFunction(e)&&(e=e.call(this));var n=t.fn;if(o.isEmpty(e))return t.inverse(this);var i=t.data;return t.data&&t.ids&&((i=o.createFrame(t.data)).contextPath=o.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:i,blockParams:o.blockParams([e],[i&&i.contextPath])})}))},t.exports=n.default},{"../exception":6,"../utils":22}],15:[function(e,t,n){"use strict";n.__esModule=!0,n.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.extend.apply(void 0,[Object.create(null)].concat(t))};var i=e("../utils")},{"../utils":22}],16:[function(e,t,n){"use strict";n.__esModule=!0,n.createProtoAccessControl=function(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:o.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:o.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},n.resultIsAllowed=function(e,t,n){return l("function"==typeof e?t.methods:t.properties,n)},n.resetLoggedProperties=function(){Object.keys(a).forEach((function(e){delete a[e]}))};var i,o=e("./create-new-lookup-object"),r=e("../logger"),s=(i=r)&&i.__esModule?i:{default:i},a=Object.create(null);function l(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==a[e]&&(a[e]=!0,s.default.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}},{"../logger":18,"./create-new-lookup-object":15}],17:[function(e,t,n){"use strict";n.__esModule=!0,n.wrapHelper=function(e,t){if("function"!=typeof e)return e;return function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=t(n),e.apply(this,arguments)}}},{}],18:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("./utils"),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];console[t].apply(console,i)}}};n.default=o,t.exports=n.default},{"./utils":22}],19:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){"object"!=typeof globalThis&&(Object.prototype.__defineGetter__("__magic__",(function(){return this})),__magic__.globalThis=__magic__,delete Object.prototype.__magic__);var t=globalThis.Handlebars;e.noConflict=function(){return globalThis.Handlebars===e&&(globalThis.Handlebars=t),e}},t.exports=n.default},{}],20:[function(e,t,n){"use strict";n.__esModule=!0,n.checkRevision=function(e){var t=e&&e[0]||1,n=a.COMPILER_REVISION;if(t>=a.LAST_COMPATIBLE_COMPILER_REVISION&&t<=a.COMPILER_REVISION)return;if(t<a.LAST_COMPATIBLE_COMPILER_REVISION){var i=a.REVISION_CHANGES[n],o=a.REVISION_CHANGES[t];throw new s.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+o+").")}throw new s.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")},n.template=function(e,t){if(!t)throw new s.default("No environment passed to template");if(!e||!e.main)throw new s.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n=e.compiler&&7===e.compiler[0];var i={strict:function(e,t,n){if(!e||!(t in e))throw new s.default('"'+t+'" not defined in '+e,{loc:n});return i.lookupProperty(e,t)},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||u.resultIsAllowed(n,i.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,o=0;o<n;o++){if(null!=(e[o]&&i.lookupProperty(e[o],t)))return e[o][t]}},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:o.escapeExpression,invokePartial:function(n,i,r){r.hash&&(i=o.extend({},i,r.hash),r.ids&&(r.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,r);var a=o.extend({},r,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),l=t.VM.invokePartial.call(this,n,i,a);if(null==l&&t.compile&&(r.partials[r.name]=t.compile(n,e.compilerOptions,t),l=r.partials[r.name](i,a)),null!=l){if(r.indent){for(var c=l.split("\n"),u=0,d=c.length;u<d&&(c[u]||u+1!==d);u++)c[u]=r.indent+c[u];l=c.join("\n")}return l}throw new s.default("The partial "+r.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,o){var r=this.programs[e],s=this.fn(e);return t||o||i||n?r=d(this,e,s,t,n,i,o):r||(r=this.programs[e]=d(this,e,s)),r},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=o.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function r(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=n.data;r._setup(n),!n.partial&&e.useData&&(o=p(t,o));var s=void 0,a=e.useBlockParams?[]:void 0;function l(t){return""+e.main(i,t,i.helpers,i.partials,o,a,s)}return e.useDepths&&(s=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(l=f(e.main,l,i,n.depths||[],o,a))(t,n)}return r.isTop=!0,r._setup=function(r){if(r.partial)i.protoAccessControl=r.protoAccessControl,i.helpers=r.helpers,i.partials=r.partials,i.decorators=r.decorators,i.hooks=r.hooks;else{var s=o.extend({},t.helpers,r.helpers);!function(e,t){Object.keys(e).forEach((function(n){var i=e[n];e[n]=function(e,t){var n=t.lookupProperty;return c.wrapHelper(e,(function(e){return o.extend({lookupProperty:n},e)}))}(i,t)}))}(s,i),i.helpers=s,e.usePartial&&(i.partials=i.mergeIfNeeded(r.partials,t.partials)),(e.usePartial||e.useDecorators)&&(i.decorators=o.extend({},t.decorators,r.decorators)),i.hooks={},i.protoAccessControl=u.createProtoAccessControl(r);var a=r.allowCallsToHelperMissing||n;l.moveHelperToHooks(i,"helperMissing",a),l.moveHelperToHooks(i,"blockHelperMissing",a)}},r._child=function(t,n,o,r){if(e.useBlockParams&&!o)throw new s.default("must pass block params");if(e.useDepths&&!r)throw new s.default("must pass parent depths");return d(i,t,e[t],n,0,o,r)},r},n.wrapProgram=d,n.resolvePartial=function(e,t,n){e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return e},n.invokePartial=function(e,t,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var r=void 0;n.fn&&n.fn!==h&&function(){n.data=a.createFrame(n.data);var e=n.fn;r=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=a.createFrame(n.data),n.data["partial-block"]=i,e(t,n)},e.partials&&(n.partials=o.extend({},n.partials,e.partials))}();void 0===e&&r&&(e=r);if(void 0===e)throw new s.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},n.noop=h;var i,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./utils")),r=e("./exception"),s=(i=r)&&i.__esModule?i:{default:i},a=e("./base"),l=e("./helpers"),c=e("./internal/wrapHelper"),u=e("./internal/proto-access");function d(e,t,n,i,o,r,s){function a(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return!s||t==s[0]||t===e.nullContext&&null===s[0]||(a=[t].concat(s)),n(e,t,e.helpers,e.partials,o.data||i,r&&[o.blockParams].concat(r),a)}return(a=f(n,a,e,s,i,r)).program=t,a.depth=s?s.length:0,a.blockParams=o||0,a}function h(){return""}function p(e,t){return t&&"root"in t||((t=t?a.createFrame(t):{}).root=e),t}function f(e,t,n,i,r,s){if(e.decorator){var a={};t=e.decorator(t,a,n,i&&i[0],r,s,i),o.extend(t,a)}return t}},{"./base":3,"./exception":6,"./helpers":7,"./internal/proto-access":16,"./internal/wrapHelper":17,"./utils":22}],21:[function(e,t,n){"use strict";function i(e){this.string=e}n.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},n.default=i,t.exports=n.default},{}],22:[function(e,t,n){"use strict";n.__esModule=!0,n.extend=a,n.indexOf=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},n.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!r.test(e))return e;return e.replace(o,s)},n.isEmpty=function(e){return!e&&0!==e||!(!u(e)||0!==e.length)},n.createFrame=function(e){var t=a({},e);return t._parent=e,t},n.blockParams=function(e,t){return e.path=t,e},n.appendContextPath=function(e,t){return(e?e+".":"")+t};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},o=/[&<>"'`=]/g,r=/[&<>"'`=]/;function s(e){return i[e]}function a(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var l=Object.prototype.toString;n.toString=l;var c=function(e){return"function"==typeof e};c(/x/)&&(n.isFunction=c=function(e){return"function"==typeof e&&"[object Function]"===l.call(e)}),n.isFunction=c;var u=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===l.call(e)};n.isArray=u},{}],23:[function(e,t,n){t.exports=e("./dist/cjs/handlebars.runtime").default},{"./dist/cjs/handlebars.runtime":2}],24:[function(e,t,n){var i,o,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(e){i=s}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var c,u=[],d=!1,h=-1;function p(){d&&c&&(d=!1,c.length?u=c.concat(u):h=-1,u.length&&f())}function f(){if(!d){var e=l(p);d=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||d||l(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],25:[function(e,t,n){(function(t,i){(function(){var o=e("process/browser.js").nextTick,r=Function.prototype.apply,s=Array.prototype.slice,a={},l=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(r.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(r.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=l++,i=!(arguments.length<2)&&s.call(arguments,1);return a[t]=!0,o((function(){a[t]&&(i?e.apply(null,i):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof i?i:function(e){delete a[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":24,timers:25}],26:[function(e,t,n){"use strict";$((function(){"true"===HM.getParameter("notrack")||"1"===navigator.doNotTrack?window.tintAnalyticsClient=new tintAnalyticsProxy.default(!1):window.tintAnalyticsClient=new tintAnalyticsProxy.default;var t=new(e("./popup/popupModalView"));$(document.body).append(t.el),HM.CompatiblePostMessage.listenTo("bootstrap",e=>{t.bootstrap(e)}),HM.CompatiblePostMessage.listenTo("show",e=>{let{index:n,fromEditMode:i,fromPostHighlight:o}=e;t.show(n,i,o)}),HM.CompatiblePostMessage.listenTo("hide",e=>{t.close($.Event(),!0)}),HM.CompatiblePostMessage.listenTo("postRejected",(function(e){t.postRejected(e.post_id)})),HM.CompatiblePostMessage.listenTo("personalizationChanged",e=>{t.updatePersonalizations(e.data)})}))},{"./popup/popupModalView":29}],27:[function(e,t,n){var i=e("handlebars/runtime").default.template;t.exports=i({1:function(e,t,n,i,o){var r,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <style id="customPopupFont" type="text/css">@font-face {font-family:"'+(null!=(r="function"==typeof(s=null!=(s=c(n,"popup_font")||(null!=t?c(t,"popup_font"):t))?s:l)?s.call(a,{name:"popup_font",hash:{},data:o,loc:{start:{line:2,column:73},end:{line:2,column:89}}}):s)?r:"")+'";src:url("'+(null!=(r="function"==typeof(s=null!=(s=c(n,"popup_font_woff_url")||(null!=t?c(t,"popup_font_woff_url"):t))?s:l)?s.call(a,{name:"popup_font_woff_url",hash:{},data:o,loc:{start:{line:2,column:100},end:{line:2,column:125}}}):s)?r:"")+'") format("woff");}</style>\n'},3:function(e,t,n,i,o){var r,s,a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},c="";return s=null!=(s=l(n,"popup_font")||(null!=t?l(t,"popup_font"):t))?s:e.hooks.helperMissing,a={name:"popup_font",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:4},end:{line:6,column:19}}},r="function"==typeof s?s.call(null!=t?t:e.nullContext||{},a):s,l(n,"popup_font")||(r=e.hooks.blockHelperMissing.call(t,r,a)),null!=r&&(c+=r),c},4:function(e,t,n,i,o){var r;return'        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family='+(null!=(r=e.lambda(t,t))?r:"")+':300,400" media="all">\n'},6:function(e,t,n,i,o){return"        font-family: "+e.escapeExpression(e.lambda(t,t))+";\n"},8:function(e,t,n,i,o){return"        color: "+e.escapeExpression(e.lambda(t,t))+"\n"},10:function(e,t,n,i,o){var r=e.lambda,s=e.escapeExpression;return"        ._71n7_title a.external-link {\n            color: "+s(r(t,t))+"\n        }\n        ._71n7_modal_share a.accentColor {\n            color: "+s(r(t,t))+"\n        }\n"},12:function(e,t,n,i,o){return"        .accent-color-hover:hover {\n            color: "+e.escapeExpression(e.lambda(t,t))+"\n        }\n"},14:function(e,t,n,i,o){return"        ._71n7_title a.external-link:hover {\n            color: "+e.escapeExpression(e.lambda(t,t))+"\n        }\n"},16:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        ._71n7_title .connected-hashtag {\n            color: "+e.escapeExpression("function"==typeof(r=null!=(r=s(n,"inherited_connected_hashtag_highlight_color")||(null!=t?s(t,"inherited_connected_hashtag_highlight_color"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"inherited_connected_hashtag_highlight_color",hash:{},data:o,loc:{start:{line:44,column:19},end:{line:44,column:66}}}):r)+"\n        }\n"},18:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            background-color:"+e.escapeExpression("function"==typeof(r=null!=(r=s(n,"popup_background_color")||(null!=t?s(t,"popup_background_color"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"popup_background_color",hash:{},data:o,loc:{start:{line:56,column:29},end:{line:56,column:55}}}):r)+";\n"},20:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            color:"+e.escapeExpression("function"==typeof(r=null!=(r=s(n,"popup_font_color_body")||(null!=t?s(t,"popup_font_color_body"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"popup_font_color_body",hash:{},data:o,loc:{start:{line:62,column:18},end:{line:62,column:43}}}):r)+";\n"},22:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            background-color:"+e.escapeExpression("function"==typeof(r=null!=(r=s(n,"popup_lightbox_color")||(null!=t?s(t,"popup_lightbox_color"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"popup_lightbox_color",hash:{},data:o,loc:{start:{line:75,column:29},end:{line:75,column:53}}}):r)+";\n"},24:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            color:"+e.escapeExpression("function"==typeof(r=null!=(r=s(n,"popup_font_color_author")||(null!=t?s(t,"popup_font_color_author"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"popup_font_color_author",hash:{},data:o,loc:{start:{line:81,column:18},end:{line:81,column:45}}}):r)+";\n"},26:function(e,t,n,i,o){return"            visibility:hidden;\n"},28:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            color:"+e.escapeExpression("function"==typeof(r=null!=(r=s(n,"popup_font_color_author_username")||(null!=t?s(t,"popup_font_color_author_username"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"popup_font_color_author_username",hash:{},data:o,loc:{start:{line:90,column:18},end:{line:90,column:54}}}):r)+";\n"},30:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        color:"+e.escapeExpression("function"==typeof(r=null!=(r=s(n,"popup_font_color_author_username")||(null!=t?s(t,"popup_font_color_author_username"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"popup_font_color_author_username",hash:{},data:o,loc:{start:{line:99,column:14},end:{line:99,column:50}}}):r)+"\n"},32:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        background-color:"+e.escapeExpression("function"==typeof(r=null!=(r=s(n,"popup_image_background_color")||(null!=t?s(t,"popup_image_background_color"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"popup_image_background_color",hash:{},data:o,loc:{start:{line:105,column:25},end:{line:105,column:57}}}):r)+";\n"},34:function(e,t,n,i,o){return"    ._71n7_author_timeago{\n        visibility:hidden;\n    }\n"},36:function(e,t,n,i,o){var r,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    ._71n7_title a.external-link {\n        color: "+l("function"==typeof(r=null!=(r=c(n,"popup_font_color_link")||(null!=t?c(t,"popup_font_color_link"):t))?r:a)?r.call(s,{name:"popup_font_color_link",hash:{},data:o,loc:{start:{line:118,column:15},end:{line:118,column:40}}}):r)+"\n    }\n    ._71n7_modal_share a.accentColor {\n        color: "+l("function"==typeof(r=null!=(r=c(n,"popup_font_color_link")||(null!=t?c(t,"popup_font_color_link"):t))?r:a)?r.call(s,{name:"popup_font_color_link",hash:{},data:o,loc:{start:{line:121,column:15},end:{line:121,column:40}}}):r)+"\n    }\n"},38:function(e,t,n,i,o){var r,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    ._71n7_cta_button, ._71n7_cta_button:hover, ._71n7_cta_button:active {\n        background-color: "+l("function"==typeof(r=null!=(r=c(n,"cta_button_color")||(null!=t?c(t,"cta_button_color"):t))?r:a)?r.call(s,{name:"cta_button_color",hash:{},data:o,loc:{start:{line:127,column:26},end:{line:127,column:46}}}):r)+";\n        color: "+l("function"==typeof(r=null!=(r=c(n,"cta_text_color")||(null!=t?c(t,"cta_text_color"):t))?r:a)?r.call(s,{name:"cta_text_color",hash:{},data:o,loc:{start:{line:128,column:15},end:{line:128,column:33}}}):r)+";\n    }\n"},40:function(e,t,n,i,o){return"    ._71n7_cta {\n        display: none !important;\n    }\n"},42:function(e,t,n,i,o){return"      ._71n7_title {\n        display: none;\n      }\n"},44:function(e,t,n,i,o){return"      ._71n7_content_holder._71n7_content_holder_text_only ._71n7_title span,\n      ._71n7_title.font-size-normal > span\n      ._71n7_title.font-size-small > span,\n      ._71n7_title.font-size-smaller > span,\n      ._71n7_content_holder ._71n7_title > span {\n        font-size: "+e.escapeExpression(e.lambda(t,t))+"px;\n      }\n"},46:function(e,t,n,i,o){return"      .product-name {\n        color: "+e.escapeExpression(e.lambda(t,t))+"\n      }\n"},48:function(e,t,n,i,o){return"      .product-name {\n        font-size: "+e.escapeExpression(e.lambda(t,t))+"px\n      }\n"},50:function(e,t,n,i,o){return"      .product-price {\n        color: "+e.escapeExpression(e.lambda(t,t))+"\n      }\n"},52:function(e,t,n,i,o){return"      .product-price {\n        font-size: "+e.escapeExpression(e.lambda(t,t))+"px\n      }\n"},54:function(e,t,n,i,o){return"      .products-summary h2,\n      .products-summary span {\n        color: "+e.escapeExpression(e.lambda(t,t))+"\n      }\n"},56:function(e,t,n,i,o){return"      .products-summary h2,\n      .products-summary span {\n        font-size: "+e.escapeExpression(e.lambda(t,t))+"px\n      }\n"},58:function(e,t,n,i,o){return"    .product-image {\n      border-color: "+e.escapeExpression(e.lambda(t,t))+"\n    }\n"},60:function(e,t,n,i,o){return"    .product-image {\n      background-color: "+e.escapeExpression(e.lambda(t,t))+"\n    }\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s,a,l=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u="function",d=e.hooks.blockHelperMissing,h=e.escapeExpression,p=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},f=(null!=(r=p(n,"if").call(l,null!=t?p(t,"popup_font_woff_url"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:1,column:0},end:{line:7,column:7}}}))?r:"")+'\n<style id="popup-modal-inherited-style-template">\n    ._71n7_title {\n\n';return s=null!=(s=p(n,"inherited_font")||(null!=t?p(t,"inherited_font"):t))?s:c,a={name:"inherited_font",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o,loc:{start:{line:12,column:4},end:{line:14,column:23}}},r=typeof s===u?s.call(l,a):s,p(n,"inherited_font")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n",s=null!=(s=p(n,"inherited_font_color")||(null!=t?p(t,"inherited_font_color"):t))?s:c,a={name:"inherited_font_color",hash:{},fn:e.program(8,o,0),inverse:e.noop,data:o,loc:{start:{line:16,column:4},end:{line:18,column:29}}},r=typeof s===u?s.call(l,a):s,p(n,"inherited_font_color")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n    }\n",s=null!=(s=p(n,"inherited_accent_color")||(null!=t?p(t,"inherited_accent_color"):t))?s:c,a={name:"inherited_accent_color",hash:{},fn:e.program(10,o,0),inverse:e.noop,data:o,loc:{start:{line:21,column:4},end:{line:28,column:31}}},r=typeof s===u?s.call(l,a):s,p(n,"inherited_accent_color")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n",s=null!=(s=p(n,"inherited_accent_color_hover")||(null!=t?p(t,"inherited_accent_color_hover"):t))?s:c,a={name:"inherited_accent_color_hover",hash:{},fn:e.program(12,o,0),inverse:e.noop,data:o,loc:{start:{line:30,column:4},end:{line:34,column:37}}},r=typeof s===u?s.call(l,a):s,p(n,"inherited_accent_color_hover")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n",s=null!=(s=p(n,"inherited_accent_color_hover")||(null!=t?p(t,"inherited_accent_color_hover"):t))?s:c,a={name:"inherited_accent_color_hover",hash:{},fn:e.program(14,o,0),inverse:e.noop,data:o,loc:{start:{line:36,column:4},end:{line:40,column:37}}},r=typeof s===u?s.call(l,a):s,p(n,"inherited_accent_color_hover")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n",s=null!=(s=p(n,"inherited_connected_hashtag_highlight_color_disabled")||(null!=t?p(t,"inherited_connected_hashtag_highlight_color_disabled"):t))?s:c,a={name:"inherited_connected_hashtag_highlight_color_disabled",hash:{},fn:e.noop,inverse:e.program(16,o,0),data:o,loc:{start:{line:42,column:4},end:{line:46,column:61}}},r=typeof s===u?s.call(l,a):s,p(n,"inherited_connected_hashtag_highlight_color_disabled")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="</style>\n\n<style id='popup-modal-style-template'>\n    ._71n7_modal_show ._71n7_modal {\n        transform:scale("+h(typeof(s=null!=(s=p(n,"popup_size_multiplier")||(null!=t?p(t,"popup_size_multiplier"):t))?s:c)===u?s.call(l,{name:"popup_size_multiplier",hash:{},data:o,loc:{start:{line:51,column:24},end:{line:51,column:49}}}):s)+","+h(typeof(s=null!=(s=p(n,"popup_size_multiplier")||(null!=t?p(t,"popup_size_multiplier"):t))?s:c)===u?s.call(l,{name:"popup_size_multiplier",hash:{},data:o,loc:{start:{line:51,column:50},end:{line:51,column:75}}}):s)+");\n    }\n\n    ._71n7_content_holder{\n",s=null!=(s=p(n,"popup_background_color_disabled")||(null!=t?p(t,"popup_background_color_disabled"):t))?s:c,a={name:"popup_background_color_disabled",hash:{},fn:e.noop,inverse:e.program(18,o,0),data:o,loc:{start:{line:55,column:8},end:{line:57,column:44}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_background_color_disabled")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="    }\n\n    ._71n7_title {\n",s=null!=(s=p(n,"popup_font_color_body_disabled")||(null!=t?p(t,"popup_font_color_body_disabled"):t))?s:c,a={name:"popup_font_color_body_disabled",hash:{},fn:e.noop,inverse:e.program(20,o,0),data:o,loc:{start:{line:61,column:8},end:{line:63,column:43}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_font_color_body_disabled")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+='        font-family: "'+(null!=(r=typeof(s=null!=(s=p(n,"popup_font")||(null!=t?p(t,"popup_font"):t))?s:c)===u?s.call(l,{name:"popup_font",hash:{},data:o,loc:{start:{line:64,column:22},end:{line:64,column:38}}}):s)?r:"")+'";\n    }\n\n    ._71n7_title a{\n',s=null!=(s=p(n,"popup_font_color_body_disabled")||(null!=t?p(t,"popup_font_color_body_disabled"):t))?s:c,a={name:"popup_font_color_body_disabled",hash:{},fn:e.noop,inverse:e.program(20,o,0),data:o,loc:{start:{line:68,column:8},end:{line:70,column:43}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_font_color_body_disabled")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="    }\n\n    .popup-modal-bg {\n",s=null!=(s=p(n,"popup_lightbox_color_disabled")||(null!=t?p(t,"popup_lightbox_color_disabled"):t))?s:c,a={name:"popup_lightbox_color_disabled",hash:{},fn:e.noop,inverse:e.program(22,o,0),data:o,loc:{start:{line:74,column:8},end:{line:76,column:42}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_lightbox_color_disabled")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="    }\n\n    ._71n7_author_name .author_name {\n",s=null!=(s=p(n,"popup_font_color_author_disabled")||(null!=t?p(t,"popup_font_color_author_disabled"):t))?s:c,a={name:"popup_font_color_author_disabled",hash:{},fn:e.noop,inverse:e.program(24,o,0),data:o,loc:{start:{line:80,column:8},end:{line:82,column:45}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_font_color_author_disabled")||(r=d.call(t,r,a)),null!=r&&(f+=r),s=null!=(s=p(n,"popup_show_author_name")||(null!=t?p(t,"popup_show_author_name"):t))?s:c,a={name:"popup_show_author_name",hash:{},fn:e.noop,inverse:e.program(26,o,0),data:o,loc:{start:{line:83,column:8},end:{line:85,column:35}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_show_author_name")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="    }\n\n    ._71n7_author_name .author_username {\n",s=null!=(s=p(n,"popup_font_color_author_username_disabled")||(null!=t?p(t,"popup_font_color_author_username_disabled"):t))?s:c,a={name:"popup_font_color_author_username_disabled",hash:{},fn:e.noop,inverse:e.program(28,o,0),data:o,loc:{start:{line:89,column:8},end:{line:91,column:54}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_font_color_author_username_disabled")||(r=d.call(t,r,a)),null!=r&&(f+=r),s=null!=(s=p(n,"popup_show_author_username")||(null!=t?p(t,"popup_show_author_username"):t))?s:c,a={name:"popup_show_author_username",hash:{},fn:e.noop,inverse:e.program(26,o,0),data:o,loc:{start:{line:92,column:8},end:{line:94,column:39}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_show_author_username")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="    }\n\n    ._71n7_author_name .author_username {\n",s=null!=(s=p(n,"popup_font_color_author_username_disabled")||(null!=t?p(t,"popup_font_color_author_username_disabled"):t))?s:c,a={name:"popup_font_color_author_username_disabled",hash:{},fn:e.noop,inverse:e.program(30,o,0),data:o,loc:{start:{line:98,column:4},end:{line:100,column:50}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_font_color_author_username_disabled")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="    }\n\n    ._71n7_image_holder{\n",s=null!=(s=p(n,"popup_image_background_color_disabled")||(null!=t?p(t,"popup_image_background_color_disabled"):t))?s:c,a={name:"popup_image_background_color_disabled",hash:{},fn:e.noop,inverse:e.program(32,o,0),data:o,loc:{start:{line:104,column:4},end:{line:106,column:46}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_image_background_color_disabled")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="    }\n\n\n",s=null!=(s=p(n,"popup_show_timestamp")||(null!=t?p(t,"popup_show_timestamp"):t))?s:c,a={name:"popup_show_timestamp",hash:{},fn:e.noop,inverse:e.program(34,o,0),data:o,loc:{start:{line:110,column:4},end:{line:114,column:29}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_show_timestamp")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n",s=null!=(s=p(n,"popup_font_color_link_disabled")||(null!=t?p(t,"popup_font_color_link_disabled"):t))?s:c,a={name:"popup_font_color_link_disabled",hash:{},fn:e.noop,inverse:e.program(36,o,0),data:o,loc:{start:{line:116,column:4},end:{line:123,column:39}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_font_color_link_disabled")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n",s=null!=(s=p(n,"cta_button_show_popup")||(null!=t?p(t,"cta_button_show_popup"):t))?s:c,a={name:"cta_button_show_popup",hash:{},fn:e.program(38,o,0),inverse:e.noop,data:o,loc:{start:{line:125,column:4},end:{line:130,column:30}}},r=typeof s===u?s.call(l,a):s,p(n,"cta_button_show_popup")||(r=d.call(t,r,a)),null!=r&&(f+=r),s=null!=(s=p(n,"cta_button_show_popup")||(null!=t?p(t,"cta_button_show_popup"):t))?s:c,a={name:"cta_button_show_popup",hash:{},fn:e.noop,inverse:e.program(40,o,0),data:o,loc:{start:{line:131,column:4},end:{line:135,column:30}}},r=typeof s===u?s.call(l,a):s,p(n,"cta_button_show_popup")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n",s=null!=(s=p(n,"popup_hide_description")||(null!=t?p(t,"popup_hide_description"):t))?s:c,a={name:"popup_hide_description",hash:{},fn:e.program(42,o,0),inverse:e.noop,data:o,loc:{start:{line:137,column:4},end:{line:141,column:31}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_hide_description")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n",s=null!=(s=p(n,"popup_fontsize")||(null!=t?p(t,"popup_fontsize"):t))?s:c,a={name:"popup_fontsize",hash:{},fn:e.program(44,o,0),inverse:e.noop,data:o,loc:{start:{line:143,column:4},end:{line:151,column:23}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_fontsize")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n",s=null!=(s=p(n,"popup_product_font_color")||(null!=t?p(t,"popup_product_font_color"):t))?s:c,a={name:"popup_product_font_color",hash:{},fn:e.program(46,o,0),inverse:e.noop,data:o,loc:{start:{line:153,column:4},end:{line:157,column:33}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_product_font_color")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n",s=null!=(s=p(n,"popup_product_font_size")||(null!=t?p(t,"popup_product_font_size"):t))?s:c,a={name:"popup_product_font_size",hash:{},fn:e.program(48,o,0),inverse:e.noop,data:o,loc:{start:{line:159,column:4},end:{line:163,column:32}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_product_font_size")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n",s=null!=(s=p(n,"popup_product_price_font_color")||(null!=t?p(t,"popup_product_price_font_color"):t))?s:c,a={name:"popup_product_price_font_color",hash:{},fn:e.program(50,o,0),inverse:e.noop,data:o,loc:{start:{line:165,column:4},end:{line:169,column:39}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_product_price_font_color")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n",s=null!=(s=p(n,"popup_product_price_font_size")||(null!=t?p(t,"popup_product_price_font_size"):t))?s:c,a={name:"popup_product_price_font_size",hash:{},fn:e.program(52,o,0),inverse:e.noop,data:o,loc:{start:{line:171,column:4},end:{line:175,column:38}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_product_price_font_size")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n",s=null!=(s=p(n,"popup_product_header_font_color")||(null!=t?p(t,"popup_product_header_font_color"):t))?s:c,a={name:"popup_product_header_font_color",hash:{},fn:e.program(54,o,0),inverse:e.noop,data:o,loc:{start:{line:177,column:4},end:{line:182,column:40}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_product_header_font_color")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n",s=null!=(s=p(n,"popup_product_header_font_size")||(null!=t?p(t,"popup_product_header_font_size"):t))?s:c,a={name:"popup_product_header_font_size",hash:{},fn:e.program(56,o,0),inverse:e.noop,data:o,loc:{start:{line:184,column:4},end:{line:189,column:39}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_product_header_font_size")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n",s=null!=(s=p(n,"popup_product_image_outline")||(null!=t?p(t,"popup_product_image_outline"):t))?s:c,a={name:"popup_product_image_outline",hash:{},fn:e.program(58,o,0),inverse:e.noop,data:o,loc:{start:{line:191,column:4},end:{line:195,column:36}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_product_image_outline")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+="\n",s=null!=(s=p(n,"popup_product_background")||(null!=t?p(t,"popup_product_background"):t))?s:c,a={name:"popup_product_background",hash:{},fn:e.program(60,o,0),inverse:e.noop,data:o,loc:{start:{line:197,column:4},end:{line:201,column:33}}},r=typeof s===u?s.call(l,a):s,p(n,"popup_product_background")||(r=d.call(t,r,a)),null!=r&&(f+=r),f+"</style>\n\n<style id='popup-modal-style-custom-css'>\n    "+(null!=(r=typeof(s=null!=(s=p(n,"popup_custom_css")||(null!=t?p(t,"popup_custom_css"):t))?s:c)===u?s.call(l,{name:"popup_custom_css",hash:{},data:o,loc:{start:{line:205,column:4},end:{line:205,column:28}}}):s)?r:"")+"\n</style>\n"},useData:!0})},{"handlebars/runtime":23}],28:[function(e,t,n){"use strict";t.exports=Backbone.View.extend({template:e("./popupModalStyle.handlebars"),profileData:{},initialize:function(){},update:function(e,t){_.extend(this.profileData,e);switch(["popup_show_author_name","popup_show_author_username","popup_show_timestamp"].forEach(e=>{this.profileData[e]=void 0===this.profileData[e]||!!this.profileData[e]}),void 0!==this.profileData.popup_hide_description&&this.profileData.popup_hide_description,this.profileData.popup_size_multiplier=1,this.profileData.popup_size){case"small":this.profileData.popup_size_multiplier="0.9";break;case"normal":this.profileData.popup_size_multiplier="1.0";break;case"large":this.profileData.popup_size_multiplier="1.1"}switch(this.profileData.cta_button_show){case"both":case"popup":this.profileData.cta_button_show_popup=!0;break;case"post":this.profileData.cta_button_show_popup=!1;break;default:this.profileData.cta_button_show_popup=!0}this.profileData.inherited_accent_color=this.ignore_accent_color(t.get("color_namebar_buttons"))?"#000000":t.get("color_namebar_buttons"),this.profileData.inherited_accent_color_hover=HM.PersonalizedThemeStylesheet.hexToRGB(this.profileData.inherited_accent_color,-40,1),this.profileData.inherited_font_color=this.profileData.font_secondary,this.profileData.inherited_font=this.profileData.font_secondary,this.profileData.inherited_connected_hashtag_highlight_color=this.profileData.connected_hashtag_highlight_color,this.profileData.inherited_connected_hashtag_highlight_color_disabled=this.profileData.connected_hashtag_highlight_color_disabled,this.profileData.popup_custom_css=t.get("popup_custom_css")},ignore_accent_color:function(e){return!e||(e=e.toString().replace("#",""),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>230)},render:function(){this.$el.html(this.template(this.profileData))}})},{"./popupModalStyle.handlebars":27}],29:[function(e,t,n){"use strict";var i=e("./popupModalStyleView.js"),o=e("../utils/accessibility");t.exports=Backbone.View.extend({template:"popupModalTemplate",RIGHT_KEY:39,LEFT_KEY:37,ESCAPE_KEY:27,HIDE_TRANSITION_TIME:300,initialize:function(e){var t=this;$(window).on("keyup",(function(e){e.which==t.RIGHT_KEY?t.cyclePostsRight(e):e.which==t.LEFT_KEY?t.cyclePostsLeft(e):e.which==t.ESCAPE_KEY&&t.close(e)})),this.initialized=!1},bootstrap:function(e){HM.bootstrap={profile:e.profile},HM.hypeHelper.onEditor=function(){return e.onEditor},this.posts=e.posts,this.profile=new Backbone.Model(e.profile),this.loadPersonalizations()},show:function(e,t,n){var i=this.posts[e],o=this;this.index=e,this.preload(this.posts[this.index+1]),this.preload(this.posts[this.index-1]),_.isUndefined(t)||(this.editMode=t),this.fromPostHighlight=n,this.post=new HM.Hype(i),this.postJSON=function(e){var t=function(e){var t,n;if(e.ctas=[],e.cta.length>0)_.each(e.cta,(function(t){t=JSON.parse(t);var n={};n.cta_url=t.url,n.cta_text=t.text,n.cta_icon=t.icon,n.cta_name=t.name,n.cta_display="inherit",n.cta_id=t.id;var i=_.findWhere(t.ctas_lookup,{associated_id:parseInt(e.post_id.split("_")[1]),cta_id:t.id});i&&(n.cta_lookup_id=i.id),e.ctas.push(n)})),t=e.ctas[e.ctas.length-1];else{try{n=JSON.parse(e.cta)}catch(e){n={}}_.isEmpty(n)&&(t=HM.hypeHelper.loadCtaMetaData(o.profile.toJSON(),{social_feed_id:e.social_feed_id}))}return t}(e),n=e.product_tags.length?_.map(e.product_tags,(function(e){var t=e.product?e.product:e;return t.has_url=!!t.url,t})):[],i=parseInt(e.source,10);return _.extend({},e,{image:o.imageForPost(e),timeago:e.timeago,fburl:"http://www.facebook.com/sharer.php?u="+encodeURIComponent(e.url)+"&t="+encodeURIComponent(e.title),twurl:"https://twitter.com/intent/tweet?url="+encodeURIComponent(e.url)+"&text="+encodeURIComponent(e.title),emailurl:"mailto:?subject="+encodeURIComponent("Check out this link I found!")+"&body="+encodeURIComponent(e.url+" via "+window.location.href),cta:t,has_cta:e.ctas&&e.ctas.length>0,is_twitter:i===HM.Hype.SOURCES.TWITTER,is_instagram_business:i===HM.Hype.SOURCES.INSTAGRAM_BUSINESS,embed:HM.hypeHelper.isEmbeddableVideo(e),rtl:e.language&&["ar","arc","dv","far","ha","he","khw","ks","ku","ps","ur","yi"].indexOf(e.language)>-1,acct_image:e.acct_image&&e.acct_image.indexOf("d33w9bm0n1egwm.cloudfront.net")>=0?"":e.acct_image,ecommerce_enabled:o.profile.get("enabled").ecommerce,products:n,onlyshowImage:(i===HM.Hype.SOURCES.TIKTOK||i===HM.Hype.SOURCES.EXTERNALLY_SOURCED_POSTS)&&/www\.tiktok\.com/.test(e.url),popup_product_header_text:o.embedDisplayProfile.popup_product_header_text||"SHOP NOW"})}(i),this.render()},updatePersonalizations:function(e){"popup_custom_css"in(e=e||{})?(this.profile.set(e),this.data={}):this.embedDisplayProfile=_.extend({},this.embedDisplayProfile,e),this.styleView&&(this.styleView.update(e,this.profile),this.styleView.render())},loadPersonalizations:function(){var e;try{e=$.parseJSON(this.profile.get("embed_display_profile"))||{}}catch(t){e={}}this.embedDisplayProfile=e;try{var t=e.time_language||"en";$.timeago.settings.strings=$.timeago.settings.locales[t]}catch(e){console.error&&console.error(e)}this.initialized||(this.fakeSettingsModel=new Backbone.Model(e),HM.PersonalizedThemeStylesheet.loadFont(this.profile),this.initialized=!0)},postRejected:function(e){if(!_.isEmpty(this.posts)){var t=this.posts[this.index],n=_.filter(this.posts,(function(t){return t.post_id!=e}));this.posts=n,t&&t.post_id==e&&this.close($.Event(),!0)}},serializeData:function(){var e=this.initializeShareTooltip().$el,t=this.profile.get("enabled");return _.extend(this.postJSON,{is_display_theme:this.profile.get("hideControls"),font_secondary:this.profile.get("font_secondary"),shareTooltip:e.html(),powered_by_tint:t&&t.powered_by_tint_logo_popup,show_author:!!this.profile.get("show_author"),edit_mode:!!this.editMode,accessibility:{modal:o.modal(this.postJSON),post:o.post(this.postJSON)}})},render:function(){var e=this;return HM.TemplateManager.get(this.template,(function(t){$(e.el).html(Mustache.render(t,e.serializeData())),HM.ShareTooltipView.mount(e.$(".post-share-open"),e.$(".share-options-menu").html()),e.$("img._71n7_image").on("error",_.bind(e.makeTextOnly,e)),e.$("img._71n7_author_image").on("error",_.bind(e.authorImageFallback,e)),e.styleView=new i({el:e.$("#popupModalStyleContainer")}),e.styleView.update(e.embedDisplayProfile,e.profile),e.styleView.render(),e.createEmbed(),setTimeout((function(){e.$el.addClass("_71n7_modal_show")}),0),setTimeout((function(){e.$("._71n7_modal_close a").focus(),e.$("#_71n7_description").text(o.modal(e.postJSON).post)}),300)})),this.$("._71n7_title a").click((function(e){e.stopPropagation()})),this},createEmbed:function(){this.embed&&this.embed.dispose();var e={};e=this.fromPostHighlight?{muteVideo:this.fakeSettingsModel.get("highlightMuteVideo"),playback:"dont-autoplay"!==this.fakeSettingsModel.get("highlightVideoPlayback")?"automatic":"none"}:{playback:"automatic"},this.embed=HM.hypeHelper.generateEmbed(this.posts[this.index],e),this.embed&&(this.$("._71n7_image_holder").html(this.embed.render().el),this.embed.on("all",(function(e){HM.CompatiblePostMessage.trigger(window.parent,"_71n7_modal_player_event",{event:e})})))},initializeShareTooltip:function(){return new HM.ShareTooltipView({model:this.postJSON,offset:this.postJSON,settings:this.fakeSettingsModel}).render()},close:function(e,t){e.preventDefault();var n=this;!t&&this.editMode||(this.$el.removeClass("_71n7_modal_show"),setTimeout((function(){HM.CompatiblePostMessage.trigger(window.parent,"_71n7_modal_close"),n.$el.empty()}),this.HIDE_TRANSITION_TIME))},goToCTA:function(e){e.preventDefault(),HM.hypeHelper.sendCTAClickthroughToAnalytics(this.post),this.postJSON.cta&&this.postJSON.cta.cta_url&&window.open(this.postJSON.cta.cta_url,"_blank")},goToLink:function(e){e.preventDefault(),HM.hypeHelper.sendClickthroughToAnalytics(this.post),this.postJSON.modified_url&&window.open(this.postJSON.modified_url,"_blank")},makeTextOnly:function(){this.$("._71n7_image_holder").remove(),this.$("._71n7_content_holder").addClass("_71n7_content_holder_text_only")},makeEmbedOnly:function(){this.$("._71n7_content_holder").remove()},cyclePostsRight:function(e){e.preventDefault();var t=(this.index+1)%this.posts.length;HM.hypeHelper.onEditor()||tintAnalyticsClient.track("embed_post_modal_navigate_right",{post_id:this.post.get("post_id").replaceAll("user_",""),media_type:this.post.get("media_type")}),this.show(t)},cyclePostsLeft:function(e){e.preventDefault();var t=0===this.index?this.posts.length-1:this.index-1;HM.hypeHelper.onEditor()||tintAnalyticsClient.track("embed_post_modal_navigate_left",{post_id:this.post.get("post_id").replaceAll("user_",""),media_type:this.post.get("media_type")}),this.show(t)},preload:function(e){e&&e.original_image&&((new Image).src=this.imageForPost(e)),e&&e.acct_image&&((new Image).src=e.acct_image)},trackAuthorClickEvent:function(e){HM.hypeHelper.onEditor()||tintAnalyticsClient.track("embed_post_author_clicked",{post_id:this.post.get("post_id").replaceAll("user_",""),tint_id:HM.bootstrap.profile.id,media_type:this.post.get("media_type")})},imageForPost:function(e){return e.image},trackProductClick:function(e){var t=$(e.currentTarget).data("product-id");if(t){var n=_.find(this.post.get("product_tags"),(function(e){return e.product&&e.product.id==t}));if(n&&n.product){var i=n.product;tintAnalyticsClient.track("embed_post_product_clicked",{post_id:this.post.get("post_id").replaceAll("user_",""),media_type:this.post.get("media_type"),product_price:i.price,product_sku:i.sku})}}},authorImageFallback:function(){this.$("img._71n7_author_image").attr("src","https://cdn.hypemarks.com/assets/analytics/EmptyProfile.png")},wrapDialogTabFocus:function(e){e.preventDefault(),this.$($(e.target).data("return")).focus()},events:{"focusin .screenreader-focus-guard":"wrapDialogTabFocus","click ._71n7_modal_close, .popup-modal-bg":"close","click ._71n7_modal_right":"cyclePostsRight","click ._71n7_modal_left":"cyclePostsLeft","click ._71n7_cta button":"goToCTA","click ._71n7_title":"goToLink","click ._71n7_author_name":"trackAuthorClickEvent","click .product-cta":"trackProductClick"}})},{"../utils/accessibility":"./utils/accessibility","./popupModalStyleView.js":28}],30:[function(e,t,n){"use strict";t.exports=Backbone.View.extend(_.extend({initialize:function(e){let{embedData:t,options:n}=e;this.options=n,this.embedData=t,this.post=this.embedData.postJSON,this.listenTo(this,"ready",this.scrolled,this),$(this.el).on("mouseenter.".concat(this.id),this.hovered.bind(this)),$(window).on("scroll.".concat(this.id),_.debounce(this.scrolled.bind(this),250).bind(this)),this.options.introspect&&(this.intervalID=setInterval(this.scrolled.bind(this),1e3)),this.initializeVideo()},attributes:function(e){this.id=this.id||_.uniqueId("VideoView");const t={id:this.id};return e?_.extend(t,this.getAttributes(e)):t},render:function(){const e=this.serializeData();return this.$el.attr(this.getAttributes(e)),this.template&&this.$el.html(this.template(e)),this},hovered:function(){"hover"===this.options.playback&&this.play()},scrolled:function(){if("automatic"===this.options.playback){let e=function(e){const t=$(e).offset().top,n=t+$(e).outerHeight(),i=$(window).scrollTop(),o=i+$(window).height();return n>i&&t<o}(this.el);e?this.play():e||(this.pause(),this.options.introspect&&(clearInterval(this.intervalID),this.intervalID=setInterval(this.scrolled.bind(this),3e3)))}},dispose:function(){$(this.el).off(".".concat(this.id)),$(window).off(".".concat(this.id)),clearInterval(this.intervalID),this.disposeVideo(),this.stopListening()}},{initializeVideo:function(){},getAttributes:function(e){return{}},play:function(){},pause:function(){},disposeVideo:function(){}}))},{}],31:[function(e,t,n){"use strict";const i=e("./base-video-view").extend({tagName:"div",render:function(){return this.$el.html(this.embedData.embed.html),this}});t.exports=i},{"./base-video-view":30}],32:[function(e,t,n){"use strict";const i=e("./base-video-view").extend({tagName:"video",getAttributes:function(e){var t={width:"100%",height:"100%",poster:this.post.image,controls:this.options.controls,loop:this.options.loop};return e.autoplay&&(t.autoplay="",t.playsinline="",t.preload="auto"),e.muteVideo&&(t.muted="",t.oncanplay="this.muted=true"),t},events:function(){return{loadstart:this.mediaEventCallback("ready"),error:this.mediaEventCallback("error"),play:this.mediaEventCallback("play"),ended:this.mediaEventCallback("ended")}},mediaEventCallback:function(e){return t=>{t.target.id===this.id&&this.trigger(e)}},play:function(){var e=this,t=this.el.play();null!=t&&t.catch(t=>{window.setTimeout((function(){e.el.play().catch(t=>{e.trigger("error")})}),100)})},pause:function(){var e=this,t=this.el.pause();null!=t&&t.catch(t=>{e.el.pause().catch(t=>{e.trigger("error")})})},serializeData:function(){const e=this.post.post_id,t=this.embedData.url,n="automatic"===this.options.playback,{muteVideo:i}=this.options;return{url:t,id:e,autoplay:n,muteVideo:i}},render:function(){i.__super__.render.apply(this,arguments);let e=this,t=$("<source />").attr("type","video/mp4").attr("src",this.embedData.url).on("error",()=>{e.trigger("error")});return this.$el.append(t),this}});t.exports=i},{"./base-video-view":30}],33:[function(e,t,n){"use strict";const i=e("./base-video-view").extend({tagName:"iframe",getAttributes:function(e){return{src:"https://player.vimeo.com/video/".concat(e.vimeoid,"?autoplay=").concat(e.autoplay,"&autopause=0&loop=").concat(e.loop),width:"100%",frameborder:0,webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0}},render:function(){this.$el.attr(this.getAttributes(this.serializeData()));var t="undefined"!=typeof __karma__?function(){this.on=function(){}}:e("@vimeo/player");return this.player=new t(this.el),this.player.on("loaded",()=>{this.trigger("ready"),this.player.setVolume(this.options.muteVideo?0:1)}),this.player.on("play",()=>{this.trigger("play")}),this.player.on("ended",()=>{this.trigger("ended")}),this.player.on("error",()=>{this.trigger("error")}),this},play:function(){this.player&&this.player.play()},pause:function(){this.player&&this.player.pause()},serializeData:function(){return{vimeoid:this.embedData.vimeoMatches[this.embedData.vimeoMatches.length-1],autoplay:"automatic"===this.options.playback?"1":"0",loop:this.options.loop?1:0}}});t.exports=i},{"./base-video-view":30,"@vimeo/player":1}],34:[function(e,t,n){"use strict";const i=e("./base-video-view").extend({tagName:"iframe",getAttributes:function(e){if(e)return{src:"https://vine.co/v/".concat(e.id,"/card?audio=").concat(e.audio,"&autoplay=").concat(e.autoplay,'"'),width:"100%",frameborder:"0"}},serializeData:function(){return{id:/vine\.co\/v\/.+/.exec(this.post.url)[0].split("?")[0].split("/")[2],audio:this.options.muteVideo?0:1,autoplay:"automatic"===this.options.playback?1:0}},events:{error:function(){this.trigger("error")},load:function(){this.trigger("ready"),this.trigger("play"),setTimeout(()=>{this.trigger("ended")},13e3)}}});t.exports=i},{"./base-video-view":30}],35:[function(e,t,n){"use strict";const i=e("./base-video-view").extend({initializeVideo:function(){var e=this;this.embed=new HM.yt.Embed(this.id,{onReady:this.onReady.bind(this),onEnd:this.onEnd.bind(this),mute:!0,events:{onStateChange:function(t){t.data===YT.PlayerState.ENDED&&e.onEnd()}}})},tagName:"iframe",getAttributes:function(e){return{title:"YouTube video player",class:"youtube-player",type:"text/html",width:"100%",src:"https://www.youtube.com/embed/".concat(e.id,"?enablejsapi=1&autoplay=").concat(e.autoplay,"&rel=0&showinfo=0&controls=").concat(e.controls,"&loop=").concat(e.loop,"&playlist=").concat(e.id),frameborder:0,allowFullScreen:!0}},serializeData:function(){return{id:this.embedData.youtubeMatches[1]||this.embedData.youtubeMatches[2],autoplay:"automatic"===this.options.playback?1:0,controls:this.options.controls?1:0,loop:this.options.loop?1:0}},onReady:function(){this.trigger("ready")},onEnd:function(){this.trigger("ended")},play:function(){this.embed&&this.embed.player&&this.embed.player.playVideo&&this.embed.player.playVideo()},pause:function(){this.embed&&this.embed.player&&this.embed.player.stopVideo&&this.embed.player.stopVideo()},disposeVideo:function(){if(this.embed&&this.embed.player)try{this.embed.player.stopVideo(),this.embed.player.destroy()}catch(e){}}});t.exports=i},{"./base-video-view":30}]},{},[26]),function(e){var t=/(\s*\S+|\s)$/;e.truncate=function(t,n){return e("<div></div>").append(t).truncate(n).html()},e.fn.truncate=function(n){e.isNumeric(n)&&(n={length:n});var i=e.extend({},e.truncate.defaults,n);return this.each((function(){var n=e(this);i.noBreaks&&n.find("br").replaceWith(" ");var o=n.text(),r=o.length-i.length;i.stripTags&&n.text(o),i.words&&r>0&&(r=o.length-o.slice(0,i.length).replace(t,"").length-1),r<0||!r&&!i.truncated||e.each(n.contents().get().reverse(),(function(t,n){var o=e(n),s=o.text().length;return s<=r?(i.truncated=!0,r-=s,void o.remove()):3===n.nodeType?(e(n.splitText(s-r-1)).replaceWith(i.ellipsis),!1):(o.truncate(e.extend(i,{length:s-r})),!1)}))}))},e.truncate.defaults={stripTags:!1,words:!1,noBreaks:!1,length:1/0,ellipsis:"…"}}(jQuery),void 0===HM)var HM={};HM.TemplateManager={templates:{},mustacheTemplates:{},get:function(e,t){e=e.replace(/[^A-Za-z0-9_-]/g,"");var n=this.templates[e];if(n&&n.promise)n.done(t);else if(n)t(n);else{var i=$("#"+e);if(1===i.length){var o=i.html();this.templates[e]=o,t(o)}else{var r=this,s=$.Deferred();this.templates[e]=s,$.get("/templates/"+e).done((function(n){r.templates[e]=n,t(n),s.resolve(n)})).fail((function(){console.log("something went wrong getting the template")}))}}}},HM.padzero=function(e){return e<10?"0"+e:e},HM.pad2zeros=function(e){return e<100&&(e="0"+e),e<10&&(e="0"+e),e},HM.toISOString=function(e){return e.getUTCFullYear()+"-"+HM.padzero(e.getUTCMonth()+1)+"-"+HM.padzero(e.getUTCDate())+"T"+HM.padzero(e.getUTCHours())+":"+HM.padzero(e.getUTCMinutes())+":"+HM.padzero(e.getUTCSeconds())+"."+HM.pad2zeros(e.getUTCMilliseconds())+"Z"},HM.fnToISO=function(){var e=new Date;alert(HM.toISOString(e))},Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},o=function(){return n.apply(this instanceof i?this:e||window,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,o.prototype=new i,o}),HM.logError=function(e){console.log(e.toString()+" "+e.lineNumber+" "+e.fileName+" "+e.stack)},HM.getParameter=function(e,t){try{void 0===t&&(t=window.location.href);var n,i,o=t.split("?")[1].split("&");for(n=0;n<o.length;n++)if((i=o[n].split("="))[0]==e)return unescape(i[1]);return null}catch(e){return null}},HM.filepickerClient=null,HM.filepicker=function(){return HM.filepickerClient||"undefined"==typeof filestack||(HM.filepickerClient=filestack.init(HM.inkfilepickerKey)),HM.filepickerClient},HM.isSocialIcon=function(e){return-1!=["fa-twitter","fa-instagram","fa-facebook","fa-facebook-f","fa-youtube","fa-pinterest","fa-linkedin","fa-linkedin-in","fa-yelp","fa-tumblr","fa-google-plus","fa-google-plus-g","fa-flickr","fa-reddit","fa-reddit-alien","fa-slack","fa-weixin","fa-tiktok"].indexOf(e)},HM.rgb2hex=function(e,t,n){function i(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+i(e)+i(t)+i(n)},HM.toHHMMSS=function(e){var t=parseInt(e,10),n=Math.floor(t/3600),i=Math.floor((t-3600*n)/60);e=t-3600*n-60*i;return n<10&&(n="0"+n),i<10&&(i="0"+i),e<10&&(e="0"+e),n+":"+i+":"+e},HM.getWindow=function(){return window},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),"dev"===HM.env||"test"===HM.env||"demo"===HM.env||HM.getParameter("log",window.location.href)||(console={},console.log=console.error=console.warn=function(){}),HM.fixedEncodeURIComponent=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,escape)},HM.singlePageViewUrls=/youtube|vimeo|instagram|soundcloud|flickr|slideshare/,HM.savedFilters=[],$.ajaxSetup({xhrFields:{withCredentials:!0},headers:{"X-Requested-With":"XMLHttpRequest"}}),Backbone.View=function(e){return e.extend({constructor:function(t){this.options=t||{},e.apply(this,arguments)}})}(Backbone.View),(HM=void 0===HM?{}:HM).CompatiblePostMessage={listenTo:function(e,t){var n=function(n){if(function(e){try{return JSON.parse(e),!0}catch(e){return!1}}(n.data)){var i=JSON.parse(n.data);i.message==e&&t(i,n)}};return function(e,t){var n=void 0===window.addEventListener?"attachEvent":"addEventListener";window[n](e,t,!1)}("message",n),n},stopListeningTo:function(e){!function(e,t){var n=void 0===window.removeEventListener?"detachEvent":"removeEventListener";window[n](e,t,!1)}("message",e)},trigger:function(e,t,n){(n=n||{}).message=t,e.postMessage(JSON.stringify(n),"*")}},"object"!=typeof HM?HM={hypeHelper:{}}:"object"==typeof HM&&"object"!=typeof HM.hypeHelper&&(HM.hypeHelper={}),function(e){var t={accountNames:["facebook_accounts","twitter_accounts","youtube_accounts","pinterest_accounts","rss_accounts","linkedin_accounts","tumblr_accounts","flickr_accounts","google_news_accounts","hootsuite_accounts","public_post_accounts","slack_accounts","spark_accounts","sms_accounts","review_trackers_accounts","instagram_business_accounts","externally_sourced_posts_accounts","form_submission_accounts","email_accounts","tiktok_accounts"],LIVE_VIEWERS_THRESHOLD:200,findLoadingState:function(e){if(void 0!==HM.bootstrap&&void 0!==HM.bootstrap.profile&&void 0!==HM.bootstrap.profile.facebook_accounts){for(var t=!1,n=!0,i=!0,o=0;o<this.accountNames.length;o++){var r=this.accountNames[o];if(void 0!==HM.bootstrap.profile[r])for(var s=0;s<HM.bootstrap.profile[r].length;s++){n=!1;var a=HM.bootstrap.profile[r][s].last_crawled;void 0!==a&&0===parseInt(a,10)&&(t=!0),HM.bootstrap.profile[r][s].is_ugc||(i=!1)}}if(e)e.where({source:HM.Hype.SOURCES.CUSTOM}).length>0&&(n=!1);return{noAccounts:n,stillLoading:t,hasOnlyUgc:HM.enabled&&HM.enabled.privateUgc&&i}}return{noAccounts:!0,stillLoading:!1}},getConnectedHashtags:function(){var e=[];if(void 0!==HM.bootstrap&&void 0!==HM.bootstrap.profile&&void 0!==HM.bootstrap.profile.facebook_accounts)for(var t=0;t<this.accountNames.length;t++){var n=this.accountNames[t];if(void 0!==HM.bootstrap.profile[n])for(var i=0;i<HM.bootstrap.profile[n].length;i++)if(HM.bootstrap.profile[n][i].hashtag||1===HM.bootstrap.profile[n][i].types){var o=HM.bootstrap.profile[n][i].label;o="#"===o[0]?o:"#"+o,e.push(o)}}return _.uniq(e)},isLegacyJS:function(){return!!HM.isLegacy},normalizeColor:function(e){return e&&e.match(/^([A-Fa-z0-9]{3}){1,2}$/)&&(e="#"+e),e},disableLivePolling:function(){if(!HM.enabled.disableNewPostFetchForBusyTint)return!1;var e=HM.getUser().user.get("live_viewers")&&(HM.getUser().user.get("live_viewers").subscription_count||0);return e>this.LIVE_VIEWERS_THRESHOLD&&analytics.keen_track("feed-fetch-disabled-on-pusher",{tint_id:HM.getUser().user.get("id"),viewers:e}),e>this.LIVE_VIEWERS_THRESHOLD},loadCtaMetaData:function(e,t){if(!t.hasOwnProperty("cta")||_.isEmpty(t.cta))if(""!==e.embed_display_profile||!1!==e.embed_display_profile){try{cta=JSON.parse(e.embed_display_profile).cta}catch(e){}if("undefined"==typeof cta||_.isEmpty(cta))return t.cta_display="none",t;if(!cta.feeds||-1===cta.feeds.indexOf(""+t.social_feed_id))return t.cta_display="none",t;t.cta_url=cta.url,t.cta_text=cta.text,t.cta_icon=cta.icon,t.cta_name=cta.name,t.cta_display="inherit"}else t.cta_display="none";else if(_.isEmpty(t.cta))t.cta_display="none";else try{var n=t.cta;t.ctas=[],_.each(n,(function(e){e=JSON.parse(e),item={},item.cta_url=e.url,item.cta_text=e.text,item.cta_icon=e.icon,item.cta_display="inherit",item.cta_name=e.name,item.cta_id=e.id;var n=_.find(e.ctas_lookup,{associated_id:parseInt(t.post_id.split("_")[1]),cta_id:e.id});n&&(item.cta_lookup_id=n.id),t.ctas.push(item)}));var i=t.ctas[t.ctas.length-1];t.cta_url=i.cta_url,t.cta_text=i.cta_text,t.cta_icon=i.cta_icon,t.cta_display="inherit",t.cta_name=i.name,t.cta_id=i.cta_id;var o=_.find(i.ctas_lookup,{associated_id:parseInt(t.post_id.split("_")[1]),cta_id:i.cta_id})||{};t.cta_lookup_id=o.id}catch(e){console.log("CTA was malformed.")}if(t.cta_url){var r=HM.getParameter("cta_append");if(r){r=r.replace(/^[?&]/,"");var s=/[?]/.test(t.cta_url)?"&":"?";t.cta_url+=s+r}}return t.has_cta="none"!==t.cta_display,t},addUtmCodes:function(e){return"campaign source medium content term".split(" ").forEach((function(t){var n=HM.getParameter("utm_"+t);n&&(e[t]=n)})),e},isDoubleByte:function(e){for(var t=0,n=e.length;t<n;t++)if(e.charCodeAt(t)>255)return!0;return!1},renderHypeMessage:function(t,n){var i=this.el;void 0===i&&(i=e("#hypeHolderInner"));var o="";void 0!==n&&void 0!==n.style&&(o='style="'+n.style+'"'),e(i).html('<div class="dropShadow post-loading" '+o+" >"+t+"</div>");var r=e(".post-loading").outerWidth();e(".post-loading").css({position:"fixed",left:/\/edit/.test(window.location.href)?(e(window).width()-300-r)/2+300:(e(window).width()-r)/2,top:"70px",display:HM.hypeHelper.isEditorViewer()?"none":""})},currentThemeIsAutoPopup:function(){var e=void 0!==HM.bootstrap&&void 0!==HM.bootstrap.profile?HM.bootstrap.profile.theme:null;if("hypeTemplate_waterfall_events"===e||"hypeTemplate_mosaic"===e)return!0;var t=e?HM.Themes.info(e):null,n=HM.getUser().user.settings();return!!(t&&n&&t.supports_waterfall&&n.get("waterfallToggle")&&n.get("highlightPostsToggle"))},renderSinglePostOverlay:function(e){var t=e.post,n=e.posts,i=e.fromEditMode,o=e.focusElement,r=n.indexOf(t),s=HM.hypeHelper.isEmbed(),a=HM.hypeHelper.currentThemeIsAutoPopup(),l=n.toJSON(),c=HM.bootstrap.profile;if(c.hideControls=a,s&&!a)return HM.CompatiblePostMessage.trigger(window.parent,"showPopupModal",{index:r,posts:l,profile:c}),void HM.hypeHelper.maintainFocusUponModalClose(o);HM.PostModalManager.show(r,l,c,i,!!e.fromPostHighlight),HM.hypeHelper.maintainFocusUponModalClose(o)},maintainFocusUponModalClose:function(e){HM.PostModalManager.listen((function(){e&&window.focus()}))},goToCTA:function(t){var n=e(t.currentTarget).parents(".post").eq(0).attr("data-postid"),i=this.model.findWhere({post_id:n});HM.hypeHelper.goToPostCTA(i,t)},goToPostCTA:function(e,t){this.sendCTAClickthroughToAnalytics(e),this.openCTALink(t)},openCTALink:function(t){var n=e(t.currentTarget).find("[data-url]").data("url");n&&window.open(n,"_blank")},trackClick:function(t,n){var i=e(t.currentTarget).parents(".post").eq(0).attr("data-postid"),o=n.where({post_id:i})[0];return HM.hypeHelper.trackPostClick(o,n,t.currentTarget)},trackPostClick:function(e,t,n){var i=this.showSinglePostOverlayIfNecessary(e,t,n);return i?tintAnalyticsClient.track("embed_post_external_link_opened",{post_id:e.get("post_id").replaceAll("user_",""),media_type:e.get("media_type")}):tintAnalyticsClient.track("embed_post_modal_opened",{post_id:e.get("post_id").replaceAll("user_",""),media_type:e.get("media_type")}),this.sendClickthroughToAnalytics(e),i},sendCTAClickthroughToAnalytics:function(e){HM.hypeHelper.onEditor()||(tintAnalyticsClient.track("embed_post_cta_clicked",{post_id:e.get("post_id").replaceAll("user_",""),media_type:e.get("media_type")}),this.sendPostEventToAnalytics(e,"CTA Clickthrough"))},sendClickthroughToAnalytics:function(e){HM.hypeHelper.onEditor()||this.sendPostEventToAnalytics(e,"Post Clickthrough")},sendPostEventToAnalytics:function(e,t){},showSinglePostOverlayIfNecessary:function(t,n,i){var o=!/facebook.com/.test(HM.referer),r=!e(".single-post.overlay").length,s=!HM.noPopup,a=!e(i).hasClass("external-link");return o&&r&&s&&a?(e("html").is(".ie8")?window.open(t.get("modified_url"),"_blank"):HM.hypeHelper.renderSinglePostOverlay.call(that,{post:t,posts:n,focusElement:i}),!1):!HM.getParameter("nolinkredir",window.location.href)||"true"!==HM.getParameter("nolinkredir",window.location.href)},resizeForBanner:function(e,t){return!HM.hypeHelper.onModerate()&&HM.hypeHelper.resizeForBannerSettings(e.settings(),t)},iFrameRenderBanner:function(t,n){var i=t.getIfSupported("banner");if(i&&i.url){var o=e(window.parent),r=o.width()*t.bannerAspectRatio(),s=o.height()-r;window.frameElement&&e(window.frameElement.parentElement).css({position:"fixed","margin-top":0,height:s,top:r,left:0,right:0}),HM.TemplateManager.get("bannerTemplate",(function(n){var i=e.extend({},t.attributes,{hgt:r+"px"}),o=Mustache.render(n,i);e(window.parent.document).find("#banner").html(o)}))}else window.frameElement&&(e(window.frameElement.parentElement).css({position:"fixed","margin-top":0,height:"100%",top:0,left:0,right:0}),e(window.parent.document).find("#banner").empty())},resizeForBannerSettings:function(t,n){n=n||{};var i=t.shouldRunThemeInIFrame()&&!HM.hypeHelper.onModerate();if(HM.getParameter("innerFrame"))HM.hypeHelper.iFrameRenderBanner(t,n);else if(i)e(n.el).css({position:"fixed","margin-top":0,top:"60px",height:e(window).height()-60,left:HM.Constants.EDITOR_WIDTH,right:0,"background-color":"#ffffff"});else{var o=new HM.TintLayout(t),r=o.viewport(),s=o.themeTop();"boolean"==typeof n.noModifyHeight&&n.noModifyHeight?e(n.el).css({position:n.noPositionCSS?"":"relative","margin-top":s,top:"",left:"",right:"",background:""}):e(n.el).css({position:n.noPositionCSS?"":"fixed","margin-top":0,height:o.themeHeight(),top:s,left:r.left(),right:r.right(),background:""})}return t.hasBanner()},animation:{addPost:function(){e(".hypeHelper_animation").remove(),e("body").append(e("<div>").addClass("hypeHelper_animation animated hypeHelper_animation_addPost fadeInDown").html('<i class="fas fa-download"></i>')),window.setTimeout((function(){e(".hypeHelper_animation").removeClass("fadeInDown").addClass("fadeOutDown"),window.setTimeout((function(){e(".hypeHelper_animation").remove()}),1e3)}),1500)},poll:function(){e(".hypeHelper_animation").remove(),e("body").append(e("<div>").addClass("hypeHelper_animation animated hypeHelper_animation_poll bounceIn").html('<i class="fas fa-redo-alt fa-spin"></i>')),window.setTimeout((function(){e(".hypeHelper_animation").removeClass("bounceIn").addClass("bounceOut"),window.setTimeout((function(){e(".hypeHelper_animation").remove()}),1e3)}),1500)},resetProgressBar:function(e){console.log("resetProgressBar "+e)}},parseDisplayProfileForLayout:function(e){var t={hypeTemplate:{mw:280,p:20},hypeTemplate_v2:{mw:280,p:25},hypeTemplate_photo_tall:{mw:280,p:20},hypeTemplate_photo_large:{mw:340,p:20},hypeTemplate_photo:{mw:340,p:20},hypeTemplate_news:{mw:280,p:2},hypeTemplate_pin:{mw:222,p:16},hypeTemplate_inverse:{mw:250,p:10},hypeTemplate_tano:{mw:280,p:20},hypeTemplate_waterfall:{mw:250,p:10},hypeTemplate_waterfall_events:{mw:250,p:10},hypeTemplate_modern:{mw:200,p:15},hypeTemplate_edit:{mw:320,p:20}},n=e.embedDisplayProfile(),i=e.get("theme");HM.hypeHelper.onModerate()?this.minimumWidth=280:/string|number/.test(typeof n.postwidth)?this.minimumWidth=parseInt(n.postwidth,10):t[i]&&(this.minimumWidth=t[i].mw),HM.hypeHelper.onModerate()?(this.padding=t.hypeTemplate_edit.p,this.minimumWidth=t.hypeTemplate_edit.mw):/string|number/.test(typeof n.postpadding)?this.padding=parseInt(n.postpadding,10):t[i]&&(this.padding=t[i].p)},getDisplayProfile:function(t){var n={postwidth:void 0,postpadding:void 0,sliderwidth:void 0,sliderpadding:void 0,slidertextconfig:void 0,banner:void 0,transitionDelay:void 0,animationIndex:void 0,waterfallSpeed:void 0,gridwidth:void 0,gridheight:void 0,gridpadding:void 0,fontcolor_post:void 0};try{profileMeta=JSON.parse(t)}catch(e){console.log("hypeHelper.getDisplayProfile(): Invalid profile meta, so reconfiguring"),profileMeta={}}return e.extend(n,profileMeta)},shouldRenderBanner:function(e){var t=e;return _.isFunction(e.settings)&&(t=e.settings()),!t.shouldRunThemeInIFrame()&&!HM.getParameter("innerFrame")&&t.hasBanner()&&"hypeTemplate_advertisingUnit"!==t.get("theme")&&!/\/edit\/moderate/.test(window.location.href)},setupExpiredTrialPlanModal:function(t,n){function i(){n&&HM.hypeHelper.alertExpiredTrial(),t.unbind("click").bind("click",(function(){return modalView=new HM.PlanModalView({extend:extend}),modalView.render(),!1}))}t.addClass("disabled"),t.unbind().bind("click",(function(){return!1})),void 0===HM.PlanModalView?e.getScript("/public/js/modules/planModal.js").done((function(){i()})).fail((function(e,t,n){console.log(n)})):i()},alertExpiredTrial:function(){var t=!HM.enabled.trial_extended,n="";t&&(n=' or <button class="plan-modal-alert-extend tnt-btn tnt-btn-1">Extend Trial</button>'),e(HM).trigger("alert",{type:"info",message:'No new data coming in! Your trial has ended. <button class="plan-modal-alert-choose tnt-btn tnt-btn-1">Choose Plan</button>'+n,autoFade:!1,position:"relative",behindModal:!0}),e(".plan-modal-alert-choose").unbind("click").bind("click",(function(){window.location.href="/pricing"})),e(".plan-modal-alert-extend").unbind("click").bind("click",(function(){t&&new HM.PlanModalView({extend:t,type:"extend"}).render()}))},sendNotification:function(t){HM.pusher&&(t.sender_session_id=HM.pusher.sessionID,e.ajax({url:HM.apiBaseUrl+"send_notification",data:{user_id:HM.bootstrap.profile.user_id,t_s:HM.t_s,data:t},dataType:"jsonp"}))},listenForNotifications:function(){if(HM.hypeHelper.onModerate()||HM.enabled.tints_force_websocket||"hypeTemplate_slideshow_qa"==HM.bootstrap.profile.theme){void 0===HM.pusher&&(HM.pusher=new Pusher(HM.p_k));var t=""+HM.bootstrap.profile.user_id;if(void 0===HM.pusher.channel(t))HM.pusher.subscribe(t).bind("push_notification",(function(t){if(console.log("Pusher notification",t),void 0===t.sender_session_id||""+HM.pusher.sessionID!=""+t.sender_session_id){var n=Math.floor(30*Math.random());HM.hypeHelper.onModerate()&&"new_feed"==t.action&&(n=0,e(".post").length>0&&(t.action="new_posts"));var i={new_feed:["router_renderPosts","editor_feedLoaded"],new_feed_no_posts:["editor_feedLoaded"],new_posts:["hype_poll"],new_private_posts:["hype_editor_poll"],approved_post:["hype-approve"],rejected_post:["hype-reject"],deleted_post:["hype-reject"],display_post:["hype-display"],refresh:["router_refresh"]}[t.action];i||(i=[t.action]),i&&_.each(i,(function(i){console.log("Triggering "+i+" with delay of "+n.toString()),setTimeout((function(){"router_renderPosts"===i&&(HM.bootstrap.hypes=void 0),e(HM).trigger(i,t)}),1e3*("hype-display"==i?0:n))}))}}))}else clearInterval(this.pollingInterval),this.pollingInterval=setInterval((function(){e(HM).trigger("hype_poll")}),1e3*(HM.bootstrap.profile.polling_interval||60))},refreshSession:function(t){e.get("/auth/refresh_session").done((function(n){e.getScript("/phptojavascript.js").done((function(e){t&&t()}))}))},initializeTags:function(e,t){e.tagit({autocomplete:{source:t,delay:0,minLength:2},removeConfirmation:!0,placeholderText:"enter Tags"})},template:function(){return HM.hypeHelper.onModerate()?"hypeTemplate_edit":HM.bootstrap.profile.theme&&/hypeTemplate_waterfall/.test(HM.bootstrap.profile.theme)||/hypeTemplate_waterfall/.test(HM.themeOverride)?"hypeTemplate_inverse":HM.themeOverride?HM.themeOverride:HM.bootstrap.profile.theme&&-1!==HM.bootstrap.profile.theme.indexOf("hypeTemplate")?HM.bootstrap.profile.theme:HM.bootstrap.profile.theme&&["new_classic","new_atmosphere","new_slider","new_tall_photo","new_gem","new_news"].includes(HM.bootstrap.profile.theme)?"hypeTemplate_edit":void 0},onModerate:function(){return/\/edit\/moderate/.test(window.location.href)},onEditor:function(){return this.onModerate()||/\/edit\/personalize/.test(window.location.href)},setDefaultTimeZone:function(t){Date.prototype.stdTimezoneOffset=function(){var e=new Date(this.getFullYear(),0,1),t=new Date(this.getFullYear(),6,1);return Math.max(e.getTimezoneOffset(),t.getTimezoneOffset())};var n=(new Date).stdTimezoneOffset(),i=n>0?"-":"";n=((n=Math.abs(n))/60).toFixed(2),e(t+' option[data-offset="'+i+n+'"]').attr("selected","selected")},convertDateToMoment:function(e,t,n,i,o,r,s){function a(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}var l=i;!o&&i<12&&(l=i+12),o&&12==i&&(l=i-12);var c=a(e,4)+"-"+a(t,2)+"-"+a(n,2)+"T"+a(l,2)+":"+a(r,2)+s;return moment(c).zone(c)},setDateTime:function(e){var t="."+e+"-inputs ",n=this.modal.find(t+".date").val().split("/"),i=parseInt(this.modal.find(t+".hour").val(),10),o=parseInt(this.modal.find(t+".minutes").val(),10),r="am"===this.modal.find(t+".am-pm").val(),s=this.modal.find(".time-zone").val().replace(":","");return HM.hypeHelper.convertDateToMoment(parseInt(n[2],10),parseInt(n[0],10),parseInt(n[1],10),i,r,o,s)},areValidDates:function(t){return this.startTime.isValid()?this.startTime.isBefore(moment().zone(e(this.el).find(".time-zone").val()).startOf("day"))&&(""!==e(this.el).find(".start-date").val()||t)?(e(this.el).find(".start-inputs").addClass("error"),e(HM).trigger("alert",["error","Start time cannot be in the past"]),!1):(e(this.el).find(".start-inputs").removeClass("error"),this.endTime.isValid()||""===e(this.el).find(".end-date").val()&&!t?this.endTime.isBefore(moment())&&(""!==e(this.el).find(".end-date").val()||t)?(e(this.el).find(".end-inputs").addClass("error"),e(HM).trigger("alert",["error","End time cannot be in the past"]),!1):(e(this.el).find(".end-inputs").removeClass("error"),this.startTime.isValid()&&this.endTime.isValid()&&this.endTime.isBefore(this.startTime)?(e(this.el).find(".end-inputs").addClass("error"),e(HM).trigger("alert",["error","The end time cannot be before the start time"]),!1):this.startTime.isValid()&&this.endTime.isValid()&&this.endTime.isSame(this.startTime)?(e(this.el).find(".end-inputs").addClass("error"),e(HM).trigger("alert",["error","The end time cannot be the same as the start time"]),!1):this.endTime.isValid()?(e(HM).trigger("hide.alert"),!0):(e(HM).trigger("hide.alert"),!1)):(e(this.el).find(".end-inputs").addClass("error"),e(HM).trigger("alert",["error","Invalid end date"]),!1)):(this.modal.find(".start-inputs").addClass("error"),e(HM).trigger("alert",["error","Invalid start date"]),!1)},eventAlert:function(t,n){var i={type:t,message:n+"<span id='event-countdown'></span>",position:"relative",autoFade:!1,solo:!0,behindModal:!0};/\/edit/.test(window.location.href)&&(i.parent="#hypeHolder"),e(HM).trigger("alert",i)},scheduledEventAlert:function(t,n,i){var o=this;this.eventAlert("info",n+" starting in:"),t.test&&(i=0),e("#event-countdown").countdown(1e3*(t.start-i),(function(t){e(this).html(t.strftime(o.countdownFormat))})).on("finish.countdown",(function(){o.duringEventAlert(t,n,i)}))},duringEventAlert:function(t,n,i){var o=this;t.test&&(i=0,n="InsTINT Updates Test"),this.eventAlert("success",n+" ending in:"),setTimeout((function(){e("#event-countdown").countdown(1e3*(t.stop+i),(function(t){e(this).html(t.strftime(o.countdownFormat))})).on("finish.countdown",(function(){o.endEventAlert(n)}))}),500)},endEventAlert:function(e){var t="InsTINT Updates"===e?"are":"is";this.eventAlert("info","Your "+e+" "+t+" over")},testInstintUpdates:function(t,n){e.post(HM.apiBaseUrl+"instint_update",{user_id:n,test:!0},null,"json").done((function(n){n.success?(e(HM).trigger("alert",["success","insTINT Updates Test Started."]),t.model.fetch({reset:!0})):e(HM).trigger("alert",["error","Sorry, there was a problem starting the insTINT Updates test."])})).fail((function(){e(HM).trigger("alert",["error","Sorry, there was a problem starting the insTINT Updates test."])}))},countdownFormat:' <span class="num">%D</span> <span class="unit">days</span>                         <span class="num">%H</span> <span class="unit">hours</span>                         <span class="num">%M</span> <span class="unit">minutes</span>                         <span class="num">%S</span> <span class="unit">seconds</span>',renderProfileAndPostsAndCollections:function(){HM.hypeHelper.clearPosts(),HM.bootstrap.hypes=void 0,window.setTimeout((function(){e(HM).trigger("router_renderPosts"),e(HM).trigger("router_renderProfileAndCollections")}),0)},clearPosts:function(){e(HM).trigger("router_removeTheme")},initializeChromecast:function(){e.getScript("/public/js/modules/chromecast.js").done((function(){HM.chromecast.init(),console.log("chromecast script loaded")})).fail((function(){console.log("chromecast initialization failed")}))},castToChromecast:function(e){1===e.get("personalizations").length?this.castPersonalization(e.get("user_name"),e.get("personalizations")[0].id):new HM.SelectPersonalizationChromecastModalView({model:e}).render()},castPersonalization:function(e,t){HM.chromecast.sendMessage("t/"+e+"?personalization_id="+t)},renderInstintUpdates:function(t){void 0!==HM.currentUser&&0!==HM.currentUser.plan_settings.amount?e.when(e.getScript("https://js.stripe.com/v1/"),e.getScript("https://checkout.stripe.com/v2/checkout.js")).done((function(){e.getScript("/public/js/modules/realtimeDatePicker.js").done((function(){new HM.RealtimeDatePickerView(t).render()})).fail((function(e,t,n){console.log(n)}))})):HM.hypeHelper.renderPlanUpgradeModal("Instint Updates")},renderPlanUpgradeModal:function(e){var t=require("./editor/upgrade-modal/main-view");this.upgradeModalView=new t({location:e}),this.upgradeModalView.render()},featureEnabled:function(e){return void 0===HM.enabled||!!HM.enabled[e]},enforceFeatureEnabled:function(e,t){if(this.featureEnabled(e))return this.renderPlanUpgradeModal(t),!1},hideThemeLoadingIndicator:function(){e("#hypeHolderLoading").css("display","none")},showThemeLoadingIndicator:function(){e("#hypeHolderLoading").css("display","block")},isBootstrapped:function(e){return HM.bootstrap.stale?(console.log("Can't bootstrap, stale filters!"),!1):!!(HM.bootstrap&&HM.bootstrap.profile&&HM.bootstrap.hypes&&(HM.bootstrap.hypes.data||HM.bootstrap.hypes).length)},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},getLocationHref:function(){return location.href},shouldRunThemeInIFrame:function(e){return HM.isThemeRunner?!/\/innerFrame/.test(HM.hypeHelper.getLocationHref())&&e.runs_in_iframe:/\/edit/.test(HM.hypeHelper.getLocationHref())&&e.runs_in_iframe},sendEventToIFrame:function(e,t,n){var i=window.document.getElementById("outerFrame"),o=window.document.getElementById("tint-popup");"iframe-controls-changed"===e&&i&&n?(i&&i.contentWindow.postMessage({type:"EDITOR_PERSONALIZATION_CHANGED",personalization:t,tintSlug:HM.bootstrap.profile.user_name},"*"),o&&o.contentWindow.postMessage({type:"EDITOR_PERSONALIZATION_CHANGED",personalization:t,tintSlug:HM.bootstrap.profile.user_name},"*")):"open-add-post"===e&&i&&n?i.contentWindow.postMessage({type:"EDITOR_OPENED_PUBLIC_POST",tintSlug:HM.bootstrap.profile.user_name},"*"):"close-popup"===e&&o&&n&&"block"===o.style.display?o.contentWindow.postMessage({type:"EDITOR_CLOSED_POPUP",tintSlug:HM.bootstrap.profile.user_name},"*"):"click-first-post"===e&&i&&n&&i.contentWindow.postMessage({type:"EDITOR_OPENED_POPUP",tintSlug:HM.bootstrap.profile.user_name},"*");var r=null,s=null,a=null;if(i&&!/tint\.html/.test(i.src)){var l=i.contentWindow.document.getElementById("innerFrame");(s=(r=l||i).contentWindow.$)&&(a=s(r.contentWindow.document).find("body"))}a&&a.trigger.apply(a,arguments),HM.PostModalManager.getElement().then((function(e){var n=e.contentWindow;HM.CompatiblePostMessage.trigger(n,"personalizationChanged",{data:t})}))},sendNotificationOrDispatchToIFrame:function(e){HM.isThemeRunner?HM.hypeHelper.sendEventToIFrame("iframe-notification",e):HM.hypeHelper.sendNotification(e)},getEditorWindowFromIFrame:function(){try{if(HM.hypeHelper.isEditorViewer())return parent.parent.window}catch(e){}return null},toggleFullScreen:function(){require("screenfull").toggle(top.document.documentElement)},safeJSONParse:function(e){var t={};if("string"==typeof e)try{t=JSON.parse(e)}catch(e){}return t},stripQuotes:function(e){return e.replace(/^["']|["']$/g,"")},getEmbedDisplayProfileProperty:function(e){return HM.bootstrap&&HM.bootstrap.profile&&HM.bootstrap.profile.embed_display_profile?HM.hypeHelper.safeJSONParse(HM.bootstrap.profile.embed_display_profile)[e]:null},confirmBulkModerationDeselect:function(t){e(HM).trigger("confirm-if-posts-selected",{success:t})},normalizeCollectionResponse:function(e,t){return e.data?(t&&(t.hasNextPage=e.has_next_page,t.nextPage=e.next_page,t.cached=e.cached),e=e.data):t&&(t.hasNextPage=!1,t.nextPage=null,t.cached=!1),e},updatePaginationRange:function(e,t){var n=0,i=0;e.length>0&&(i=(n=e[0].relative_offset+1)+e.length-1),t.currentRangeStart=n,t.currentRangeEnd=i,t.trigger("updateMetaData")}};HM.hypeHelper=_.extend(HM.hypeHelper,t)}($);var $t71n7=$t71n7||$;!function(e){HM.yt={id:0,init:function(){if(!this.requested){var t=document.createElement("script");t.src="//www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),this.ready=e.Deferred(),this.requested=!0}},api_ready:function(){this.ready||(this.ready=e.Deferred(),this.requested=!0),this.ready.resolveWith(this)}},HM.yt.Embed=function(e,t){this.element_id=e;HM.yt.init(),this.options=t||{},this.makePlayerObj()},HM.yt.Embed.prototype={makePlayerObj:function(t){if(document.getElementById(this.element_id)){var n=this;HM.yt.ready.then((function(){var t=e.extend(!0,{playerVars:{origin:window.location.origin},events:{onStateChange:function(e){console.log("yt state change:",e.data),e.data==YT.PlayerState.ENDED&&(n.videoEnded(),n.player.destroy(),delete n.player)},onReady:function(){n.videoReady()}}},n.options);n.player=new YT.Player(n.element_id,t)}))}else setTimeout(this.makePlayerObj.bind(this),250)},videoEnded:function(){this.options.onEnd&&this.options.onEnd()},videoReady:function(){this.options.mute&&this.player.mute(),this.options.onReady&&this.options.onReady()}}}($t71n7),window.onYouTubeIframeAPIReady?(window.conflictingOnYouTubeIframeAPIReady=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=function(){HM.yt.api_ready(),window.conflictingOnYouTubeIframeAPIReady()}):window.onYouTubeIframeAPIReady=function(){HM.yt.api_ready()},"object"!=typeof HM?HM={hypeHelper:{}}:"object"==typeof HM&&"object"!=typeof HM.hypeHelper&&(HM.hypeHelper={}),HM.hypeHelper.isEmbed=function(){return HM.getParameter("innerFrame")||HM.getParameter("outerFrame")?!HM.hypeHelper.isEditorViewer()&&top!==self.parent:!/\/(app\/|admin)/.test(HM.referer)&&top!==self},HM.hypeHelper.isEditorViewer=function(){var e=new RegExp(HM.bootstrap.profile.user_name+"/edit","i");if(HM.getParameter("innerFrame")||HM.getParameter("outerFrame"))try{return!top.isEmbedPreview&&e.test(top.location.href)}catch(e){}return!1},require=function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){return o(t[s][1][e]||e)}),u,u.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({"./video/base-video-view":[function(e,t,n){"use strict";t.exports=Backbone.View.extend(_.extend({initialize:function(e){let{embedData:t,options:n}=e;this.options=n,this.embedData=t,this.post=this.embedData.postJSON,this.listenTo(this,"ready",this.scrolled,this),$(this.el).on("mouseenter.".concat(this.id),this.hovered.bind(this)),$(window).on("scroll.".concat(this.id),_.debounce(this.scrolled.bind(this),250).bind(this)),this.options.introspect&&(this.intervalID=setInterval(this.scrolled.bind(this),1e3)),this.initializeVideo()},attributes:function(e){this.id=this.id||_.uniqueId("VideoView");const t={id:this.id};return e?_.extend(t,this.getAttributes(e)):t},render:function(){const e=this.serializeData();return this.$el.attr(this.getAttributes(e)),this.template&&this.$el.html(this.template(e)),this},hovered:function(){"hover"===this.options.playback&&this.play()},scrolled:function(){if("automatic"===this.options.playback){let e=function(e){const t=$(e).offset().top,n=t+$(e).outerHeight(),i=$(window).scrollTop(),o=i+$(window).height();return n>i&&t<o}(this.el);e?this.play():e||(this.pause(),this.options.introspect&&(clearInterval(this.intervalID),this.intervalID=setInterval(this.scrolled.bind(this),3e3)))}},dispose:function(){$(this.el).off(".".concat(this.id)),$(window).off(".".concat(this.id)),clearInterval(this.intervalID),this.disposeVideo(),this.stopListening()}},{initializeVideo:function(){},getAttributes:function(e){return{}},play:function(){},pause:function(){},disposeVideo:function(){}}))},{}],"./video/player":[function(e,t,n){"use strict";const i=e("./youtube"),o=e("./vine"),r=e("./vimeo"),s=e("./video"),a=e("./tiktok"),l={embedData:function(e){var t=e;"function"==typeof e.toJSON&&(t=e.toJSON());var n={};return n.postJSON=t,n.embed=function(e){var n=!1;try{n=JSON.parse(t.embed)}catch(e){}return n}(t.embed),n.youtubeRegex=/youtube.com\/watch\?.*v=([a-z0-9A-Z_\-]+)|youtu.be\/([a-z0-9A-Z_\-]+)/g,n.vimeoRegex=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,n.youtubeMatches=n.youtubeRegex.exec(t.url)||n.youtubeRegex.exec(n.embed&&n.embed.url),n.vimeoMatches=n.vimeoRegex.exec(t.url)||n.vimeoRegex.exec(n.embed&&n.embed.url),n.isNotChromecast=!/CrKey/.test(window.navigator.userAgent),n.isYoutube=!!n.youtubeMatches,n.isVimeo=!!n.vimeoMatches,n.isVine=/\/\/vine\.co\/v/.test(t.url),n.isVideo=n.embed&&(/\.mp4/.test(n.embed.html)||/v2\/posts\/video/.test(n.embed.html)),n.isLinkedinVideo=t.source==HM.Hype.SOURCES.LINKEDIN&&n.embed,n.isCustomVideo=n.embed&&/filepicker\.io|filestackcontent\.com/.test(n.embed.url),n.isTwitterVideo=n.embed&&n.embed.video_data,n.isFacebookAPIVideo=t.source==HM.Hype.SOURCES.FACEBOOK&&n.embed,n.postJSON=t,n.isTiktokEmbed=n.embed&&/www\.tiktok\.com/.test(n.embed.html),n.isEmbeddableVideo=n.isYoutube||n.isVimeo||n.isVine||n.isFacebookAPIVideo||n.isTiktokEmbed||n.isNotChromecast&&(n.isTwitterVideo||n.isCustomVideo||n.isVideo||n.isLinkedinVideo),n},view:function(e,t){const n=l.embedData(e);let s;if(n.isTiktokEmbed)s=a;else if(n.isYoutube)s=i;else if(n.isVimeo)s=r;else if(n.isVine)s=o;else if(n.isTwitterVideo&&n.isNotChromecast)s=this.video(n.embed.video_data.url,t,n.postJSON);else if(n.isCustomVideo&&n.isNotChromecast)s=this.video(n.embed.url,t,n.postJSON);else if(n.isLinkedinVideo&&n.isNotChromecast)s=this.video(n.embed.url,t,n.postJSON);else{if(!(n.isVideo&&n.isNotChromecast||n.isFacebookAPIVideo))return!1;{let e;void 0!==n.embed.object?e=n.embed.object.html:"undefined"!==n.embed.html&&(e=n.embed.html),s=this.video(e,t,n.postJSON)}}return s instanceof Backbone.View?s:new s({options:t,embedData:n})},video:function(e,t,n){return new s({embedData:{url:e,postJSON:n},options:t})}};t.exports=l},{"./tiktok":"./video/tiktok","./video":"./video/video","./vimeo":"./video/vimeo","./vine":"./video/vine","./youtube":"./video/youtube"}],"./video/tiktok":[function(e,t,n){"use strict";const i=e("./base-video-view").extend({tagName:"div",render:function(){return this.$el.html(this.embedData.embed.html),this}});t.exports=i},{"./base-video-view":"./video/base-video-view"}],"./video/video":[function(e,t,n){"use strict";const i=e("./base-video-view").extend({tagName:"video",getAttributes:function(e){var t={width:"100%",height:"100%",poster:this.post.image,controls:this.options.controls,loop:this.options.loop};return e.autoplay&&(t.autoplay="",t.playsinline="",t.preload="auto"),e.muteVideo&&(t.muted="",t.oncanplay="this.muted=true"),t},events:function(){return{loadstart:this.mediaEventCallback("ready"),error:this.mediaEventCallback("error"),play:this.mediaEventCallback("play"),ended:this.mediaEventCallback("ended")}},mediaEventCallback:function(e){return t=>{t.target.id===this.id&&this.trigger(e)}},play:function(){var e=this,t=this.el.play();null!=t&&t.catch(t=>{window.setTimeout((function(){e.el.play().catch(t=>{e.trigger("error")})}),100)})},pause:function(){var e=this,t=this.el.pause();null!=t&&t.catch(t=>{e.el.pause().catch(t=>{e.trigger("error")})})},serializeData:function(){const e=this.post.post_id,t=this.embedData.url,n="automatic"===this.options.playback,{muteVideo:i}=this.options;return{url:t,id:e,autoplay:n,muteVideo:i}},render:function(){i.__super__.render.apply(this,arguments);let e=this,t=$("<source />").attr("type","video/mp4").attr("src",this.embedData.url).on("error",()=>{e.trigger("error")});return this.$el.append(t),this}});t.exports=i},{"./base-video-view":"./video/base-video-view"}],"./video/vimeo":[function(e,t,n){"use strict";const i=e("./base-video-view").extend({tagName:"iframe",getAttributes:function(e){return{src:"https://player.vimeo.com/video/".concat(e.vimeoid,"?autoplay=").concat(e.autoplay,"&autopause=0&loop=").concat(e.loop),width:"100%",frameborder:0,webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0}},render:function(){this.$el.attr(this.getAttributes(this.serializeData()));var t="undefined"!=typeof __karma__?function(){this.on=function(){}}:e("@vimeo/player");return this.player=new t(this.el),this.player.on("loaded",()=>{this.trigger("ready"),this.player.setVolume(this.options.muteVideo?0:1)}),this.player.on("play",()=>{this.trigger("play")}),this.player.on("ended",()=>{this.trigger("ended")}),this.player.on("error",()=>{this.trigger("error")}),this},play:function(){this.player&&this.player.play()},pause:function(){this.player&&this.player.pause()},serializeData:function(){return{vimeoid:this.embedData.vimeoMatches[this.embedData.vimeoMatches.length-1],autoplay:"automatic"===this.options.playback?"1":"0",loop:this.options.loop?1:0}}});t.exports=i},{"./base-video-view":"./video/base-video-view","@vimeo/player":"@vimeo/player"}],"./video/vine":[function(e,t,n){"use strict";const i=e("./base-video-view").extend({tagName:"iframe",getAttributes:function(e){if(e)return{src:"https://vine.co/v/".concat(e.id,"/card?audio=").concat(e.audio,"&autoplay=").concat(e.autoplay,'"'),width:"100%",frameborder:"0"}},serializeData:function(){return{id:/vine\.co\/v\/.+/.exec(this.post.url)[0].split("?")[0].split("/")[2],audio:this.options.muteVideo?0:1,autoplay:"automatic"===this.options.playback?1:0}},events:{error:function(){this.trigger("error")},load:function(){this.trigger("ready"),this.trigger("play"),setTimeout(()=>{this.trigger("ended")},13e3)}}});t.exports=i},{"./base-video-view":"./video/base-video-view"}],"./video/youtube":[function(e,t,n){"use strict";const i=e("./base-video-view").extend({initializeVideo:function(){var e=this;this.embed=new HM.yt.Embed(this.id,{onReady:this.onReady.bind(this),onEnd:this.onEnd.bind(this),mute:!0,events:{onStateChange:function(t){t.data===YT.PlayerState.ENDED&&e.onEnd()}}})},tagName:"iframe",getAttributes:function(e){return{title:"YouTube video player",class:"youtube-player",type:"text/html",width:"100%",src:"https://www.youtube.com/embed/".concat(e.id,"?enablejsapi=1&autoplay=").concat(e.autoplay,"&rel=0&showinfo=0&controls=").concat(e.controls,"&loop=").concat(e.loop,"&playlist=").concat(e.id),frameborder:0,allowFullScreen:!0}},serializeData:function(){return{id:this.embedData.youtubeMatches[1]||this.embedData.youtubeMatches[2],autoplay:"automatic"===this.options.playback?1:0,controls:this.options.controls?1:0,loop:this.options.loop?1:0}},onReady:function(){this.trigger("ready")},onEnd:function(){this.trigger("ended")},play:function(){this.embed&&this.embed.player&&this.embed.player.playVideo&&this.embed.player.playVideo()},pause:function(){this.embed&&this.embed.player&&this.embed.player.stopVideo&&this.embed.player.stopVideo()},disposeVideo:function(){if(this.embed&&this.embed.player)try{this.embed.player.stopVideo(),this.embed.player.destroy()}catch(e){}}});t.exports=i},{"./base-video-view":"./video/base-video-view"}],1:[function(e,t,n){var i,o,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(e){i=s}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var c,u=[],d=!1,h=-1;function p(){d&&c&&(d=!1,c.length?u=c.concat(u):h=-1,u.length&&f())}function f(){if(!d){var e=l(p);d=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||d||l(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],2:[function(e,t,n){(function(t,i){(function(){var o=e("process/browser.js").nextTick,r=Function.prototype.apply,s=Array.prototype.slice,a={},l=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(r.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(r.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=l++,i=!(arguments.length<2)&&s.call(arguments,1);return a[t]=!0,o((function(){a[t]&&(i?e.apply(null,i):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof i?i:function(e){delete a[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:2}],3:[function(e,t,n){"use strict";var i=e("./video/player");(HM=HM||{}).hypeHelper=HM.hypeHelper||{},HM.hypeHelper.isEmbeddableVideo=function(e){return i.embedData(e).isEmbeddableVideo},HM.hypeHelper.generateEmbed=function(e,t){return t=_.defaults(t||{},{muteVideo:!1,controls:!1,playback:"none"}),!(!e||!this.isEmbeddableVideo(e))&&i.view(e,t)}},{"./video/player":"./video/player"}],"@vimeo/player":[function(e,t,n){(function(e,i){(function(){
/*! @vimeo/player v2.20.1 | (c) 2023 Vimeo | MIT License | https://github.com/vimeo/player.js */
!function(e,i){"object"==typeof n&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):((e="undefined"!=typeof globalThis?globalThis:e||self).Vimeo=e.Vimeo||{},e.Vimeo.Player=i())}(this,(function(){"use strict";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){u(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof p?t:p,s=Object.create(r.prototype),a=new M(o||[]);return i(s,"_invoke",{value:k(e,n,a)}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h={};function p(){}function f(){}function m(){}var g={};c(g,s,(function(){return this}));var _=Object.getPrototypeOf,v=_&&_(_(S([])));v&&v!==t&&n.call(v,s)&&(g=v);var y=m.prototype=p.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var o;i(this,"_invoke",{value:function(i,r){function s(){return new t((function(o,s){!function i(o,r,s,a){var l=d(e[o],e,r);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,a)}))}a(l.arg)}(i,r,o,s)}))}return o=o?o.then(s,s):s()}})}function k(e,t,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return P()}for(n.method=o,n.arg=r;;){var s=n.delegate;if(s){var a=x(s,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=d(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=d(i,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return f.prototype=m,i(y,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:f,configurable:!0}),f.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,i,o,r){void 0===r&&(r=Promise);var s=new b(u(t,n,i,o),r);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(y),c(y,l,"Generator"),c(y,s,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=S,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],s=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var a=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(a&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function r(e,t,n,i,o,r,s){try{var a=e[r](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,l,"next",e)}function l(e){r(s,i,o,a,l,"throw",e)}a(void 0)}))}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,v(i.key),i)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,n){return(f=p()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&h(o,n.prototype),o}).apply(null,arguments)}function m(e){var t="function"==typeof Map?new Map:void 0;return(m=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return f(e,arguments,d(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),h(i,e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function v(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var y=void 0!==e&&"[object global]"==={}.toString.call(e);function w(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function b(e){return Boolean(e&&1===e.nodeType&&"nodeName"in e&&e.ownerDocument&&e.ownerDocument.defaultView)}function k(e){return!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e}function x(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function E(e){return/^https:\/\/player\.vimeo\.com\/video\/\d+/.test(e)}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.url,i=t||n;if(!i)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(k(i))return"https://vimeo.com/".concat(i);if(x(i))return i.replace("http:","https:");if(t)throw new TypeError("“".concat(t,"” is not a valid video id."));throw new TypeError("“".concat(i,"” is not a vimeo.com url."))}var M=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addEventListener",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"removeEventListener",r="string"==typeof t?[t]:t;return r.forEach((function(t){e[i](t,n)})),{cancel:function(){return r.forEach((function(t){return e[o](t,n)}))}}},S=void 0!==Array.prototype.indexOf,P="undefined"!=typeof window&&void 0!==window.postMessage;if(!(y||S&&P))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};
/*!
   * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
   * https://github.com/polygonplanet/weakmap-polyfill
   * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
   * @license MIT
   */
!function(e){if(!e.WeakMap){var t=Object.prototype.hasOwnProperty,n=Object.defineProperty&&function(){try{return 1===Object.defineProperty({},"x",{value:1}).x}catch(e){}}(),i=function(e,t,i){n?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:i}):e[t]=i};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(i(this,"_id",r("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function n(e,n){if(!o(e)||!t.call(e,"_id"))throw new TypeError(n+" method called on incompatible receiver "+typeof e)}function r(e){return e+"_"+s()+"."+s()}function s(){return Math.random().toString().substring(2)}return i(e.prototype,"delete",(function(e){if(n(this,"delete"),!o(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)&&(delete e[this._id],!0)})),i(e.prototype,"get",(function(e){if(n(this,"get"),o(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}})),i(e.prototype,"has",(function(e){if(n(this,"has"),!o(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)})),i(e.prototype,"set",(function(e,t){if(n(this,"set"),!o(e))throw new TypeError("Invalid value used as weak map key");var r=e[this._id];return r&&r[0]===e?(r[1]=t,this):(i(e,this._id,[e,t]),this)})),i(e,"_polyfill",!0),e}()}function o(e){return Object(e)===e}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:C);var O=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){
/*! Native Promise Only
      v0.8.1 (c) Kyle Simpson
      MIT License: http://getify.mit-license.org
  */
var t,n,o;o=function(){var e,t,n,o=Object.prototype.toString,r=void 0!==i?function(e){return i(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,n,i){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==i})}}catch(t){e=function(e,t,n){return e[t]=n,e}}function s(e,i){n.add(e,i),t||(t=r(n.drain))}function a(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function l(){for(var e=0;e<this.chain.length;e++)c(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function c(e,t,n){var i,o;try{!1===t?n.reject(e.msg):(i=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(o=a(i))?o.call(i,n.resolve,n.reject):n.resolve(i)}catch(e){n.reject(e)}}function u(e){var t,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(t=a(e))?s((function(){var i=new p(n);try{t.call(e,(function(){u.apply(i,arguments)}),(function(){d.apply(i,arguments)}))}catch(e){d.call(i,e)}})):(n.msg=e,n.state=1,n.chain.length>0&&s(l,n))}catch(e){d.call(new p(n),e)}}}function d(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&s(l,t))}function h(e,t,n,i){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then((function(e){n(o,e)}),i)}(o)}function p(e){this.def=e,this.triggered=!1}function f(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function m(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new f(this);this.then=function(e,n){var i={success:"function"!=typeof e||e,failure:"function"==typeof n&&n};return i.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");i.resolve=e,i.reject=t})),t.chain.push(i),0!==t.state&&s(l,t),i.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){u.call(t,e)}),(function(e){d.call(t,e)}))}catch(e){d.call(t,e)}}n=function(){var e,n,i;function o(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,r){i=new o(t,r),n?n.next=i:e=i,n=i,i=void 0},drain:function(){var i=e;for(e=n=t=void 0;i;)i.fn.call(i.self),i=i.next}}}();var g=e({},"constructor",m,!1);return m.prototype=g,e(g,"__NPO__",0,!1),e(m,"resolve",(function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)}))})),e(m,"reject",(function(e){return new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)}))})),e(m,"all",(function(e){var t=this;return"[object Array]"!=o.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");var o=e.length,r=Array(o),s=0;h(t,e,(function(e,t){r[e]=t,++s===o&&n(r)}),i)}))})),e(m,"race",(function(e){var t=this;return"[object Array]"!=o.call(e)?t.reject(TypeError("Not an array")):new t((function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");h(t,e,(function(e,t){n(t)}),i)}))})),m},(n=C)[t="Promise"]=n[t]||o(),e.exports&&(e.exports=n[t])})),H=new WeakMap;function I(e,t,n){var i=H.get(e.element)||{};t in i||(i[t]=[]),i[t].push(n),H.set(e.element,i)}function A(e,t){return(H.get(e.element)||{})[t]||[]}function D(e,t,n){var i=H.get(e.element)||{};if(!i[t])return!0;if(!n)return i[t]=[],H.set(e.element,i),!0;var o=i[t].indexOf(n);return-1!==o&&i[t].splice(o,1),H.set(e.element,i),i[t]&&0===i[t].length}function j(e,t){var n=H.get(e);H.set(t,n),H.delete(e)}function N(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function z(e,t,n){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var i={method:t};void 0!==n&&(i.value=n);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));o>=8&&o<10&&(i=JSON.stringify(i)),e.element.contentWindow.postMessage(i,e.origin)}}function F(e,t){var n,i=[];if((t=N(t)).event){if("error"===t.event)A(e,t.data.method).forEach((function(n){var i=new Error(t.data.message);i.name=t.data.name,n.reject(i),D(e,t.data.method,n)}));i=A(e,"event:".concat(t.event)),n=t.data}else if(t.method){var o=function(e,t){var n=A(e,t);if(n.length<1)return!1;var i=n.shift();return D(e,t,i),i}(e,t.method);o&&(i.push(o),n=t.value)}i.forEach((function(t){try{if("function"==typeof t)return void t.call(e,n);t.resolve(n)}catch(e){}}))}var R=["autopause","autoplay","background","byline","color","colors","controls","dnt","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return R.reduce((function(t,n){var i=e.getAttribute("data-vimeo-".concat(n));return(i||""===i)&&(t[n]=""===i?1:i),t}),t)}function $(e,t){var n=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var i=document.createElement("div");return i.innerHTML=n,t.appendChild(i.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(i,o){if(!x(e))throw new TypeError("“".concat(e,"” is not a vimeo.com url."));var r="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(e));for(var s in t)t.hasOwnProperty(s)&&(r+="&".concat(s,"=").concat(encodeURIComponent(t[s])));var a="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;a.open("GET",r,!0),a.onload=function(){if(404!==a.status)if(403!==a.status)try{var t=JSON.parse(a.responseText);if(403===t.domain_status_code)return $(t,n),void o(new Error("“".concat(e,"” is not embeddable.")));i(t)}catch(e){o(e)}else o(new Error("“".concat(e,"” is not embeddable.")));else o(new Error("“".concat(e,"” was not found.")))},a.onerror=function(){var e=a.status?" (".concat(a.status,")"):"";o(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},a.send()}))}var V={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(v,e);var t,i,r,l,f,m=(t=v,i=p(),function(){var e,n=d(t);if(i){var o=d(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return _(this,e)});function v(e,t){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;return a(this,v),u(g(i=m.call(this)),"logger",void 0),u(g(i),"speedAdjustment",0),u(g(i),"adjustSpeed",function(){var e=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.speedAdjustment!==n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.getPlaybackRate();case 4:return e.t0=e.sent,e.t1=i.speedAdjustment,e.t2=e.t0-e.t1,e.t3=n,r=e.t2+e.t3,i.log("New playbackRate:  ".concat(r)),e.next=12,t.setPlaybackRate(r);case 12:i.speedAdjustment=n;case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),i.logger=l,i.init(t,e,n(n({},V),r)),i}return c(v,[{key:"disconnect",value:function(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:(f=s(o().mark((function e(t,n,i){var r,s,a,l=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitForTOReadyState(t,"open");case 2:if("viewer"!==i.role){e.next=10;break}return e.next=5,this.updatePlayer(t,n,i);case 5:r=M(t,"change",(function(){return l.updatePlayer(t,n,i)})),s=this.maintainPlaybackPosition(t,n,i),this.addEventListener("disconnect",(function(){s.cancel(),r.cancel()})),e.next=14;break;case 10:return e.next=12,this.updateTimingObject(t,n);case 12:a=M(n,["seeked","play","pause","ratechange"],(function(){return l.updateTimingObject(t,n)}),"on","off"),this.addEventListener("disconnect",(function(){return a.cancel()}));case 14:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return f.apply(this,arguments)})},{key:"updateTimingObject",value:(l=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,n.getCurrentTime();case 3:return e.t1=e.sent,e.next=6,n.getPaused();case 6:if(!e.sent){e.next=10;break}e.t2=0,e.next=13;break;case 10:return e.next=12,n.getPlaybackRate();case 12:e.t2=e.sent;case 13:e.t3=e.t2,e.t4={position:e.t1,velocity:e.t3},e.t0.update.call(e.t0,e.t4);case 16:case"end":return e.stop()}}),e)}))),function(e,t){return l.apply(this,arguments)})},{key:"updatePlayer",value:(r=s(o().mark((function e(t,n,i){var r,a,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.query(),a=r.position,l=r.velocity,"number"==typeof a&&n.setCurrentTime(a),"number"!=typeof l){e.next=25;break}if(0!==l){e.next=11;break}return e.next=6,n.getPaused();case 6:if(e.t0=e.sent,!1!==e.t0){e.next=9;break}n.pause();case 9:e.next=25;break;case 11:if(!(l>0)){e.next=25;break}return e.next=14,n.getPaused();case 14:if(e.t1=e.sent,!0!==e.t1){e.next=19;break}return e.next=18,n.play().catch(function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("NotAllowedError"!==t.name||!i.autoPlayMuted){e.next=5;break}return e.next=3,n.setMuted(!0);case 3:return e.next=5,n.play().catch((function(e){return console.error("Couldn't play the video from TimingSrcConnector. Error:",e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:this.updatePlayer(t,n,i);case 19:return e.next=21,n.getPlaybackRate();case 21:if(e.t2=e.sent,e.t3=l,e.t2===e.t3){e.next=25;break}n.setPlaybackRate(l);case 25:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"maintainPlaybackPosition",value:function(e,t,n){var i=this,r=n.allowedDrift,a=n.maxAllowedDrift,l=n.minCheckInterval,c=n.maxRateAdjustment,u=n.maxTimeToCatchUp,d=1e3*Math.min(u,Math.max(l,a)),h=function(){var n=s(o().mark((function n(){var s,l,d,h,p;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=0===e.query().velocity,n.t0){n.next=6;break}return n.next=4,t.getPaused();case 4:n.t1=n.sent,n.t0=!0===n.t1;case 6:if(!n.t0){n.next=8;break}return n.abrupt("return");case 8:return n.t2=e.query().position,n.next=11,t.getCurrentTime();case 11:if(n.t3=n.sent,s=n.t2-n.t3,l=Math.abs(s),i.log("Drift: ".concat(s)),!(l>a)){n.next=22;break}return n.next=18,i.adjustSpeed(t,0);case 18:t.setCurrentTime(e.query().position),i.log("Resync by currentTime"),n.next=29;break;case 22:if(!(l>r)){n.next=29;break}return p=(d=l/u)<(h=c)?(h-d)/2:h,n.next=28,i.adjustSpeed(t,p*Math.sign(s));case 28:i.log("Resync by playbackRate");case 29:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=setInterval((function(){return h()}),d);return{cancel:function(){return clearInterval(p)}}}},{key:"log",value:function(e){var t;null===(t=this.logger)||void 0===t||t.call(this,"TimingSrcConnector: ".concat(e))}},{key:"waitForTOReadyState",value:function(e,t){return new Promise((function(n){!function i(){e.readyState===t?n():e.addEventListener("readystatechange",i,{once:!0})}()}))}}]),v}(m(EventTarget)),q=new WeakMap,W=new WeakMap,G={},J=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(this,e),window.jQuery&&t instanceof jQuery&&(t.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"undefined"!=typeof document&&"string"==typeof t&&(t=document.getElementById(t)),!b(t))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==t.nodeName){var o=t.querySelector("iframe");o&&(t=o)}if("IFRAME"===t.nodeName&&!x(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(q.has(t))return q.get(t);this._window=t.ownerDocument.defaultView,this.element=t,this.origin="*";var r=new O((function(e,o){if(n._onMessage=function(t){if(x(t.origin)&&n.element.contentWindow===t.source){"*"===n.origin&&(n.origin=t.origin);var i=N(t.data);if(i&&"error"===i.event&&i.data&&"ready"===i.data.method){var r=new Error(i.data.message);return r.name=i.data.name,void o(r)}var s=i&&"ready"===i.event,a=i&&"ping"===i.method;if(s||a)return n.element.setAttribute("data-ready","true"),void e();F(n,i)}},n._window.addEventListener("message",n._onMessage),"IFRAME"!==n.element.nodeName){var r=L(t,i);U(T(r),r,t).then((function(e){var i=$(e,t);return n.element=i,n._originalElement=t,j(t,i),q.set(n.element,n),e})).catch(o)}}));if(W.set(this,r),q.set(this.element,this),"IFRAME"===this.element.nodeName&&z(this,"ping"),G.isEnabled){var s=function(){return G.exit()};this.fullscreenchangeHandler=function(){G.isFullscreen?I(n,"event:exitFullscreen",s):D(n,"event:exitFullscreen",s),n.ready().then((function(){z(n,"fullscreenchange",G.isFullscreen)}))},G.on("fullscreenchange",this.fullscreenchangeHandler)}return this}var t;return c(e,[{key:"callMethod",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new O((function(i,o){return t.ready().then((function(){I(t,e,{resolve:i,reject:o}),z(t,e,n)})).catch(o)}))}},{key:"get",value:function(e){var t=this;return new O((function(n,i){return e=w(e,"get"),t.ready().then((function(){I(t,e,{resolve:n,reject:i}),z(t,e)})).catch(i)}))}},{key:"set",value:function(e,t){var n=this;return new O((function(i,o){if(e=w(e,"set"),null==t)throw new TypeError("There must be a value to set.");return n.ready().then((function(){I(n,e,{resolve:i,reject:o}),z(n,e,t)})).catch(o)}))}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===A(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch((function(){})),I(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");D(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch((function(e){}))}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=W.get(this)||new O((function(e,t){t(new Error("Unknown player. Probably unloaded."))}));return O.resolve(e)}},{key:"addCuePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return G.isEnabled?G.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return G.isEnabled?G.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return G.isEnabled?O.resolve(G.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new O((function(t){if(W.delete(e),q.delete(e.element),e._originalElement&&(q.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&(e.element.parentNode.parentNode&&e._originalElement&&e._originalElement!==e.element.parentNode?e.element.parentNode.parentNode.removeChild(e.element.parentNode):e.element.parentNode.removeChild(e.element)),e.element&&"DIV"===e.element.nodeName&&e.element.parentNode){e.element.removeAttribute("data-vimeo-initialized");var n=e.element.querySelector("iframe");n&&n.parentNode&&(n.parentNode.parentNode&&e._originalElement&&e._originalElement!==n.parentNode?n.parentNode.parentNode.removeChild(n.parentNode):n.parentNode.removeChild(n))}e._window.removeEventListener("message",e._onMessage),G.isEnabled&&G.off("fullscreenchange",e.fullscreenchangeHandler),t()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"getColors",value:function(){return O.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"setColors",value:function(e){if(!Array.isArray(e))return new O((function(e,t){return t(new TypeError("Argument must be an array."))}));var t=new O((function(e){return e(null)})),n=[e[0]?this.set("colorOne",e[0]):t,e[1]?this.set("colorTwo",e[1]):t,e[2]?this.set("colorThree",e[2]):t,e[3]?this.set("colorFour",e[3]):t];return O.all(n)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getRemotePlaybackAvailability",value:function(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}},{key:"setTimingSrc",value:(t=s(o().mark((function e(t,n){var i,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new TypeError("A Timing Object must be provided.");case 2:return e.next=4,this.ready();case 4:return i=new B(this,t,n),z(this,"notifyTimingObjectConnect"),i.addEventListener("disconnect",(function(){return z(r,"notifyTimingObjectDisconnect")})),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}();return y||(G=function(){var e=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=t.length,o={};n<i;n++)if((e=t[n])&&e[1]in document){for(n=0;n<e.length;n++)o[t[0][n]]=e[n];return o}return!1}(),t={fullscreenchange:e.fullscreenchange,fullscreenerror:e.fullscreenerror},n={request:function(t){return new Promise((function(i,o){var r=function e(){n.off("fullscreenchange",e),i()};n.on("fullscreenchange",r);var s=(t=t||document.documentElement)[e.requestFullscreen]();s instanceof Promise&&s.then(r).catch(o)}))},exit:function(){return new Promise((function(t,i){if(n.isFullscreen){var o=function e(){n.off("fullscreenchange",e),t()};n.on("fullscreenchange",o);var r=document[e.exitFullscreen]();r instanceof Promise&&r.then(o).catch(i)}else t()}))},on:function(e,n){var i=t[e];i&&document.addEventListener(i,n)},off:function(e,n){var i=t[e];i&&document.removeEventListener(i,n)}};return Object.defineProperties(n,{isFullscreen:{get:function(){return Boolean(document[e.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[e.fullscreenEnabled])}}}),n}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))};t.forEach((function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var t=L(e);U(T(t),t,e).then((function(t){return $(t,e)})).catch(n)}catch(e){n(e)}}))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var t=function(t){if(x(t.origin)&&t.data&&"spacechange"===t.data.event)for(var n=e.querySelectorAll("iframe"),i=0;i<n.length;i++)if(n[i].contentWindow===t.source){n[i].parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px");break}};window.addEventListener("message",t)}}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var t=function(t){if(x(t.origin)){var n=N(t.data);if(n&&"ready"===n.event)for(var i=e.querySelectorAll("iframe"),o=0;o<i.length;o++){var r=i[o],s=r.contentWindow===t.source;if(E(r.src)&&s)new J(r).callMethod("appendVideoMetadata",window.location.href)}}};window.addEventListener("message",t)}}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var t=function(e){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(e))},n=function(n){if(x(n.origin)){var i=N(n.data);if(i&&"ready"===i.event)for(var o=e.querySelectorAll("iframe"),r=function(){var e=o[s],i=e.contentWindow===n.source;if(E(e.src)&&i){var r=new J(e);r.getVideoId().then((function(e){var t=new RegExp("[?&]vimeo_t_".concat(e,"=([^&#]*)")).exec(window.location.href);if(t&&t[1]){var n=decodeURI(t[1]);r.setCurrentTime(n)}})).catch(t)}},s=0;s<o.length;s++)r()}};window.addEventListener("message",n)}}()),J}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{timers:2}]},{},[3]),HM.Hype=Backbone.Model.extend({defaults:{brand_id:"",brand_name:"",brand_image:"",user_id:"",url:"",title:"",user_name:"",name:"",profile_picture:"",timestamp:"",linkid:"",post_id:"",likes:"[]",description:"",image:"",color:"",collection_name:"",collection_id:"",acct_name:"",acct_url:"",acct_username:"",acct_image:"https://cdn.hypemarks.com/assets/analytics/EmptyProfile.png",user_rights:{}},getPostRequestStatus:function(e,t,n){return $.ajax({type:"GET",url:HM.apiV2BaseUrl+"tints/"+e+"/posts/requests/"+t,success:n.success,error:n.error})},savePost:function(e,t,n){var i=HM.apiV2BaseUrl+"tints/"+e+"/posts";return $.ajax({type:"POST",contentType:"application/vnd.api+json",url:i,processData:!1,success:n.success,error:n.error,data:JSON.stringify({data:{type:"post",attributes:t}})})},url:function(){return void 0===this.get("post_id")?"/api/post":"/api/post/"+this.get("post_id")},numericId:function(){if(this.get("post_id"))return this.get("post_id").replace("user_","")},authorObject:function(){return this.parsedAuthor=this.parsedAuthor||$.parseJSON(this.get("author")||"{}"),this.parsedAuthor||{}},newlyApprovedCreated:function(){return 9*Math.floor(Date.now()/1e3)},isRecurring:function(){return void 0!==this.get("recur_frequency")&&""!==this.get("recur_frequency")&&0!==this.get("recur_frequency")&&"0"!==this.get("recur_frequency")},idAttribute:"uniqueId",validate:function(e){},manipulateData:function(e){void 0===e&&(e=this),void 0!==e.get("post_id")&&""!==e.get("post_id")&&e.set("uniqueId",e.get("post_id")+"_"+e.get("offset")+"_"+e.get("created"),{silent:!0});var t=e.get("url");t?(/http/.test(e.get("url"))||(t="http://"+e.get("url")),2===parseInt(e.get("source"),10)&&(t="https://twitter.com/x/status/"+e.get("social_post_id")),e.set("modified_url",t,{silent:!0})):this.isCustomPost()&&(e.set("url","#",{silent:!0}),e.set("modified_url","#",{silent:!0}));var n,i=e.get("title").replace(/&amp;/gi,"&");if(2===parseInt(e.get("source"),10)&&(n=t,i=function(t,n){var i=String(t),o=e.get("tweet_urls");return _.each(o,(function(t){i=i.replace(t.display_url,function(e,t,n){return'</a><a class="twitter-link external-link" href="'+n+'" target="_blank">'+e+'&hellip;</a><a href="'+t+'" class="heading urlLink" tabindex="-1" target="_blank">'}(t.display_url,e.get("modified_url"),t.url))})),i}(i=function(e,t){return String(e).replace(/\B@\w{1,15}/g,(function(e,n,i){return'</a><a class="twitter-account external-link" href="https://twitter.com/'+e.substring(1)+'" aria-label="View '+e+' on Twitter" target="_blank">'+e+'</a><a href="'+t+'" class="heading urlLink" tabindex="-1" target="_blank">'}))}(i=String(i).replace(/#[\w\u00C0-\u017F]+/g,(function(e,t,i){if(0!==t&&!/\s/.test(i[t-1])||/#/.test(i[t+e.length]))return e;var o=e.substring(1);return'</a><a class="twitter-hashtag external-link" href="https://twitter.com/hashtag/'+o+'" aria-label="View hashtag '+o+' on Twitter" target="_blank">'+e+'</a><a href="'+n+'" class="heading urlLink" tabindex="-1" target="_blank">'})),t))),e.get("language")&&["ar","arc","dv","far","ha","he","khw","ks","ku","ps","ur","yi"].indexOf(e.get("language"))>-1&&(e.set("rtl",!0,{silent:!0}),i='<div class="_71n7_rtl">'+i+"</div>"),parseInt(e.get("source"),10)!==HM.Hype.SOURCES.INSTAGRAM&&parseInt(e.get("source"),10)!==HM.Hype.SOURCES.INSTAGRAM_BUSINESS||(i=i.replace(/(#[^\s#]+?(?=#[^\s]+?))/g,"$1 ")),i=e.addConnectedHashtagSpans(i),parseInt(e.get("source"),10)===HM.Hype.SOURCES.REVIEW_TRACKERS&&(i=e.addStarsContainer(i)),e.set("modified_title",i,{silent:!0}),"https:"!==(HM.getWindow?HM.getWindow():window).location.protocol||/facebook/.test(HM.referer)||e.set("image",e.get("image").replace(/^http:\/\//,"https://"),{silent:!0}),"0"!==e.get("timestamp")&&0!==e.get("timestamp")||e.set("timestamp",Math.floor((new Date).getTime()/1e3),{silent:!0}),e.get("author"))try{var o=e.get("author");o.constructor==="string".constructor&&(o=JSON.parse(e.get("author"))),"Unavailable"===o.username&&e.get("source")===HM.Hype.SOURCES.INSTAGRAM_BUSINESS&&(o.name=o.username=""),e.set("author",JSON.stringify(o),{silent:!0})}catch(e){}"true"===HM.getParameter("noimages",window.location.href)&&e.set("image","",{silent:!0}),e.get("post_id")||e.set("post_id",e.get("id"),{silent:!0});var r=new Date;if(e.get("created")){var s=e.get("created"),a=new Date;a.setTime(s+"000");var l=new Date;a.getTime()>l.getTime()&&e.get("source")!=HM.Hype.SOURCES.HOOTSUITE&&(a=l),r=a,timeago=$.timeago(a)}e.set("isotimestamp",r.toISOString(),{silent:!0}),e.set("timeago",$.timeago(r)),e.set("sticky",e.get("pinned"))},initialize:function(){var e=this;this.on("change",(function(t){e.manipulateData(t)})),this.manipulateData(this)},addConnectedHashtagSpans:function(e){var t=HM.hypeHelper.getConnectedHashtags();return _(t).each((function(t){var n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");n=new RegExp("(^|[\\s>])("+n+")(?=[\\s<]|$)","i"),e=e.replace(n,'$1<span class="connected-hashtag">$2</span>')})),e},addStarsContainer:function(e){return e.replace(/^((<img.+:star:[^>]+)>)+/,'<p class="review-trackers-stars">$&</p>')},isCustomPost:function(){return this.get("source")===HM.Hype.SOURCES.CUSTOM},isInstagramPost:function(){return this.get("source")===HM.Hype.SOURCES.INSTAGRAM},isFacebookPost:function(){return this.get("source")===HM.Hype.SOURCES.FACEBOOK},isInstagramBusinessPost:function(){return this.get("source")==HM.Hype.SOURCES.INSTAGRAM_BUSINESS},isTiktokPost:function(){return/www\.tiktok\.com/.test(this.get("url"))},isInFuture:function(){return new Date(1e3*this.get("created"))>new Date},canRequestRightsUsingInstagramMention:function(){return this.isInstagramBusinessPost()||this.isInstagramPost()},isCopyrighted:function(){var e=this.get("user_rights");if(!e)return!1;var t=e.copyright_detection_report;return t?t.copyright:void 0},author:function(){function e(e,t){return e.length>(t||16)?e.substring(0,t||16)+"…":e}try{var t=JSON.parse(this.get("author"));if(res={},t&&t.name){var n=t.name,i=e(n),o=t.username?"@"+t.username:"",r=e(o),s=t.link,a=(o+"\n"+(t.byline||"")).trim(),l=_.escape(a).replace("\n","<br>"),c=""!==t.picture?t.picture:this.get("acct_image");if("https:"===window.location.protocol&&(c=c.replace(/^http:\/\//,"https://")),c.match(/\/image\/(?:unknown|generic)\//)){var u=HM.hypeHelper.getEmbedDisplayProfileProperty("generic_avatar_background_color"),d=HM.hypeHelper.getEmbedDisplayProfileProperty("generic_avatar_text_color");u&&(c=c.replace(/image\/(unknown|generic)\//,"image/$1/b_"+encodeURIComponent(u)+",")),d&&(c=c.replace(/image\/(unknown|generic)\//,"image/$1/co_"+encodeURIComponent(d)+","))}return this.get("source")===HM.Hype.SOURCES.TWITTER&&(i=n=t.fullname?t.fullname:t.name,r=o,s="http://www.twitter.com/"+t.username),{acct_name:i,acct_name_full:n,acct_url:s,acct_image:c,acct_username:r,acct_username_full:o,acct_byline:a,acct_byline_html:l}}return!1}catch(e){return!1}},shouldShowIcon:function(){var e=this.get("source");return e!==HM.Hype.SOURCES.PUBLIC_POST&&e!==HM.Hype.SOURCES.HOOTSUITE||HM.hypeHelper.onModerate()},toJSON:function(){var e=Backbone.Model.prototype.toJSON.call(this);$.extend(e,this.author()),$.extend(e,{text_only:!e.image}),_(HM.Hype.SOURCES).each((function(t,n){e["is_"+n.toLowerCase()]=e.source==t,e.source==t&&(e.source_network=n.toLowerCase())})),e.metadata&&e.metadata.image_objects_rekognition&&(e.hue_tags_des="Image may contain: "+e.metadata.image_objects_rekognition.slice(0,5).join(", "));var t=HM.Hype.SOURCE_ACCOUNTS[e.source];e.source_network=e.source?t.network:"custom",e.network_title=HM.Hype.SOURCE_TITLES[e.source],e.notrack="true"===HM.getParameter("notrack")||"1"===navigator.doNotTrack,e.source&&t.account&&this.shouldShowIcon()&&(e.network_icon=t.account.favicon,e.social_icon=HM.isSocialIcon(t.account.favicon));var n=t&&t.account&&_.isString(t.account.customImage);return n&&(e.has_custom_icon=n,e.network_icon=t.account.customImage),e.timeago=$.timeago(e.isotimestamp),e.image=e.image.replace(/(['")\\])/g,"\\$1"),e},nextRelativeOffset:function(){return relativeOffset=this.get("relative_offset"),relativeOffset+1}},{SOURCES:{FACEBOOK:1,TWITTER:2,YOUTUBE:4,PINTEREST:5,RSS:6,LINKEDIN:8,TUMBLR:10,CUSTOM:11,FLICKR:12,GOOGLE_NEWS:13,HOOTSUITE:15,PUBLIC_POST:16,SLACK:17,SPARK:18,SMS:19,REVIEW_TRACKERS:20,INSTAGRAM_BUSINESS:21,EXTERNALLY_SOURCED_POSTS:22,TIKTOK:23,EMAIL:25},SOURCE_ACCOUNTS:{1:{network:"facebook",account:HM.FacebookAccount},2:{network:"twitter",account:HM.TwitterAccount},4:{network:"youtube",account:HM.YoutubeAccount},5:{network:"pinterest",account:HM.PinterestAccount},6:{network:"rss",account:HM.RSSAccount},8:{network:"linkedin",account:HM.LinkedinAccount},10:{network:"tumblr",account:HM.TumblrAccount},11:{network:"custom"},12:{network:"flickr",account:HM.FlickrAccount},13:{network:"google_news",account:HM.GoogleNewsAccount},15:{network:"hootsuite",account:HM.HootsuiteAccount},16:{network:"public_post",account:HM.PublicPostAccount},17:{network:"slack",account:HM.SlackAccount},18:{network:"spark",account:HM.SparkAccount},19:{network:"sms",account:HM.SmsAccount},20:{network:"review_trackers",account:HM.ReviewTrackersAccount},21:{network:"instagram_business",account:HM.InstagramBusinessAccount},22:{network:"externally_sourced_posts",account:HM.ExternallySourcedPostsAccount},23:{network:"tiktok",account:HM.TiktokAccount},24:{network:"form_submission",account:HM.FormSubmissionAccount},25:{network:"email",account:HM.EmailAccount}},SOURCE_TITLES:{1:"Facebook",2:"Twitter",4:"YouTube",5:"Pinterest",6:"RSS",8:"LinkedIn",10:"Tumblr",11:"Custom",12:"Flickr",13:"Google News",15:"Hootsuite",16:"Public",17:"Slack",18:"Spark",19:"SMS",20:"User Reviews",21:"Instagram",22:"Browser Extensions",23:"TikTok",24:"Experience Builder",25:"Email"},VISIBILITY:{DELETED:-2,PRIVATE:0,PUBLIC:1,RECURRING:2,IMAGE_MODERATE_DELETE:-5,IMAGE_MODERATE_FAILED:-6}}),HM.SliderHypeCollection=Backbone.Collection.extend({model:HM.Hype,url:HM.apiBaseUrl+"/feed",comparator:function(e){return-1*e.get("created")}}),HM.DisplayHypeCollection=Backbone.Collection.extend({model:HM.Hype,url:HM.apiBaseUrl+"/feed",comparator:function(e){return-1*e.get("created")}}),HM.HypeCollection=Backbone.Collection.extend({model:HM.Hype,url:HM.apiBaseUrl+"/feed",filters:{},generateURL:function(){var e=HM.apiBaseUrl+"/feed/"+this.username+"?";if(this.filters.param&&(e=e+this.filters.param+"&",filterFromParams=Object.fromEntries(new URLSearchParams(this.filters.param)),this.filters=_.extend(this.filters,filterFromParams),delete this.filters.param),!this.filters.moderation){this.filters.remove_duplicate_images=HM.bootstrap.profile.remove_duplicate_images;var t=HM.Themes.info(this.theme).api_filters;_.extend(this.filters,t),0===HM.bootstrap.profile.textupdates&&(this.filters.select="image_only"),HM.isMobile&&(this.filters.nocache=!0,HM.bootstrap.hypes=void 0)}var n={"rights-requested":["requested","pending"],"rights-approved":["approved"],"rights-soft-approved":["soft_approved"],"rights-expired":["expired"],"rights-error":["token_error,missing,error"]},i=[];for(var o in n)this.filters[o]&&(i=i.concat(n[o]));this.filters.user_rights=i.join(",");var r={visibility:"feed",social_feed_ids:"sf"};_.each(this.filters,(function(t,n){n&&null!=t&&""!==t&&(e=e+encodeURIComponent(r[n]||n)+"="+encodeURIComponent(t)+"&")})),"globalfeed"===this.username&&(e+="auth_user_id="+HM.currentAuthUser.id),this.url=e},initialize:function(){var e=this;this.on("change:sticky",(function(t){/edit\/moderate/.test(window.location.href)?t.get("sticky")?HM.showAlert("The post you selected has been pinned to the top of your TINT. Refresh the page to see it there!",{type:"success",autoFadeTimeout:7e3}):HM.showAlert("The post you selected has been unpinned from the top. Refresh the page to see it in its new location.",{type:"success",autoFadeTimeout:7e3}):e.sort()}),this)},SHIFT_FIRST_POST_LEFT:-1,SHIFT_FIRST_POST_RIGHT:1,POSTS_ARE_THE_SAME:0,parse:function(e){return this._normalizeJson(e)},_normalizeJson:function(e){return HM.hypeHelper.normalizeCollectionResponse(e,this)},compareSticky:function(e,t){return e.get("sticky")&&!t.get("sticky")?this.SHIFT_FIRST_POST_LEFT:!e.get("sticky")&&t.get("sticky")?this.SHIFT_FIRST_POST_RIGHT:this.POSTS_ARE_THE_SAME},compareApproved:function(e,t){var n=e.get("approved_at")||0,i=t.get("approved_at")||0;return n>i?this.SHIFT_FIRST_POST_LEFT:n<i?this.SHIFT_FIRST_POST_RIGHT:this.POSTS_ARE_THE_SAME},compareCreated:function(e,t){return e.get("created")>t.get("created")?this.SHIFT_FIRST_POST_LEFT:e.get("created")<t.get("created")?this.SHIFT_FIRST_POST_RIGHT:this.POSTS_ARE_THE_SAME},isSameImage:function(e,t){return(null!==e||null!==t)&&((e^t).toString(2).match(/1/g)||[]).length<17},isHue:function(){return"posts_ordered_by"in this.filters&&"hue"==this.filters.posts_ordered_by},isEditor:function(){return"posts_ordered_by"in this.filters&&"editor"==this.filters.posts_ordered_by},isVisualSimilarity:function(){return"similar_posts_to"in this.filters&&!_.isEmpty(this.filters.similar_posts_to)},compareVisualSimilarity:function(e,t){return this.POSTS_ARE_THE_SAME},compareHue:function(e,t){return this.POSTS_ARE_THE_SAME},comparator:function(e,t){if(/order=random/.test(window.location.search))return _.sample([0,1,-1]);if(this.isVisualSimilarity())return this.compareVisualSimilarity();if(this.isHue())return this.compareHue();if(this.isEditor())return this.compareCreated(e,t);var n=this.compareSticky(e,t);if(n!==this.POSTS_ARE_THE_SAME)return n;var i=this.compareApproved(e,t);return i!==this.POSTS_ARE_THE_SAME?i:this.compareCreated(e,t)},parse:function(e){var t=this;return 1===(e=this._normalizeJson(e)).length&&e[0].error&&(console.log("Discarding apparent error:",e[0]),e=[]),this.filters.remove_duplicate_images&&(e=_(e).reduce((function(e,n){var i=t.findWhere({phash_str:n.phash_str});return i&&t.isSameImage(i.get("phash_str"),n.phash_str)?t._reset():e.push(n),e}),[])),e}}),HM.EditorPostCollection=HM.HypeCollection.extend({constructor:function(e,t){this.has_account=!1,this.shouldShowExamplePosts(e)&&(e=HM.EXAMPLE_POSTS,this.postsAreExamples=!0),Backbone.Collection.call(this,e,t)},shouldShowExamplePosts:function(e,t){return _.isEmpty(e)&&!this.has_account},parse:function(e){var t=this;return 1===(e=this._normalizeJson(e)).length&&e[0].error&&(console.log("Discarding apparent error:",e[0]),e=[]),HM.hypeHelper.updatePaginationRange(e,this),e=_(e).reduce((function(e,n){var i=t.findWhere({post_id:n.post_id});return e.push(i||n),e}),[]),this.shouldShowExamplePosts(e)?(this.postsAreExamples=!0,HM.EXAMPLE_POSTS):(this.postsAreExamples=!1,e)},add:function(e,t){return this.postsAreExamples&&(this._reset(),this.postsAreExamples=!1),Backbone.Collection.prototype.add.call(this,e,t)}});var BaseView=function(e){this.bindings=[],this.delegations=[],Backbone.View.apply(this,[e])};_.extend(BaseView.prototype,Backbone.View.prototype,{bindTo:function(e,t,n){e.unbind(t),e.bind(t,n),this.bindings.push({model:e,ev:t,callback:n})},delegateTo:function(e,t,n,i){e.undelegate(t,n),e.delegate(t,n,i),this.delegations.push({model:e,ev:n,target:t,callback:i})},unbindFromAll:function(){_.each(this.bindings,(function(e){e.model.unbind(e.ev,e.callback)})),_.each(this.delegations,(function(e){e.model.undelegate(e.target,e.ev,e.callback)})),this.bindings=[],this.delegations=[]},dispose:function(){this.unbindFromAll(),this.unbind(),this.undelegateEvents(),this.stopListening(),"function"==typeof this.onClose&&this.onClose()}}),BaseView.extend=Backbone.View.extend,HM.PersonalizedThemeStylesheet=BaseView.extend({template:"personalizedThemeStylesheetTemplate",initialize:function(e){$(window).on("resize.profileHolder",_.debounce(_.bind(this.layout,this),50)),e.bind&&this.listenTo(this.model,"reset change",this.render,this)},onClose:function(){$(window).off("resize.personalizedThemeStylesheet")},events:{"click .powered-by-logo":"trackLogoClick"},trackLogoClick:function(){},render:function(e){var t=this;return HM.TemplateManager.get(this.template,(function(n){var i=_.extend(e||{},t.serializeData());console.log("PersonalizedThemeStylesheet: bg_page_image",i),t.$el.html(Mustache.render(n,i)),HM.PersonalizedThemeStylesheet.loadFonts(t.model),setTimeout(t.layout.bind(t),0)})),this},renderHTML:function(){return this.renderer.render(this.template,this.serializeData())},layout:function(){var e=new HM.TintLayout(this.model),t=e.banner();this.$(".profile-banner").css({height:t.height(),width:t.width(),top:t.top(),left:t.left()}),this.$(".powered-by-logo, .btn.public-add-post").css({top:e.poweredByTintTop()})},serializeData:function(){var e=this.model.toJSON(),t=HM.hypeHelper.getDisplayProfile("{}");switch(/"|'/.test(e.font_secondary)||(e.font_secondary="'"+e.font_secondary+"'"),e.color_namebar_buttons&&(6===e.color_namebar_buttons.length&&-1===e.color_namebar_buttons.indexOf("#")&&(e.color_namebar_buttons="#"+e.color_namebar_buttons),e.color_namebar_buttons_lighter=HM.PersonalizedThemeStylesheet.hexToRGB(e.color_namebar_buttons,20,1),e.color_namebar_buttons_rgba=HM.PersonalizedThemeStylesheet.hexToRGB(e.color_namebar_buttons)),!e.publicpost_button_color_disabled&&e.publicpost_button_color||(e.publicpost_button_color=e.color_namebar_buttons),e.publicpost_button_text||(e.publicpost_button_text="Add a post"),e.fontcolor_post&&(e.fontcolor_post_darker=HM.PersonalizedThemeStylesheet.hexToRGB(e.fontcolor_post,-40,1)),e.cta_button_show){case"both":e.cta_button_show_popup=!0,e.cta_button_show_post=!0;break;case"popup":e.cta_button_show_popup=!0,e.cta_button_show_post=!1;break;case"post":e.cta_button_show_popup=!1,e.cta_button_show_post=!0;break;default:e.cta_button_show_popup=!0,e.cta_button_show_post=!0}HM.hypeHelper.shouldRunThemeInIFrame(HM.Themes.info(this.model.get("theme")));return _.extend(e,{background_override:HM.bodyBackgroundOverride,has_bg_color:this.model.hasBackgroundColor(),has_bg_image:this.model.hasBackgroundImage(),bg_image_css:this.model.hasBackgroundImage()&&this.generateBackgroundImageCSS(),should_render_banner:HM.hypeHelper.shouldRenderBanner(this.model),should_add_drop_shadow:"hypeTemplate_atmosphere"!==this.model.get("theme"),should_render_powered_by_tint:!0===this.model.get("powered_by_tint_logo"),theme_is_mosaic:"hypeTemplate_mosaic"==this.model.get("theme"),is_editing:/\/edit/.test(window.location.href),hide_share_buttons:!this.model.get("sharebuttons"),hide_author:!this.model.get("show_author"),lineheight_secondary:parseInt(this.model.get("fontsize_secondary"),10)+2,fontsize_secondary_wide:parseInt(this.model.get("fontsize_secondary"),10)+5,lineheight_secondary_wide:parseInt(this.model.get("fontsize_secondary"),10)+7,fontcolor_post:this.model.isColorString(e.fontcolor_post)?e.fontcolor_post:t.fontcolor_post,color_namebar_buttons_rgba:e.color_namebar_buttons_rgba,text_on_hover:this.model.get("text_on_hover"),is_iframe_theme:this.model.shouldRunThemeInIFrame()})},generateBackgroundImageCSS:function(){var e,t=this.model.get("bg_page_image");return/^url\(/.test(t)||(e="url("+t+")"),"https:"!==window.location.protocol||/https/.test(e)||(e=e.replace("http","https")),e}},{loadFonts:function(e,t){for(var n in e.attributes)/font_secondary$|font_family$/.test(n)&&this.loadFont(e.get(n),t,e.get(n+"_woff_url"))},loadFont:function(e,t,n){if(t=t||{},"string"==typeof e){e=e.replace(/ Bold$/,"");var i={};if(n){$("#customFont").length>0&&$("#customFont").remove();var o=$('<style id="customFont" type="text/css">@font-face {font-family:"'+e+'";src:url("'+n+'") format("woff");}</style>');$("head").append(o),i={custom:{families:[e]}}}else i={google:{families:[e+":300,400"]}};WebFont.load(_.extend({fontactive:function(e,t){$(HM).trigger("webfontActive",arguments)}},i))}},hexToRGB:function(e,t,n){3===(e=e.replace("#","")).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var i=parseInt(e,16),o=[i>>16&255,i>>8&255,255&i],r=.8;return n&&(r=n),/number/.test(typeof t)&&(o=_.map(o,(function(e){var n=e+t;return n>255?n=255:n<0&&(n=0),n}))),"rgba("+o[0]+","+o[1]+","+o[2]+", "+r+")"}}),HM.ShareTooltipView=BaseView.extend({template:"shareTooltipTemplate",initialize:function(e){this.postAttributes=e.model,this.settings=e.settings,this.via=e.via||"tint"},serializeData:function(){return{postSupportsSharing:/^https?:\/\/.{4,}/.test(this.postAttributes.url),shareOptions:this.shareOptions()}},twurl:function(){return this.buildUrl("tw").url},fburl:function(){return this.buildUrl("fb").url},buildUrl:function(e){var t=this.postAttributes,n={"[VIA]":this.via?"&via="+this.via:"","[LINK]":encodeURIComponent(t.url),"[TITLE]":encodeURIComponent(t.title),"[IMAGE]":encodeURIComponent(t.original_image),"[TITLE_SCRUBBED]":encodeURIComponent(this.scrubTitle(t.title)),"[BODY]":encodeURIComponent(t.title+"\n\n"+t.url)};for(var i in n)e=e.replace(i,n[i]);return e},scrubTitle:function(e){return e.replace(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-]*)?\??(?:[\-\+=&;%@\.\w]*)#?(?:[\.\!\/\\\w]*))?)/,"")},buildShareOptions:function(e){var t=_.clone(this.SHARE_OPTIONS[e]);if(t)return t.url=this.buildUrl(t.url),t.tintId=this.postAttributes.user_id,t.postId=this.postAttributes.post_id,t},SHARE_OPTIONS:{tw:{code:"tw",name:"Twitter",icon:"fab fa-twitter",url:"https://twitter.com/intent/tweet?url=[LINK]&text=[TITLE_SCRUBBED]"},fb:{code:"fb",name:"Facebook",icon:"fab fa-facebook",url:"http://www.facebook.com/sharer.php?u=[LINK][VIA]&t=[TITLE]"},li:{code:"li",name:"LinkedIn",icon:"fab fa-linkedin-in",url:"https://www.linkedin.com/shareArticle?url=[LINK]&title=[TITLE]&source=TINT"},pin:{code:"pin",name:"Pinterest",icon:"fab fa-pinterest",url:"https://www.pinterest.com/pin/create/button/?url=[LINK]&description=[TITLE]&media=[IMAGE]"},email:{code:"email",name:"Email",icon:"fas fa-envelope",url:"mailto:?subject=You+are+going+to+love+this&body=[BODY]"}},shareOptions:function(){var e=this;return(this.settings&&this.settings.get("sharebuttonoptions")||["tw","fb"]).map((function(t){return e.buildShareOptions(t)})).filter((function(e){return e}))},render:function(){var e=this;return HM.TemplateManager.get(e.template,(function(t){e.$el.html(Mustache.render(t,e.serializeData()))})),this}},{mount:function(e,t){e.tooltipster({trigger:"click",theme:"share-options",offsetX:10,content:t,contentAsHTML:!0,interactive:!0,functionReady:function(t,n){setTimeout((function(){$("li:first-child > a",n.tooltip).focus(),$(".share-menu-focus-guard",n.tooltip).focusin((function(t){t.preventDefault(),e.tooltipster("hide").focus()}))}),0)}})}}),function(e,t){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("jquery")):e.jQueryBridget=t(e,e.jQuery)}(window,(function(e,t){"use strict";function n(n,r,a){function l(e,t,i){var o,r="$()."+n+'("'+t+'")';return e.each((function(e,l){var c=a.data(l,n);if(c){var u=c[t];if(u&&"_"!=t.charAt(0)){var d=u.apply(c,i);o=void 0===o?d:o}else s(r+" is not a valid method")}else s(n+" not initialized. Cannot call methods, i.e. "+r)})),void 0!==o?o:e}function c(e,t){e.each((function(e,i){var o=a.data(i,n);o?(o.option(t),o._init()):(o=new r(i,t),a.data(i,n,o))}))}(a=a||t||e.jQuery)&&(r.prototype.option||(r.prototype.option=function(e){a.isPlainObject(e)&&(this.options=a.extend(!0,this.options,e))}),a.fn[n]=function(e){if("string"==typeof e){var t=o.call(arguments,1);return l(this,e,t)}return c(this,e),this},i(a))}function i(e){!e||e&&e.bridget||(e.bridget=n)}var o=Array.prototype.slice,r=e.console,s=void 0===r?function(){}:function(e){r.error(e)};return i(t||e.jQuery),n})),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,(function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=0,o=n[i];t=t||[];for(var r=this._onceEvents&&this._onceEvents[e];o;){var s=r&&r[o];s&&(this.off(e,o),delete r[o]),o.apply(this,t),o=n[i+=s?0:1]}return this}},e})),function(e,t){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],(function(){return t()})):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,(function(){"use strict";function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}function t(e){var t=getComputedStyle(e);return t||r("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t}function n(){if(!l){l=!0;var n=document.createElement("div");n.style.width="200px",n.style.padding="1px 2px 3px 4px",n.style.borderStyle="solid",n.style.borderWidth="1px 2px 3px 4px",n.style.boxSizing="border-box";var r=document.body||document.documentElement;r.appendChild(n);var s=t(n);i.isBoxSizeOuter=o=200==e(s.width),r.removeChild(n)}}function i(i){if(n(),"string"==typeof i&&(i=document.querySelector(i)),i&&"object"==typeof i&&i.nodeType){var r=t(i);if("none"==r.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<a;t++){e[s[t]]=0}return e}();var l={};l.width=i.offsetWidth,l.height=i.offsetHeight;for(var c=l.isBorderBox="border-box"==r.boxSizing,u=0;u<a;u++){var d=s[u],h=r[d],p=parseFloat(h);l[d]=isNaN(p)?0:p}var f=l.paddingLeft+l.paddingRight,m=l.paddingTop+l.paddingBottom,g=l.marginLeft+l.marginRight,_=l.marginTop+l.marginBottom,v=l.borderLeftWidth+l.borderRightWidth,y=l.borderTopWidth+l.borderBottomWidth,w=c&&o,b=e(r.width);!1!==b&&(l.width=b+(w?0:f+v));var k=e(r.height);return!1!==k&&(l.height=k+(w?0:m+y)),l.innerWidth=l.width-(f+v),l.innerHeight=l.height-(m+y),l.outerWidth=l.width+g,l.outerHeight=l.height+_,l}}var o,r="undefined"==typeof console?function(){}:function(e){console.error(e)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],a=s.length,l=!1;return i})),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,(function(){"use strict";var e=function(){var e=Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n]+"MatchesSelector";if(e[i])return i}}();return function(t,n){return t[e](n)}})),function(e,t){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("desandro-matches-selector")):e.fizzyUIUtils=t(e,e.matchesSelector)}(window,(function(e,t){var n={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t},makeArray:function(e){var t=[];if(Array.isArray(e))t=e;else if(e&&"number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t},removeFrom:function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)},getParent:function(e,n){for(;e!=document.body;)if(e=e.parentNode,t(e,n))return e},getQueryElement:function(e){return"string"==typeof e?document.querySelector(e):e},handleEvent:function(e){var t="on"+e.type;this[t]&&this[t](e)},filterFindElements:function(e,i){e=n.makeArray(e);var o=[];return e.forEach((function(e){if(e instanceof HTMLElement){if(!i)return void o.push(e);t(e,i)&&o.push(e);for(var n=e.querySelectorAll(i),r=0;r<n.length;r++)o.push(n[r])}})),o},debounceMethod:function(e,t,n){var i=e.prototype[t],o=t+"Timeout";e.prototype[t]=function(){var e=this[o];e&&clearTimeout(e);var t=arguments,r=this;this[o]=setTimeout((function(){i.apply(r,t),delete r[o]}),n||100)}},docReady:function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},toDashed:function(e){return e.replace(/(.)([A-Z])/g,(function(e,t,n){return t+"-"+n})).toLowerCase()}},i=e.console;return n.htmlInit=function(t,o){n.docReady((function(){var r=n.toDashed(o),s="data-"+r,a=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+r),c=n.makeArray(a).concat(n.makeArray(l)),u=s+"-options",d=e.jQuery;c.forEach((function(e){var n,r=e.getAttribute(s)||e.getAttribute(u);try{n=r&&JSON.parse(r)}catch(t){return void(i&&i.error("Error parsing "+s+" on "+e.className+": "+t))}var a=new t(e,n);d&&d.data(e,o,a)}))}))},n})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("get-size")):(e.Flickity=e.Flickity||{},e.Flickity.Cell=t(e,e.getSize))}(window,(function(e,t){function n(e,t){this.element=e,this.parent=t,this.create()}var i=n.prototype;return i.create=function(){this.element.style.position="absolute",this.x=0,this.shift=0},i.destroy=function(){this.element.style.position="";var e=this.parent.originSide;this.element.style[e]=""},i.getSize=function(){this.size=t(this.element)},i.setPosition=function(e){this.x=e,this.updateTarget(),this.renderPosition(e)},i.updateTarget=i.setDefaultTarget=function(){var e="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[e]+this.size.width*this.parent.cellAlign},i.renderPosition=function(e){var t=this.parent.originSide;this.element.style[t]=this.parent.getPositionValue(e)},i.wrapShift=function(e){this.shift=e,this.renderPosition(this.x+this.parent.slideableWidth*e)},i.remove=function(){this.element.parentNode.removeChild(this.element)},n})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/slide",t):"object"==typeof module&&module.exports?module.exports=t():(e.Flickity=e.Flickity||{},e.Flickity.Slide=t())}(window,(function(){"use strict";function e(e){this.parent=e,this.isOriginLeft="left"==e.originSide,this.cells=[],this.outerWidth=0,this.height=0}var t=e.prototype;return t.addCell=function(e){if(this.cells.push(e),this.outerWidth+=e.size.outerWidth,this.height=Math.max(e.size.outerHeight,this.height),1==this.cells.length){this.x=e.x;var t=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=e.size[t]}},t.updateTarget=function(){var e=this.isOriginLeft?"marginRight":"marginLeft",t=this.getLastCell(),n=t?t.size[e]:0,i=this.outerWidth-(this.firstMargin+n);this.target=this.x+this.firstMargin+i*this.parent.cellAlign},t.getLastCell=function(){return this.cells[this.cells.length-1]},t.select=function(){this.changeSelectedClass("add")},t.unselect=function(){this.changeSelectedClass("remove")},t.changeSelectedClass=function(e){this.cells.forEach((function(t){t.element.classList[e]("is-selected")}))},t.getCellElements=function(){return this.cells.map((function(e){return e.element}))},e})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("fizzy-ui-utils")):(e.Flickity=e.Flickity||{},e.Flickity.animatePrototype=t(e,e.fizzyUIUtils))}(window,(function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=0;n||(n=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-i)),o=setTimeout(e,n);return i=t+n,o});var o={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var e=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(e),this.isAnimating){var t=this;n((function(){t.animate()}))}}},r="string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform";return o.positionSlider=function(){var e=this.x;this.options.wrapAround&&this.cells.length>1&&(e=t.modulo(e,this.slideableWidth),e-=this.slideableWidth,this.shiftWrapCells(e)),e+=this.cursorPosition,e=this.options.rightToLeft&&r?-e:e;var n=this.getPositionValue(e);this.slider.style[r]=this.isAnimating?"translate3d("+n+",0,0)":"translateX("+n+")";var i=this.slides[0];if(i){var o=-this.x-i.target,s=o/this.slidesWidth;this.dispatchEvent("scroll",null,[s,o])}},o.positionSliderAtSelected=function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.positionSlider())},o.getPositionValue=function(e){return this.options.percentPosition?.01*Math.round(e/this.size.innerWidth*1e4)+"%":Math.round(e)+"px"},o.settle=function(e){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*e)||this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle"))},o.shiftWrapCells=function(e){var t=this.cursorPosition+e;this._shiftCells(this.beforeShiftCells,t,-1);var n=this.size.innerWidth-(e+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,n,1)},o._shiftCells=function(e,t,n){for(var i=0;i<e.length;i++){var o=e[i],r=t>0?n:0;o.wrapShift(r),t-=o.size.outerWidth}},o._unshiftCells=function(e){if(e&&e.length)for(var t=0;t<e.length;t++)e[t].wrapShift(0)},o.integratePhysics=function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},o.applyForce=function(e){this.velocity+=e},o.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},o.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},o.applyDragForce=function(){if(this.isPointerDown){var e=this.dragX-this.x-this.velocity;this.applyForce(e)}},o.applySelectedAttraction=function(){if(!this.isPointerDown&&!this.isFreeScrolling&&this.cells.length){var e=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(e)}},o})),function(e,t){if("function"==typeof define&&define.amd)define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],(function(n,i,o,r,s,a){return t(e,n,i,o,r,s,a)}));else if("object"==typeof module&&module.exports)module.exports=t(e,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var n=e.Flickity;e.Flickity=t(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,n.Cell,n.Slide,n.animatePrototype)}}(window,(function(e,t,n,i,o,r,s){function a(e,t){for(e=i.makeArray(e);e.length;)t.appendChild(e.shift())}function l(e,t){var n=i.getQueryElement(e);if(n){if(this.element=n,this.element.flickityGUID){var o=p[this.element.flickityGUID];return o.option(t),o}c&&(this.$element=c(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(t),this._create()}else d&&d.error("Bad element for Flickity: "+(n||e))}var c=e.jQuery,u=e.getComputedStyle,d=e.console,h=0,p={};l.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},l.createMethods=[];var f=l.prototype;i.extend(f,t.prototype),f._create=function(){var t=this.guid=++h;this.element.flickityGUID=t,p[t]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&e.addEventListener("resize",this),l.createMethods.forEach((function(e){this[e]()}),this),this.options.watchCSS?this.watchCSS():this.activate()},f.option=function(e){i.extend(this.options,e)},f.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),a(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate");var e,t=this.options.initialIndex;e=this.isInitActivated?this.selectedIndex:void 0!==t&&this.cells[t]?t:0,this.select(e,!1,!0),this.isInitActivated=!0}},f._createSlider=function(){var e=document.createElement("div");e.className="flickity-slider",e.style[this.originSide]=0,this.slider=e},f._filterFindCellElements=function(e){return i.filterFindElements(e,this.options.cellSelector)},f.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},f._makeCells=function(e){return this._filterFindCellElements(e).map((function(e){return new o(e,this)}),this)},f.getLastCell=function(){return this.cells[this.cells.length-1]},f.getLastSlide=function(){return this.slides[this.slides.length-1]},f.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},f._positionCells=function(e){e=e||0,this.maxCellHeight=e&&this.maxCellHeight||0;var t=0;if(e>0){var n=this.cells[e-1];t=n.x+n.size.outerWidth}for(var i=this.cells.length,o=e;o<i;o++){var r=this.cells[o];r.setPosition(t),t+=r.size.outerWidth,this.maxCellHeight=Math.max(r.size.outerHeight,this.maxCellHeight)}this.slideableWidth=t,this.updateSlides(),this._containSlides(),this.slidesWidth=i?this.getLastSlide().target-this.slides[0].target:0},f._sizeCells=function(e){e.forEach((function(e){e.getSize()}))},f.updateSlides=function(){if(this.slides=[],this.cells.length){var e=new r(this);this.slides.push(e);var t="left"==this.originSide?"marginRight":"marginLeft",n=this._getCanCellFit();this.cells.forEach((function(i,o){if(e.cells.length){var s=e.outerWidth-e.firstMargin+(i.size.outerWidth-i.size[t]);n.call(this,o,s)||(e.updateTarget(),e=new r(this),this.slides.push(e)),e.addCell(i)}else e.addCell(i)}),this),e.updateTarget(),this.updateSelectedSlide()}},f._getCanCellFit=function(){var e=this.options.groupCells;if(!e)return function(){return!1};if("number"==typeof e){var t=parseInt(e,10);return function(e){return e%t!=0}}var n="string"==typeof e&&e.match(/^(\d+)%$/),i=n?parseInt(n[1],10)/100:1;return function(e,t){return t<=(this.size.innerWidth+1)*i}},f._init=f.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},f.getSize=function(){this.size=n(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var m={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return f.setCellAlign=function(){var e=m[this.options.cellAlign];this.cellAlign=e?e[this.originSide]:this.options.cellAlign},f.setGallerySize=function(){if(this.options.setGallerySize){var e=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=e+"px"}},f._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var e=this.cursorPosition,t=this.cells.length-1;this.beforeShiftCells=this._getGapCells(e,t,-1),e=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(e,0,1)}},f._getGapCells=function(e,t,n){for(var i=[];e>0;){var o=this.cells[t];if(!o)break;i.push(o),t+=n,e-=o.size.outerWidth}return i},f._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var e=this.options.rightToLeft,t=e?"marginRight":"marginLeft",n=e?"marginLeft":"marginRight",i=this.slideableWidth-this.getLastCell().size[n],o=i<this.size.innerWidth,r=this.cursorPosition+this.cells[0].size[t],s=i-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(e){o?e.target=i*this.cellAlign:(e.target=Math.max(e.target,r),e.target=Math.min(e.target,s))}),this)}},f.dispatchEvent=function(e,t,n){var i=t?[t].concat(n):n;if(this.emitEvent(e,i),c&&this.$element){var o=e+=this.options.namespaceJQueryEvents?".flickity":"";if(t){var r=c.Event(t);r.type=e,o=r}this.$element.trigger(o,n)}},f.select=function(e,t,n){this.isActive&&(e=parseInt(e,10),this._wrapSelect(e),(this.options.wrapAround||t)&&(e=i.modulo(e,this.slides.length)),this.slides[e]&&(this.selectedIndex=e,this.updateSelectedSlide(),n?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select"),this.dispatchEvent("cellSelect")))},f._wrapSelect=function(e){var t=this.slides.length;if(!(this.options.wrapAround&&t>1))return e;var n=i.modulo(e,t),o=Math.abs(n-this.selectedIndex),r=Math.abs(n+t-this.selectedIndex),s=Math.abs(n-t-this.selectedIndex);!this.isDragSelect&&r<o?e+=t:!this.isDragSelect&&s<o&&(e-=t),e<0?this.x-=this.slideableWidth:e>=t&&(this.x+=this.slideableWidth)},f.previous=function(e,t){this.select(this.selectedIndex-1,e,t)},f.next=function(e,t){this.select(this.selectedIndex+1,e,t)},f.updateSelectedSlide=function(){var e=this.slides[this.selectedIndex];e&&(this.unselectSelectedSlide(),this.selectedSlide=e,e.select(),this.selectedCells=e.cells,this.selectedElements=e.getCellElements(),this.selectedCell=e.cells[0],this.selectedElement=this.selectedElements[0])},f.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},f.selectCell=function(e,t,n){var i;"number"==typeof e?i=this.cells[e]:("string"==typeof e&&(e=this.element.querySelector(e)),i=this.getCell(e));for(var o=0;i&&o<this.slides.length;o++){if(-1!=this.slides[o].cells.indexOf(i))return void this.select(o,t,n)}},f.getCell=function(e){for(var t=0;t<this.cells.length;t++){var n=this.cells[t];if(n.element==e)return n}},f.getCells=function(e){e=i.makeArray(e);var t=[];return e.forEach((function(e){var n=this.getCell(e);n&&t.push(n)}),this),t},f.getCellElements=function(){return this.cells.map((function(e){return e.element}))},f.getParentCell=function(e){var t=this.getCell(e);return t||(e=i.getParent(e,".flickity-slider > *"),this.getCell(e))},f.getAdjacentCellElements=function(e,t){if(!e)return this.selectedSlide.getCellElements();t=void 0===t?this.selectedIndex:t;var n=this.slides.length;if(1+2*e>=n)return this.getCellElements();for(var o=[],r=t-e;r<=t+e;r++){var s=this.options.wrapAround?i.modulo(r,n):r,a=this.slides[s];a&&(o=o.concat(a.getCellElements()))}return o},f.uiChange=function(){this.emitEvent("uiChange")},f.childUIPointerDown=function(e){this.emitEvent("childUIPointerDown",[e])},f.onresize=function(){this.watchCSS(),this.resize()},i.debounceMethod(l,"onresize",150),f.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=i.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var e=this.selectedElements&&this.selectedElements[0];this.selectCell(e,!1,!0)}},f.watchCSS=function(){this.options.watchCSS&&(-1!=u(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},f.onkeydown=function(e){if(this.options.accessibility&&(!document.activeElement||document.activeElement==this.element))if(37==e.keyCode){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()}else if(39==e.keyCode){var n=this.options.rightToLeft?"previous":"next";this.uiChange(),this[n]()}},f.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.cells.forEach((function(e){e.destroy()})),this.unselectSelectedSlide(),this.element.removeChild(this.viewport),a(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},f.destroy=function(){this.deactivate(),e.removeEventListener("resize",this),this.emitEvent("destroy"),c&&this.$element&&c.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete p[this.guid]},i.extend(f,s),l.data=function(e){var t=(e=i.getQueryElement(e))&&e.flickityGUID;return t&&p[t]},i.htmlInit(l,"flickity"),c&&c.bridget&&c.bridget("flickity",l),l.Cell=o,l})),function(e,t){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.Unipointer=t(e,e.EvEmitter)}(window,(function(e,t){function n(){}var i=n.prototype=Object.create(t.prototype);i.bindStartEvent=function(e){this._bindStartEvent(e,!0)},i.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},i._bindStartEvent=function(t,n){var i=(n=void 0===n||!!n)?"addEventListener":"removeEventListener";e.navigator.pointerEnabled?t[i]("pointerdown",this):e.navigator.msPointerEnabled?t[i]("MSPointerDown",this):(t[i]("mousedown",this),t[i]("touchstart",this))},i.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.getTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.identifier==this.pointerIdentifier)return n}},i.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},i.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},i.onMSPointerDown=i.onpointerdown=function(e){this._pointerDown(e,e)},i._pointerDown=function(e,t){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},i.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return i._bindPostStartEvents=function(t){if(t){var n=o[t.type];n.forEach((function(t){e.addEventListener(t,this)}),this),this._boundPointerEvents=n}},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach((function(t){e.removeEventListener(t,this)}),this),delete this._boundPointerEvents)},i.onmousemove=function(e){this._pointerMove(e,e)},i.onMSPointerMove=i.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},i.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},i._pointerMove=function(e,t){this.pointerMove(e,t)},i.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},i.onmouseup=function(e){this._pointerUp(e,e)},i.onMSPointerUp=i.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},i.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},i._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},i.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},i._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},i.pointerDone=function(){},i.onMSPointerCancel=i.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},i.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},i._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},i.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},n.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},n})),function(e,t){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("unipointer")):e.Unidragger=t(e,e.Unipointer)}(window,(function(e,t){function n(){}function i(){}var o=i.prototype=Object.create(t.prototype);o.bindHandles=function(){this._bindHandles(!0)},o.unbindHandles=function(){this._bindHandles(!1)};var r=e.navigator;return o._bindHandles=function(e){var t;e=void 0===e||!!e,t=r.pointerEnabled?function(t){t.style.touchAction=e?"none":""}:r.msPointerEnabled?function(t){t.style.msTouchAction=e?"none":""}:n;for(var i=e?"addEventListener":"removeEventListener",o=0;o<this.handles.length;o++){var s=this.handles[o];this._bindStartEvent(s,e),t(s),s[i]("click",this)}},o.pointerDown=function(e,t){if("INPUT"==e.target.nodeName&&"range"==e.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(e,t);var n=document.activeElement;n&&n.blur&&n.blur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])},o._dragPointerDown=function(e,n){this.pointerDownPoint=t.getPointerPoint(n),this.canPreventDefaultOnPointerDown(e,n)&&e.preventDefault()},o.canPreventDefaultOnPointerDown=function(e){return"SELECT"!=e.target.nodeName},o.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,n]),this._dragMove(e,t,n)},o._dragPointerMove=function(e,n){var i=t.getPointerPoint(n),o={x:i.x-this.pointerDownPoint.x,y:i.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(o)&&this._dragStart(e,n),o},o.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},o.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},o._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},o._dragStart=function(e,n){this.isDragging=!0,this.dragStartPoint=t.getPointerPoint(n),this.isPreventingClicks=!0,this.dragStart(e,n)},o.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},o._dragMove=function(e,t,n){this.isDragging&&this.dragMove(e,t,n)},o.dragMove=function(e,t,n){e.preventDefault(),this.emitEvent("dragMove",[e,t,n])},o._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},o.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},o.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},o._staticClick=function(e,t){if(!this.isIgnoringMouseUp||"mouseup"!=e.type){var n=e.target.nodeName;"INPUT"!=n&&"TEXTAREA"!=n||e.target.focus(),this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400))}},o.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},i.getPointerPoint=t.getPointerPoint,i})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],(function(n,i,o){return t(e,n,i,o)})):"object"==typeof module&&module.exports?module.exports=t(e,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):e.Flickity=t(e,e.Flickity,e.Unidragger,e.fizzyUIUtils)}(window,(function(e,t,n,i){function o(){return{x:e.pageXOffset,y:e.pageYOffset}}i.extend(t.defaults,{draggable:!0,dragThreshold:3}),t.createMethods.push("_createDrag");var r=t.prototype;i.extend(r,n.prototype),r._createDrag=function(){this.on("activate",this.bindDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.unbindDrag)},r.bindDrag=function(){this.options.draggable&&!this.isDragBound&&(this.element.classList.add("is-draggable"),this.handles=[this.viewport],this.bindHandles(),this.isDragBound=!0)},r.unbindDrag=function(){this.isDragBound&&(this.element.classList.remove("is-draggable"),this.unbindHandles(),delete this.isDragBound)},r._uiChangeDrag=function(){delete this.isFreeScrolling},r._childUIPointerDownDrag=function(e){e.preventDefault(),this.pointerDownFocus(e)};var s={TEXTAREA:!0,INPUT:!0,OPTION:!0},a={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};r.pointerDown=function(t,n){if(s[t.target.nodeName]&&!a[t.target.type])return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(t,n);var i=document.activeElement;i&&i.blur&&i!=this.element&&i!=document.body&&i.blur(),this.pointerDownFocus(t),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this._bindPostStartEvents(t),this.pointerDownScroll=o(),e.addEventListener("scroll",this),this.dispatchEvent("pointerDown",t,[n])};var l={touchstart:!0,MSPointerDown:!0},c={INPUT:!0,SELECT:!0};return r.pointerDownFocus=function(t){if(this.options.accessibility&&!l[t.type]&&!c[t.target.nodeName]){var n=e.pageYOffset;this.element.focus(),e.pageYOffset!=n&&e.scrollTo(e.pageXOffset,n)}},r.canPreventDefaultOnPointerDown=function(e){var t="touchstart"==e.type,n=e.target.nodeName;return!t&&"SELECT"!=n},r.hasDragStarted=function(e){return Math.abs(e.x)>this.options.dragThreshold},r.pointerUp=function(e,t){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",e,[t]),this._dragPointerUp(e,t)},r.pointerDone=function(){e.removeEventListener("scroll",this),delete this.pointerDownScroll},r.dragStart=function(e,t){this.dragStartPosition=this.x,this.startAnimation(),this.dispatchEvent("dragStart",e,[t])},r.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.dispatchEvent("pointerMove",e,[t,n]),this._dragMove(e,t,n)},r.dragMove=function(e,t,n){e.preventDefault(),this.previousDragX=this.dragX;var i=this.options.rightToLeft?-1:1,o=this.dragStartPosition+n.x*i;if(!this.options.wrapAround&&this.slides.length){var r=Math.max(-this.slides[0].target,this.dragStartPosition);o=o>r?.5*(o+r):o;var s=Math.min(-this.getLastSlide().target,this.dragStartPosition);o=o<s?.5*(o+s):o}this.dragX=o,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",e,[t,n])},r.dragEnd=function(e,t){this.options.freeScroll&&(this.isFreeScrolling=!0);var n=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var i=this.getRestingPosition();this.isFreeScrolling=-i>this.slides[0].target&&-i<this.getLastSlide().target}else this.options.freeScroll||n!=this.selectedIndex||(n+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(n),delete this.isDragSelect,this.dispatchEvent("dragEnd",e,[t])},r.dragEndRestingSelect=function(){var e=this.getRestingPosition(),t=Math.abs(this.getSlideDistance(-e,this.selectedIndex)),n=this._getClosestResting(e,t,1),i=this._getClosestResting(e,t,-1);return n.distance<i.distance?n.index:i.index},r._getClosestResting=function(e,t,n){for(var i=this.selectedIndex,o=1/0,r=this.options.contain&&!this.options.wrapAround?function(e,t){return e<=t}:function(e,t){return e<t};r(t,o)&&(i+=n,o=t,null!==(t=this.getSlideDistance(-e,i)));)t=Math.abs(t);return{distance:o,index:i-n}},r.getSlideDistance=function(e,t){var n=this.slides.length,o=this.options.wrapAround&&n>1,r=o?i.modulo(t,n):t,s=this.slides[r];if(!s)return null;var a=o?this.slideableWidth*Math.floor(t/n):0;return e-(s.target+a)},r.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var e=this.getSlideDistance(-this.dragX,this.selectedIndex),t=this.previousDragX-this.dragX;return e>0&&t>0?1:e<0&&t<0?-1:0},r.staticClick=function(e,t){var n=this.getParentCell(e.target),i=n&&n.element,o=n&&this.cells.indexOf(n);this.dispatchEvent("staticClick",e,[t,i,o])},r.onscroll=function(){var e=o(),t=this.pointerDownScroll.x-e.x,n=this.pointerDownScroll.y-e.y;(Math.abs(t)>3||Math.abs(n)>3)&&this._pointerDone()},t})),function(e,t){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("unipointer")):e.TapListener=t(e,e.Unipointer)}(window,(function(e,t){function n(e){this.bindTap(e)}var i=n.prototype=Object.create(t.prototype);return i.bindTap=function(e){e&&(this.unbindTap(),this.tapElement=e,this._bindStartEvent(e,!0))},i.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)},i.pointerUp=function(n,i){if(!this.isIgnoringMouseUp||"mouseup"!=n.type){var o=t.getPointerPoint(i),r=this.tapElement.getBoundingClientRect(),s=e.pageXOffset,a=e.pageYOffset;if(o.x>=r.left+s&&o.x<=r.right+s&&o.y>=r.top+a&&o.y<=r.bottom+a&&this.emitEvent("tap",[n,i]),"mouseup"!=n.type){this.isIgnoringMouseUp=!0;var l=this;setTimeout((function(){delete l.isIgnoringMouseUp}),400)}}},i.destroy=function(){this.pointerDone(),this.unbindTap()},n})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],(function(n,i,o){return t(e,n,i,o)})):"object"==typeof module&&module.exports?module.exports=t(e,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):t(e,e.Flickity,e.TapListener,e.fizzyUIUtils)}(window,(function(e,t,n,i){"use strict";function o(e,t){this.direction=e,this.parent=t,this._create()}var r="http://www.w3.org/2000/svg";o.prototype=new n,o.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var e=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==e;var t=this.element=document.createElement("button");t.className="flickity-prev-next-button",t.className+=this.isPrevious?" previous":" next",t.setAttribute("type","button"),this.disable(),t.setAttribute("aria-label",this.isPrevious?"previous":"next");var n=this.createSVG();t.appendChild(n),this.on("tap",this.onTap),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindTap(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),n.prototype.destroy.call(this),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var e=document.createElementNS(r,"svg");e.setAttribute("viewBox","0 0 100 100");var t=document.createElementNS(r,"path"),n=function(e){return"string"==typeof e?e:"M "+e.x0+",50 L "+e.x1+","+(e.y1+50)+" L "+e.x2+","+(e.y2+50)+" L "+e.x3+",50  L "+e.x2+","+(50-e.y2)+" L "+e.x1+","+(50-e.y1)+" Z"}(this.parent.options.arrowShape);return t.setAttribute("d",n),t.setAttribute("class","arrow"),this.isLeft||t.setAttribute("transform","translate(100, 100) rotate(180) "),e.appendChild(t),e},o.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var e=this.isPrevious?"previous":"next";this.parent[e]()}},o.prototype.handleEvent=i.handleEvent,o.prototype.onclick=function(){var e=document.activeElement;e&&e==this.element&&this.onTap()},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var e=this.parent.slides;if(this.parent.options.wrapAround&&e.length>1)this.enable();else{var t=e.length?e.length-1:0,n=this.isPrevious?0:t;this[this.parent.selectedIndex==n?"disable":"enable"]()}},o.prototype.destroy=function(){this.deactivate()},i.extend(t.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),t.createMethods.push("_createPrevNextButtons");var s=t.prototype;return s._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},s.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},s.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},t.PrevNextButton=o,t})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],(function(n,i,o){return t(e,n,i,o)})):"object"==typeof module&&module.exports?module.exports=t(e,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):t(e,e.Flickity,e.TapListener,e.fizzyUIUtils)}(window,(function(e,t,n,i){function o(e){this.parent=e,this._create()}o.prototype=new n,o.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.on("tap",this.onTap),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),n.prototype.destroy.call(this)},o.prototype.setDots=function(){var e=this.parent.slides.length-this.dots.length;e>0?this.addDots(e):e<0&&this.removeDots(-e)},o.prototype.addDots=function(e){for(var t=document.createDocumentFragment(),n=[];e;){var i=document.createElement("li");i.className="dot",t.appendChild(i),n.push(i),e--}this.holder.appendChild(t),this.dots=this.dots.concat(n)},o.prototype.removeDots=function(e){this.dots.splice(this.dots.length-e,e).forEach((function(e){this.holder.removeChild(e)}),this)},o.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot"),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected")},o.prototype.onTap=function(e){var t=e.target;if("LI"==t.nodeName){this.parent.uiChange();var n=this.dots.indexOf(t);this.parent.select(n)}},o.prototype.destroy=function(){this.deactivate()},t.PageDots=o,i.extend(t.defaults,{pageDots:!0}),t.createMethods.push("_createPageDots");var r=t.prototype;return r._createPageDots=function(){this.options.pageDots&&(this.pageDots=new o(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},r.activatePageDots=function(){this.pageDots.activate()},r.updateSelectedPageDots=function(){this.pageDots.updateSelected()},r.updatePageDots=function(){this.pageDots.setDots()},r.deactivatePageDots=function(){this.pageDots.deactivate()},t.PageDots=o,t})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],(function(e,n,i){return t(e,n,i)})):"object"==typeof module&&module.exports?module.exports=t(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):t(e.EvEmitter,e.fizzyUIUtils,e.Flickity)}(window,(function(e,t,n){function i(e){this.parent=e,this.state="stopped",r&&(this.onVisibilityChange=function(){this.visibilityChange()}.bind(this),this.onVisibilityPlay=function(){this.visibilityPlay()}.bind(this))}var o,r;"hidden"in document?(o="hidden",r="visibilitychange"):"webkitHidden"in document&&(o="webkitHidden",r="webkitvisibilitychange"),i.prototype=Object.create(e.prototype),i.prototype.play=function(){if("playing"!=this.state){var e=document[o];if(r&&e)return void document.addEventListener(r,this.onVisibilityPlay);this.state="playing",r&&document.addEventListener(r,this.onVisibilityChange),this.tick()}},i.prototype.tick=function(){if("playing"==this.state){var e=this.parent.options.autoPlay;e="number"==typeof e?e:3e3;var t=this;this.clear(),this.timeout=setTimeout((function(){t.parent.next(!0),t.tick()}),e)}},i.prototype.stop=function(){this.state="stopped",this.clear(),r&&document.removeEventListener(r,this.onVisibilityChange)},i.prototype.clear=function(){clearTimeout(this.timeout)},i.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},i.prototype.unpause=function(){"paused"==this.state&&this.play()},i.prototype.visibilityChange=function(){this[document[o]?"pause":"unpause"]()},i.prototype.visibilityPlay=function(){this.play(),document.removeEventListener(r,this.onVisibilityPlay)},t.extend(n.defaults,{pauseAutoPlayOnHover:!0}),n.createMethods.push("_createPlayer");var s=n.prototype;return s._createPlayer=function(){this.player=new i(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},s.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},s.playPlayer=function(){this.player.play()},s.stopPlayer=function(){this.player.stop()},s.pausePlayer=function(){this.player.pause()},s.unpausePlayer=function(){this.player.unpause()},s.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},s.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},s.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},n.Player=i,n})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],(function(n,i){return t(e,n,i)})):"object"==typeof module&&module.exports?module.exports=t(e,require("./flickity"),require("fizzy-ui-utils")):t(e,e.Flickity,e.fizzyUIUtils)}(window,(function(e,t,n){var i=t.prototype;return i.insert=function(e,t){var n=this._makeCells(e);if(n&&n.length){var i=this.cells.length;t=void 0===t?i:t;var o=function(e){var t=document.createDocumentFragment();return e.forEach((function(e){t.appendChild(e.element)})),t}(n),r=t==i;if(r)this.slider.appendChild(o);else{var s=this.cells[t].element;this.slider.insertBefore(o,s)}if(0===t)this.cells=n.concat(this.cells);else if(r)this.cells=this.cells.concat(n);else{var a=this.cells.splice(t,i-t);this.cells=this.cells.concat(n).concat(a)}this._sizeCells(n);var l=t>this.selectedIndex?0:n.length;this._cellAddedRemoved(t,l)}},i.append=function(e){this.insert(e,this.cells.length)},i.prepend=function(e){this.insert(e,0)},i.remove=function(e){var t,i,o=this.getCells(e),r=0,s=o.length;for(t=0;t<s;t++){i=o[t],r-=this.cells.indexOf(i)<this.selectedIndex?1:0}for(t=0;t<s;t++)(i=o[t]).remove(),n.removeFrom(this.cells,i);o.length&&this._cellAddedRemoved(0,r)},i._cellAddedRemoved=function(e,t){t=t||0,this.selectedIndex+=t,this.selectedIndex=Math.max(0,Math.min(this.slides.length-1,this.selectedIndex)),this.cellChange(e,!0),this.emitEvent("cellAddedRemoved",[e,t])},i.cellSizeChange=function(e){var t=this.getCell(e);if(t){t.getSize();var n=this.cells.indexOf(t);this.cellChange(n)}},i.cellChange=function(e,t){var n=this.slideableWidth;if(this._positionCells(e),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("cellChange",[e]),this.options.freeScroll){var i=n-this.slideableWidth;this.x+=i*this.cellAlign,this.positionSlider()}else t&&this.positionSliderAtSelected(),this.select(this.selectedIndex)},t})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],(function(n,i){return t(e,n,i)})):"object"==typeof module&&module.exports?module.exports=t(e,require("./flickity"),require("fizzy-ui-utils")):t(e,e.Flickity,e.fizzyUIUtils)}(window,(function(e,t,n){"use strict";function i(e){if("IMG"==e.nodeName&&e.getAttribute("data-flickity-lazyload"))return[e];var t=e.querySelectorAll("img[data-flickity-lazyload]");return n.makeArray(t)}function o(e,t){this.img=e,this.flickity=t,this.load()}t.createMethods.push("_createLazyload");var r=t.prototype;return r._createLazyload=function(){this.on("select",this.lazyLoad)},r.lazyLoad=function(){var e=this.options.lazyLoad;if(e){var t="number"==typeof e?e:0,n=this.getAdjacentCellElements(t),r=[];n.forEach((function(e){var t=i(e);r=r.concat(t)})),r.forEach((function(e){new o(e,this)}),this)}},o.prototype.handleEvent=n.handleEvent,o.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.img.getAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload")},o.prototype.onload=function(e){this.complete(e,"flickity-lazyloaded")},o.prototype.onerror=function(e){this.complete(e,"flickity-lazyerror")},o.prototype.complete=function(e,t){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var n=this.flickity.getParentCell(this.img),i=n&&n.element;this.flickity.cellSizeChange(i),this.img.classList.add(t),this.flickity.dispatchEvent("lazyLoad",e,i)},t.LazyLoader=o,t})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],t):"object"==typeof module&&module.exports&&(module.exports=t(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,(function(e){return e})),function(e,t){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],t):"object"==typeof module&&module.exports?module.exports=t(require("flickity"),require("fizzy-ui-utils")):e.Flickity=t(e.Flickity,e.fizzyUIUtils)}(window,(function(e,t){e.createMethods.push("_createAsNavFor");var n=e.prototype;return n._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var e=this.options.asNavFor;if(e){var t=this;setTimeout((function(){t.setNavCompanion(e)}))}},n.setNavCompanion=function(n){n=t.getQueryElement(n);var i=e.data(n);if(i&&i!=this){this.navCompanion=i;var o=this;this.onNavCompanionSelect=function(){o.navCompanionSelect()},i.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0)}},n.navCompanionSelect=function(e){if(this.navCompanion){var t=this.navCompanion.selectedCells[0],n=this.navCompanion.cells.indexOf(t),i=n+this.navCompanion.selectedCells.length-1,o=Math.floor(function(e,t,n){return(t-e)*n+e}(n,i,this.navCompanion.cellAlign));if(this.selectCell(o,!1,e),this.removeNavSelectedElements(),!(o>=this.cells.length)){var r=this.cells.slice(n,i+1);this.navSelectedElements=r.map((function(e){return e.element})),this.changeNavSelectedClass("add")}}},n.changeNavSelectedClass=function(e){this.navSelectedElements.forEach((function(t){t.classList[e]("is-nav-selected")}))},n.activateAsNavFor=function(){this.navCompanionSelect(!0)},n.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},n.onNavStaticClick=function(e,t,n,i){"number"==typeof i&&this.navCompanion.selectCell(i)},n.deactivateAsNavFor=function(){this.removeNavSelectedElements()},n.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},e})),function(e,t){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}(window,(function(e,t){function n(e,t){for(var n in t)e[n]=t[n];return e}function i(e,t,o){return this instanceof i?("string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=function(e){var t=[];if(Array.isArray(e))t=e;else if("number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}(e),this.options=n({},this.options),"function"==typeof t?o=t:n(this.options,t),o&&this.on("always",o),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(function(){this.check()}.bind(this))):new i(e,t,o)}function o(e){this.img=e}function r(e,t){this.url=e,this.element=t,this.img=new Image}var s=e.jQuery,a=e.console;i.prototype=Object.create(t.prototype),i.prototype.options={},i.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},i.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&l[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(i=0;i<r.length;i++){var s=r[i];this.addElementBackgroundImages(s)}}}};var l={1:!0,9:!0,11:!0};return i.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,e),i=n.exec(t.backgroundImage)}},i.prototype.addImage=function(e){var t=new o(e);this.images.push(t)},i.prototype.addBackground=function(e,t){var n=new r(e,t);this.images.push(n)},i.prototype.check=function(){function e(e,n,i){setTimeout((function(){t.progress(e,n,i)}))}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach((function(t){t.once("progress",e),t.check()})):void this.complete()},i.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+n,e,t)},i.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},o.prototype=Object.create(t.prototype),o.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},o.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},o.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype=Object.create(o.prototype),r.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},r.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},i.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((s=t).fn.imagesLoaded=function(e,t){return new i(this,e,t).jqDeferred.promise(s(this))})},i.makeJQueryPlugin(),i})),function(e,t){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],(function(n,i){return t(e,n,i)})):"object"==typeof module&&module.exports?module.exports=t(e,require("flickity"),require("imagesloaded")):e.Flickity=t(e,e.Flickity,e.imagesLoaded)}(window,(function(e,t,n){"use strict";t.createMethods.push("_createImagesLoaded");var i=t.prototype;return i._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},i.imagesLoaded=function(){if(this.options.imagesLoaded){var e=this;n(this.slider).on("progress",(function(t,n){var i=e.getParentCell(n.img);e.cellSizeChange(i&&i.element),e.options.freeScroll||e.positionSliderAtSelected()}))}},t}));